var Ti=Object.defineProperty;var Di=(n,t,r)=>t in n?Ti(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var ct=(n,t,r)=>(Di(n,typeof t!="symbol"?t+"":t,r),r);function N0(n,t){return function(){return n.apply(t,arguments)}}const{toString:Ri}=Object.prototype,{getPrototypeOf:nn}=Object,Kt=(n=>t=>{const r=Ri.call(t);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ke=n=>(n=n.toLowerCase(),t=>Kt(t)===n),jt=n=>t=>typeof t===n,{isArray:Et}=Array,Ft=jt("undefined");function Mi(n){return n!==null&&!Ft(n)&&n.constructor!==null&&!Ft(n.constructor)&&Re(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const P0=Ke("ArrayBuffer");function Oi(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&P0(n.buffer),t}const Ui=jt("string"),Re=jt("function"),L0=jt("number"),$t=n=>n!==null&&typeof n=="object",Ni=n=>n===!0||n===!1,Lt=n=>{if(Kt(n)!=="object")return!1;const t=nn(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Pi=Ke("Date"),Li=Ke("File"),Hi=Ke("Blob"),qi=Ke("FileList"),zi=n=>$t(n)&&Re(n.pipe),Wi=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Re(n.append)&&((t=Kt(n))==="formdata"||t==="object"&&Re(n.toString)&&n.toString()==="[object FormData]"))},Gi=Ke("URLSearchParams"),Ki=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rt(n,t,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let e,i;if(typeof n!="object"&&(n=[n]),Et(n))for(e=0,i=n.length;e<i;e++)t.call(null,n[e],e,n);else{const s=r?Object.getOwnPropertyNames(n):Object.keys(n),f=s.length;let o;for(e=0;e<f;e++)o=s[e],t.call(null,n[o],o,n)}}function H0(n,t){t=t.toLowerCase();const r=Object.keys(n);let e=r.length,i;for(;e-- >0;)if(i=r[e],t===i.toLowerCase())return i;return null}const q0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),z0=n=>!Ft(n)&&n!==q0;function jr(){const{caseless:n}=z0(this)&&this||{},t={},r=(e,i)=>{const s=n&&H0(t,i)||i;Lt(t[s])&&Lt(e)?t[s]=jr(t[s],e):Lt(e)?t[s]=jr({},e):Et(e)?t[s]=e.slice():t[s]=e};for(let e=0,i=arguments.length;e<i;e++)arguments[e]&&Rt(arguments[e],r);return t}const ji=(n,t,r,{allOwnKeys:e}={})=>(Rt(t,(i,s)=>{r&&Re(i)?n[s]=N0(i,r):n[s]=i},{allOwnKeys:e}),n),$i=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Vi=(n,t,r,e)=>{n.prototype=Object.create(t.prototype,e),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),r&&Object.assign(n.prototype,r)},Xi=(n,t,r,e)=>{let i,s,f;const o={};if(t=t||{},n==null)return t;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)f=i[s],(!e||e(f,n,t))&&!o[f]&&(t[f]=n[f],o[f]=!0);n=r!==!1&&nn(n)}while(n&&(!r||r(n,t))&&n!==Object.prototype);return t},Qi=(n,t,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=t.length;const e=n.indexOf(t,r);return e!==-1&&e===r},Yi=n=>{if(!n)return null;if(Et(n))return n;let t=n.length;if(!L0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=n[t];return r},Ji=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&nn(Uint8Array)),Zi=(n,t)=>{const e=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=e.next())&&!i.done;){const s=i.value;t.call(n,s[0],s[1])}},es=(n,t)=>{let r;const e=[];for(;(r=n.exec(t))!==null;)e.push(r);return e},ts=Ke("HTMLFormElement"),rs=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,e,i){return e.toUpperCase()+i}),Cn=(({hasOwnProperty:n})=>(t,r)=>n.call(t,r))(Object.prototype),ns=Ke("RegExp"),W0=(n,t)=>{const r=Object.getOwnPropertyDescriptors(n),e={};Rt(r,(i,s)=>{t(i,s,n)!==!1&&(e[s]=i)}),Object.defineProperties(n,e)},is=n=>{W0(n,(t,r)=>{if(Re(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const e=n[r];if(Re(e)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ss=(n,t)=>{const r={},e=i=>{i.forEach(s=>{r[s]=!0})};return Et(n)?e(n):e(String(n).split(t)),r},os=()=>{},as=(n,t)=>(n=+n,Number.isFinite(n)?n:t),tr="abcdefghijklmnopqrstuvwxyz",Sn="0123456789",G0={DIGIT:Sn,ALPHA:tr,ALPHA_DIGIT:tr+tr.toUpperCase()+Sn},fs=(n=16,t=G0.ALPHA_DIGIT)=>{let r="";const{length:e}=t;for(;n--;)r+=t[Math.random()*e|0];return r};function cs(n){return!!(n&&Re(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const us=n=>{const t=new Array(10),r=(e,i)=>{if($t(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const s=Et(e)?[]:{};return Rt(e,(f,o)=>{const p=r(f,i+1);!Ft(p)&&(s[o]=p)}),t[i]=void 0,s}}return e};return r(n,0)},hs=Ke("AsyncFunction"),ls=n=>n&&($t(n)||Re(n))&&Re(n.then)&&Re(n.catch),$={isArray:Et,isArrayBuffer:P0,isBuffer:Mi,isFormData:Wi,isArrayBufferView:Oi,isString:Ui,isNumber:L0,isBoolean:Ni,isObject:$t,isPlainObject:Lt,isUndefined:Ft,isDate:Pi,isFile:Li,isBlob:Hi,isRegExp:ns,isFunction:Re,isStream:zi,isURLSearchParams:Gi,isTypedArray:Ji,isFileList:qi,forEach:Rt,merge:jr,extend:ji,trim:Ki,stripBOM:$i,inherits:Vi,toFlatObject:Xi,kindOf:Kt,kindOfTest:Ke,endsWith:Qi,toArray:Yi,forEachEntry:Zi,matchAll:es,isHTMLForm:ts,hasOwnProperty:Cn,hasOwnProp:Cn,reduceDescriptors:W0,freezeMethods:is,toObjectSet:ss,toCamelCase:rs,noop:os,toFiniteNumber:as,findKey:H0,global:q0,isContextDefined:z0,ALPHABET:G0,generateString:fs,isSpecCompliantForm:cs,toJSONObject:us,isAsyncFn:hs,isThenable:ls};function de(n,t,r,e,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),e&&(this.request=e),i&&(this.response=i)}$.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const K0=de.prototype,j0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{j0[n]={value:n}});Object.defineProperties(de,j0);Object.defineProperty(K0,"isAxiosError",{value:!0});de.from=(n,t,r,e,i,s)=>{const f=Object.create(K0);return $.toFlatObject(n,f,function(p){return p!==Error.prototype},o=>o!=="isAxiosError"),de.call(f,n.message,t,r,e,i),f.cause=n,f.name=n.name,s&&Object.assign(f,s),f};const xs=null;function $r(n){return $.isPlainObject(n)||$.isArray(n)}function $0(n){return $.endsWith(n,"[]")?n.slice(0,-2):n}function Bn(n,t,r){return n?n.concat(t).map(function(i,s){return i=$0(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function ds(n){return $.isArray(n)&&!n.some($r)}const ps=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Vt(n,t,r){if(!$.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,T){return!$.isUndefined(T[k])});const e=r.metaTokens,i=r.visitor||l,s=r.dots,f=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function a(E){if(E===null)return"";if($.isDate(E))return E.toISOString();if(!p&&$.isBlob(E))throw new de("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(E)||$.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function l(E,k,T){let P=E;if(E&&!T&&typeof E=="object"){if($.endsWith(k,"{}"))k=e?k:k.slice(0,-2),E=JSON.stringify(E);else if($.isArray(E)&&ds(E)||($.isFileList(E)||$.endsWith(k,"[]"))&&(P=$.toArray(E)))return k=$0(k),P.forEach(function(I,D){!($.isUndefined(I)||I===null)&&t.append(f===!0?Bn([k],D,s):f===null?k:k+"[]",a(I))}),!1}return $r(E)?!0:(t.append(Bn(T,k,s),a(E)),!1)}const S=[],m=Object.assign(ps,{defaultVisitor:l,convertValue:a,isVisitable:$r});function B(E,k){if(!$.isUndefined(E)){if(S.indexOf(E)!==-1)throw Error("Circular reference detected in "+k.join("."));S.push(E),$.forEach(E,function(P,w){(!($.isUndefined(P)||P===null)&&i.call(t,P,$.isString(w)?w.trim():w,k,m))===!0&&B(P,k?k.concat(w):[w])}),S.pop()}}if(!$.isObject(n))throw new TypeError("data must be an object");return B(n),t}function An(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function sn(n,t){this._pairs=[],n&&Vt(n,this,t)}const V0=sn.prototype;V0.append=function(t,r){this._pairs.push([t,r])};V0.toString=function(t){const r=t?function(e){return t.call(this,e,An)}:An;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function vs(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X0(n,t,r){if(!t)return n;const e=r&&r.encode||vs,i=r&&r.serialize;let s;if(i?s=i(t,r):s=$.isURLSearchParams(t)?t.toString():new sn(t,r).toString(e),s){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class ys{constructor(){this.handlers=[]}use(t,r,e){return this.handlers.push({fulfilled:t,rejected:r,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(e){e!==null&&t(e)})}}const _n=ys,Q0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gs=typeof URLSearchParams<"u"?URLSearchParams:sn,bs=typeof FormData<"u"?FormData:null,ws=typeof Blob<"u"?Blob:null,ms=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Es=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ge={isBrowser:!0,classes:{URLSearchParams:gs,FormData:bs,Blob:ws},isStandardBrowserEnv:ms,isStandardBrowserWebWorkerEnv:Es,protocols:["http","https","file","blob","url","data"]};function Cs(n,t){return Vt(n,new Ge.classes.URLSearchParams,Object.assign({visitor:function(r,e,i,s){return Ge.isNode&&$.isBuffer(r)?(this.append(e,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Ss(n){return $.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bs(n){const t={},r=Object.keys(n);let e;const i=r.length;let s;for(e=0;e<i;e++)s=r[e],t[s]=n[s];return t}function Y0(n){function t(r,e,i,s){let f=r[s++];const o=Number.isFinite(+f),p=s>=r.length;return f=!f&&$.isArray(i)?i.length:f,p?($.hasOwnProp(i,f)?i[f]=[i[f],e]:i[f]=e,!o):((!i[f]||!$.isObject(i[f]))&&(i[f]=[]),t(r,e,i[f],s)&&$.isArray(i[f])&&(i[f]=Bs(i[f])),!o)}if($.isFormData(n)&&$.isFunction(n.entries)){const r={};return $.forEachEntry(n,(e,i)=>{t(Ss(e),i,r,0)}),r}return null}const As={"Content-Type":void 0};function _s(n,t,r){if($.isString(n))try{return(t||JSON.parse)(n),$.trim(n)}catch(e){if(e.name!=="SyntaxError")throw e}return(r||JSON.stringify)(n)}const Xt={transitional:Q0,adapter:["xhr","http"],transformRequest:[function(t,r){const e=r.getContentType()||"",i=e.indexOf("application/json")>-1,s=$.isObject(t);if(s&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return i&&i?JSON.stringify(Y0(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(e.indexOf("application/x-www-form-urlencoded")>-1)return Cs(t,this.formSerializer).toString();if((o=$.isFileList(t))||e.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Vt(o?{"files[]":t}:t,p&&new p,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),_s(t)):t}],transformResponse:[function(t){const r=this.transitional||Xt.transitional,e=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&$.isString(t)&&(e&&!this.responseType||i)){const f=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(f)throw o.name==="SyntaxError"?de.from(o,de.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$.forEach(["delete","get","head"],function(t){Xt.headers[t]={}});$.forEach(["post","put","patch"],function(t){Xt.headers[t]=$.merge(As)});const on=Xt,ks=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Is=n=>{const t={};let r,e,i;return n&&n.split(`
`).forEach(function(f){i=f.indexOf(":"),r=f.substring(0,i).trim().toLowerCase(),e=f.substring(i+1).trim(),!(!r||t[r]&&ks[r])&&(r==="set-cookie"?t[r]?t[r].push(e):t[r]=[e]:t[r]=t[r]?t[r]+", "+e:e)}),t},kn=Symbol("internals");function _t(n){return n&&String(n).trim().toLowerCase()}function Ht(n){return n===!1||n==null?n:$.isArray(n)?n.map(Ht):String(n)}function Fs(n){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=r.exec(n);)t[e[1]]=e[2];return t}const Ts=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function rr(n,t,r,e,i){if($.isFunction(e))return e.call(this,t,r);if(i&&(t=r),!!$.isString(t)){if($.isString(e))return t.indexOf(e)!==-1;if($.isRegExp(e))return e.test(t)}}function Ds(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,e)=>r.toUpperCase()+e)}function Rs(n,t){const r=$.toCamelCase(" "+t);["get","set","has"].forEach(e=>{Object.defineProperty(n,e+r,{value:function(i,s,f){return this[e].call(this,t,i,s,f)},configurable:!0})})}class Qt{constructor(t){t&&this.set(t)}set(t,r,e){const i=this;function s(o,p,a){const l=_t(p);if(!l)throw new Error("header name must be a non-empty string");const S=$.findKey(i,l);(!S||i[S]===void 0||a===!0||a===void 0&&i[S]!==!1)&&(i[S||p]=Ht(o))}const f=(o,p)=>$.forEach(o,(a,l)=>s(a,l,p));return $.isPlainObject(t)||t instanceof this.constructor?f(t,r):$.isString(t)&&(t=t.trim())&&!Ts(t)?f(Is(t),r):t!=null&&s(r,t,e),this}get(t,r){if(t=_t(t),t){const e=$.findKey(this,t);if(e){const i=this[e];if(!r)return i;if(r===!0)return Fs(i);if($.isFunction(r))return r.call(this,i,e);if($.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_t(t),t){const e=$.findKey(this,t);return!!(e&&this[e]!==void 0&&(!r||rr(this,this[e],e,r)))}return!1}delete(t,r){const e=this;let i=!1;function s(f){if(f=_t(f),f){const o=$.findKey(e,f);o&&(!r||rr(e,e[o],o,r))&&(delete e[o],i=!0)}}return $.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let e=r.length,i=!1;for(;e--;){const s=r[e];(!t||rr(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,e={};return $.forEach(this,(i,s)=>{const f=$.findKey(e,s);if(f){r[f]=Ht(i),delete r[s];return}const o=t?Ds(s):String(s).trim();o!==s&&delete r[s],r[o]=Ht(i),e[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return $.forEach(this,(e,i)=>{e!=null&&e!==!1&&(r[i]=t&&$.isArray(e)?e.join(", "):e)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const e=new this(t);return r.forEach(i=>e.set(i)),e}static accessor(t){const e=(this[kn]=this[kn]={accessors:{}}).accessors,i=this.prototype;function s(f){const o=_t(f);e[o]||(Rs(i,f),e[o]=!0)}return $.isArray(t)?t.forEach(s):s(t),this}}Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.freezeMethods(Qt.prototype);$.freezeMethods(Qt);const Ve=Qt;function nr(n,t){const r=this||on,e=t||r,i=Ve.from(e.headers);let s=e.data;return $.forEach(n,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function J0(n){return!!(n&&n.__CANCEL__)}function Mt(n,t,r){de.call(this,n??"canceled",de.ERR_CANCELED,t,r),this.name="CanceledError"}$.inherits(Mt,de,{__CANCEL__:!0});function Ms(n,t,r){const e=r.config.validateStatus;!r.status||!e||e(r.status)?n(r):t(new de("Request failed with status code "+r.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Os=Ge.isStandardBrowserEnv?function(){return{write:function(r,e,i,s,f,o){const p=[];p.push(r+"="+encodeURIComponent(e)),$.isNumber(i)&&p.push("expires="+new Date(i).toGMTString()),$.isString(s)&&p.push("path="+s),$.isString(f)&&p.push("domain="+f),o===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Us(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ns(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}function Z0(n,t){return n&&!Us(t)?Ns(n,t):t}const Ps=Ge.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let e;function i(s){let f=s;return t&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(f){const o=$.isString(f)?i(f):f;return o.protocol===e.protocol&&o.host===e.host}}():function(){return function(){return!0}}();function Ls(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Hs(n,t){n=n||10;const r=new Array(n),e=new Array(n);let i=0,s=0,f;return t=t!==void 0?t:1e3,function(p){const a=Date.now(),l=e[s];f||(f=a),r[i]=p,e[i]=a;let S=s,m=0;for(;S!==i;)m+=r[S++],S=S%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),a-f<t)return;const B=l&&a-l;return B?Math.round(m*1e3/B):void 0}}function In(n,t){let r=0;const e=Hs(50,250);return i=>{const s=i.loaded,f=i.lengthComputable?i.total:void 0,o=s-r,p=e(o),a=s<=f;r=s;const l={loaded:s,total:f,progress:f?s/f:void 0,bytes:o,rate:p||void 0,estimated:p&&f&&a?(f-s)/p:void 0,event:i};l[t?"download":"upload"]=!0,n(l)}}const qs=typeof XMLHttpRequest<"u",zs=qs&&function(n){return new Promise(function(r,e){let i=n.data;const s=Ve.from(n.headers).normalize(),f=n.responseType;let o;function p(){n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}$.isFormData(i)&&(Ge.isStandardBrowserEnv||Ge.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let a=new XMLHttpRequest;if(n.auth){const B=n.auth.username||"",E=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(B+":"+E))}const l=Z0(n.baseURL,n.url);a.open(n.method.toUpperCase(),X0(l,n.params,n.paramsSerializer),!0),a.timeout=n.timeout;function S(){if(!a)return;const B=Ve.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),k={data:!f||f==="text"||f==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:B,config:n,request:a};Ms(function(P){r(P),p()},function(P){e(P),p()},k),a=null}if("onloadend"in a?a.onloadend=S:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(S)},a.onabort=function(){a&&(e(new de("Request aborted",de.ECONNABORTED,n,a)),a=null)},a.onerror=function(){e(new de("Network Error",de.ERR_NETWORK,n,a)),a=null},a.ontimeout=function(){let E=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const k=n.transitional||Q0;n.timeoutErrorMessage&&(E=n.timeoutErrorMessage),e(new de(E,k.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,n,a)),a=null},Ge.isStandardBrowserEnv){const B=(n.withCredentials||Ps(l))&&n.xsrfCookieName&&Os.read(n.xsrfCookieName);B&&s.set(n.xsrfHeaderName,B)}i===void 0&&s.setContentType(null),"setRequestHeader"in a&&$.forEach(s.toJSON(),function(E,k){a.setRequestHeader(k,E)}),$.isUndefined(n.withCredentials)||(a.withCredentials=!!n.withCredentials),f&&f!=="json"&&(a.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&a.addEventListener("progress",In(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",In(n.onUploadProgress)),(n.cancelToken||n.signal)&&(o=B=>{a&&(e(!B||B.type?new Mt(null,n,a):B),a.abort(),a=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const m=Ls(l);if(m&&Ge.protocols.indexOf(m)===-1){e(new de("Unsupported protocol "+m+":",de.ERR_BAD_REQUEST,n));return}a.send(i||null)})},qt={http:xs,xhr:zs};$.forEach(qt,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const Ws={getAdapter:n=>{n=$.isArray(n)?n:[n];const{length:t}=n;let r,e;for(let i=0;i<t&&(r=n[i],!(e=$.isString(r)?qt[r.toLowerCase()]:r));i++);if(!e)throw e===!1?new de(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error($.hasOwnProp(qt,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!$.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:qt};function ir(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Mt(null,n)}function Fn(n){return ir(n),n.headers=Ve.from(n.headers),n.data=nr.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ws.getAdapter(n.adapter||on.adapter)(n).then(function(e){return ir(n),e.data=nr.call(n,n.transformResponse,e),e.headers=Ve.from(e.headers),e},function(e){return J0(e)||(ir(n),e&&e.response&&(e.response.data=nr.call(n,n.transformResponse,e.response),e.response.headers=Ve.from(e.response.headers))),Promise.reject(e)})}const Tn=n=>n instanceof Ve?n.toJSON():n;function bt(n,t){t=t||{};const r={};function e(a,l,S){return $.isPlainObject(a)&&$.isPlainObject(l)?$.merge.call({caseless:S},a,l):$.isPlainObject(l)?$.merge({},l):$.isArray(l)?l.slice():l}function i(a,l,S){if($.isUndefined(l)){if(!$.isUndefined(a))return e(void 0,a,S)}else return e(a,l,S)}function s(a,l){if(!$.isUndefined(l))return e(void 0,l)}function f(a,l){if($.isUndefined(l)){if(!$.isUndefined(a))return e(void 0,a)}else return e(void 0,l)}function o(a,l,S){if(S in t)return e(a,l);if(S in n)return e(void 0,a)}const p={url:s,method:s,data:s,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:o,headers:(a,l)=>i(Tn(a),Tn(l),!0)};return $.forEach(Object.keys(Object.assign({},n,t)),function(l){const S=p[l]||i,m=S(n[l],t[l],l);$.isUndefined(m)&&S!==o||(r[l]=m)}),r}const ei="1.4.0",an={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{an[n]=function(e){return typeof e===n||"a"+(t<1?"n ":" ")+n}});const Dn={};an.transitional=function(t,r,e){function i(s,f){return"[Axios v"+ei+"] Transitional option '"+s+"'"+f+(e?". "+e:"")}return(s,f,o)=>{if(t===!1)throw new de(i(f," has been removed"+(r?" in "+r:"")),de.ERR_DEPRECATED);return r&&!Dn[f]&&(Dn[f]=!0,console.warn(i(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,f,o):!0}};function Gs(n,t,r){if(typeof n!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const e=Object.keys(n);let i=e.length;for(;i-- >0;){const s=e[i],f=t[s];if(f){const o=n[s],p=o===void 0||f(o,s,n);if(p!==!0)throw new de("option "+s+" must be "+p,de.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new de("Unknown option "+s,de.ERR_BAD_OPTION)}}const Vr={assertOptions:Gs,validators:an},Ze=Vr.validators;class Wt{constructor(t){this.defaults=t,this.interceptors={request:new _n,response:new _n}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=bt(this.defaults,r);const{transitional:e,paramsSerializer:i,headers:s}=r;e!==void 0&&Vr.assertOptions(e,{silentJSONParsing:Ze.transitional(Ze.boolean),forcedJSONParsing:Ze.transitional(Ze.boolean),clarifyTimeoutError:Ze.transitional(Ze.boolean)},!1),i!=null&&($.isFunction(i)?r.paramsSerializer={serialize:i}:Vr.assertOptions(i,{encode:Ze.function,serialize:Ze.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f;f=s&&$.merge(s.common,s[r.method]),f&&$.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),r.headers=Ve.concat(f,s);const o=[];let p=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(p=p&&k.synchronous,o.unshift(k.fulfilled,k.rejected))});const a=[];this.interceptors.response.forEach(function(k){a.push(k.fulfilled,k.rejected)});let l,S=0,m;if(!p){const E=[Fn.bind(this),void 0];for(E.unshift.apply(E,o),E.push.apply(E,a),m=E.length,l=Promise.resolve(r);S<m;)l=l.then(E[S++],E[S++]);return l}m=o.length;let B=r;for(S=0;S<m;){const E=o[S++],k=o[S++];try{B=E(B)}catch(T){k.call(this,T);break}}try{l=Fn.call(this,B)}catch(E){return Promise.reject(E)}for(S=0,m=a.length;S<m;)l=l.then(a[S++],a[S++]);return l}getUri(t){t=bt(this.defaults,t);const r=Z0(t.baseURL,t.url);return X0(r,t.params,t.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(t){Wt.prototype[t]=function(r,e){return this.request(bt(e||{},{method:t,url:r,data:(e||{}).data}))}});$.forEach(["post","put","patch"],function(t){function r(e){return function(s,f,o){return this.request(bt(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:s,data:f}))}}Wt.prototype[t]=r(),Wt.prototype[t+"Form"]=r(!0)});const zt=Wt;class fn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const e=this;this.promise.then(i=>{if(!e._listeners)return;let s=e._listeners.length;for(;s-- >0;)e._listeners[s](i);e._listeners=null}),this.promise.then=i=>{let s;const f=new Promise(o=>{e.subscribe(o),s=o}).then(i);return f.cancel=function(){e.unsubscribe(s)},f},t(function(s,f,o){e.reason||(e.reason=new Mt(s,f,o),r(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new fn(function(i){t=i}),cancel:t}}}const Ks=fn;function js(n){return function(r){return n.apply(null,r)}}function $s(n){return $.isObject(n)&&n.isAxiosError===!0}const Xr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xr).forEach(([n,t])=>{Xr[t]=n});const Vs=Xr;function ti(n){const t=new zt(n),r=N0(zt.prototype.request,t);return $.extend(r,zt.prototype,t,{allOwnKeys:!0}),$.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return ti(bt(n,i))},r}const me=ti(on);me.Axios=zt;me.CanceledError=Mt;me.CancelToken=Ks;me.isCancel=J0;me.VERSION=ei;me.toFormData=Vt;me.AxiosError=de;me.Cancel=me.CanceledError;me.all=function(t){return Promise.all(t)};me.spread=js;me.isAxiosError=$s;me.mergeConfig=bt;me.AxiosHeaders=Ve;me.formToJSON=n=>Y0($.isHTMLForm(n)?new FormData(n):n);me.HttpStatusCode=Vs;me.default=me;const ut=me;class Xs{constructor(){ct(this,"_apiURL","");ct(this,"_token","");ct(this,"tokenCallback")}set apiURL(t){this._apiURL=t,ut.defaults.baseURL=t}get apiURL(){return this._apiURL}}const vn=class{constructor(){ct(this,"config",new Xs);ct(this,"logoutCallback");this.initAxios()}initAxios(){const t=this;ut.interceptors.request.use(function(r){let e;return t.config.tokenCallback&&(e=t.config.tokenCallback()),e&&e!==""&&(r.headers.token=e),r}),ut.interceptors.response.use(function(r){return r},function(r){var i;var e="";switch(r.response&&r.response.status){case 400:e=r.response.data.msg;break;case 404:e="请求地址没有找到（404）";break;case 401:t.logoutCallback&&t.logoutCallback();default:e="未知错误";break}return Promise.reject({error:r,msg:e,status:(i=r==null?void 0:r.response)==null?void 0:i.status})})}get(t,r){return this.wrapResult(ut.get(t,{params:r==null?void 0:r.param}),r)}post(t,r,e){return this.wrapResult(ut.post(t,r,{}),e)}put(t,r,e){return this.wrapResult(ut.put(t,r,{params:e==null?void 0:e.param}),e)}delete(t,r){return this.wrapResult(ut.delete(t,{params:r==null?void 0:r.param,data:r==null?void 0:r.data}),r)}async wrapResult(t,r){return t?t.then(e=>{if(!r||!r.resp)return Promise.resolve(e.data);if(e.data){const f=new Array;if(e.data instanceof Array){for(const o of e.data){var i=r.resp();i.fill(o),f.push(i)}return f}else{var s=r.resp();return s.fill(e.data),Promise.resolve(s)}}return Promise.resolve()}):Promise.reject()}};let sr=vn;ct(sr,"shared",new vn);var nt=function(){function n(){}return n.unknown=0,n.text=1,n.image=2,n.cmd=99,n.signalMessage=21e3,n}(),Qs=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,or=Math.ceil,ze=Math.floor,_e="[BigNumber Error] ",Rn=_e+"Number primitive has more than 15 significant digits: ",Ue=1e14,ie=14,ar=9007199254740991,fr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],et=1e7,Ee=1e9;function ri(n){var t,r,e,i=w.prototype={constructor:w,toString:null,valueOf:null},s=new w(1),f=20,o=4,p=-7,a=21,l=-1e7,S=1e7,m=!1,B=1,E=0,k={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz",P=!0;function w(x,v){var h,d,g,b,_,C,F,U,M=this;if(!(M instanceof w))return new w(x,v);if(v==null){if(x&&x._isBigNumber===!0){M.s=x.s,!x.c||x.e>S?M.c=M.e=null:x.e<l?M.c=[M.e=0]:(M.e=x.e,M.c=x.c.slice());return}if((C=typeof x=="number")&&x*0==0){if(M.s=1/x<0?(x=-x,-1):1,x===~~x){for(b=0,_=x;_>=10;_/=10,b++);b>S?M.c=M.e=null:(M.e=b,M.c=[x]);return}U=String(x)}else{if(!Qs.test(U=String(x)))return e(M,U,C);M.s=U.charCodeAt(0)==45?(U=U.slice(1),-1):1}(b=U.indexOf("."))>-1&&(U=U.replace(".","")),(_=U.search(/e/i))>0?(b<0&&(b=_),b+=+U.slice(_+1),U=U.substring(0,_)):b<0&&(b=U.length)}else{if(we(v,2,T.length,"Base"),v==10&&P)return M=new w(x),N(M,f+M.e+1,o);if(U=String(x),C=typeof x=="number"){if(x*0!=0)return e(M,U,C,v);if(M.s=1/x<0?(U=U.slice(1),-1):1,w.DEBUG&&U.replace(/^0\.0*|\./,"").length>15)throw Error(Rn+x)}else M.s=U.charCodeAt(0)===45?(U=U.slice(1),-1):1;for(h=T.slice(0,v),b=_=0,F=U.length;_<F;_++)if(h.indexOf(d=U.charAt(_))<0){if(d=="."){if(_>b){b=F;continue}}else if(!g&&(U==U.toUpperCase()&&(U=U.toLowerCase())||U==U.toLowerCase()&&(U=U.toUpperCase()))){g=!0,_=-1,b=0;continue}return e(M,String(x),C,v)}C=!1,U=r(U,v,10,M.s),(b=U.indexOf("."))>-1?U=U.replace(".",""):b=U.length}for(_=0;U.charCodeAt(_)===48;_++);for(F=U.length;U.charCodeAt(--F)===48;);if(U=U.slice(_,++F)){if(F-=_,C&&w.DEBUG&&F>15&&(x>ar||x!==ze(x)))throw Error(Rn+M.s*x);if((b=b-_-1)>S)M.c=M.e=null;else if(b<l)M.c=[M.e=0];else{if(M.e=b,M.c=[],_=(b+1)%ie,b<0&&(_+=ie),_<F){for(_&&M.c.push(+U.slice(0,_)),F-=ie;_<F;)M.c.push(+U.slice(_,_+=ie));_=ie-(U=U.slice(_)).length}else _-=F;for(;_--;U+="0");M.c.push(+U)}}else M.c=[M.e=0]}w.clone=ri,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.EUCLID=9,w.config=w.set=function(x){var v,h;if(x!=null)if(typeof x=="object"){if(x.hasOwnProperty(v="DECIMAL_PLACES")&&(h=x[v],we(h,0,Ee,v),f=h),x.hasOwnProperty(v="ROUNDING_MODE")&&(h=x[v],we(h,0,8,v),o=h),x.hasOwnProperty(v="EXPONENTIAL_AT")&&(h=x[v],h&&h.pop?(we(h[0],-Ee,0,v),we(h[1],0,Ee,v),p=h[0],a=h[1]):(we(h,-Ee,Ee,v),p=-(a=h<0?-h:h))),x.hasOwnProperty(v="RANGE"))if(h=x[v],h&&h.pop)we(h[0],-Ee,-1,v),we(h[1],1,Ee,v),l=h[0],S=h[1];else if(we(h,-Ee,Ee,v),h)l=-(S=h<0?-h:h);else throw Error(_e+v+" cannot be zero: "+h);if(x.hasOwnProperty(v="CRYPTO"))if(h=x[v],h===!!h)if(h)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))m=h;else throw m=!h,Error(_e+"crypto unavailable");else m=h;else throw Error(_e+v+" not true or false: "+h);if(x.hasOwnProperty(v="MODULO_MODE")&&(h=x[v],we(h,0,9,v),B=h),x.hasOwnProperty(v="POW_PRECISION")&&(h=x[v],we(h,0,Ee,v),E=h),x.hasOwnProperty(v="FORMAT"))if(h=x[v],typeof h=="object")k=h;else throw Error(_e+v+" not an object: "+h);if(x.hasOwnProperty(v="ALPHABET"))if(h=x[v],typeof h=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(h))P=h.slice(0,10)=="0123456789",T=h;else throw Error(_e+v+" invalid: "+h)}else throw Error(_e+"Object expected: "+x);return{DECIMAL_PLACES:f,ROUNDING_MODE:o,EXPONENTIAL_AT:[p,a],RANGE:[l,S],CRYPTO:m,MODULO_MODE:B,POW_PRECISION:E,FORMAT:k,ALPHABET:T}},w.isBigNumber=function(x){if(!x||x._isBigNumber!==!0)return!1;if(!w.DEBUG)return!0;var v,h,d=x.c,g=x.e,b=x.s;e:if({}.toString.call(d)=="[object Array]"){if((b===1||b===-1)&&g>=-Ee&&g<=Ee&&g===ze(g)){if(d[0]===0){if(g===0&&d.length===1)return!0;break e}if(v=(g+1)%ie,v<1&&(v+=ie),String(d[0]).length==v){for(v=0;v<d.length;v++)if(h=d[v],h<0||h>=Ue||h!==ze(h))break e;if(h!==0)return!0}}}else if(d===null&&g===null&&(b===null||b===1||b===-1))return!0;throw Error(_e+"Invalid BigNumber: "+x)},w.maximum=w.max=function(){return D(arguments,i.lt)},w.minimum=w.min=function(){return D(arguments,i.gt)},w.random=function(){var x=9007199254740992,v=Math.random()*x&2097151?function(){return ze(Math.random()*x)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(h){var d,g,b,_,C,F=0,U=[],M=new w(s);if(h==null?h=f:we(h,0,Ee),_=or(h/ie),m)if(crypto.getRandomValues){for(d=crypto.getRandomValues(new Uint32Array(_*=2));F<_;)C=d[F]*131072+(d[F+1]>>>11),C>=9e15?(g=crypto.getRandomValues(new Uint32Array(2)),d[F]=g[0],d[F+1]=g[1]):(U.push(C%1e14),F+=2);F=_/2}else if(crypto.randomBytes){for(d=crypto.randomBytes(_*=7);F<_;)C=(d[F]&31)*281474976710656+d[F+1]*1099511627776+d[F+2]*4294967296+d[F+3]*16777216+(d[F+4]<<16)+(d[F+5]<<8)+d[F+6],C>=9e15?crypto.randomBytes(7).copy(d,F):(U.push(C%1e14),F+=7);F=_/7}else throw m=!1,Error(_e+"crypto unavailable");if(!m)for(;F<_;)C=v(),C<9e15&&(U[F++]=C%1e14);for(_=U[--F],h%=ie,_&&h&&(C=fr[ie-h],U[F]=ze(_/C)*C);U[F]===0;U.pop(),F--);if(F<0)U=[b=0];else{for(b=-1;U[0]===0;U.splice(0,1),b-=ie);for(F=1,C=U[0];C>=10;C/=10,F++);F<ie&&(b-=ie-F)}return M.e=b,M.c=U,M}}(),w.sum=function(){for(var x=1,v=arguments,h=new w(v[0]);x<v.length;)h=h.plus(v[x++]);return h},r=function(){var x="0123456789";function v(h,d,g,b){for(var _,C=[0],F,U=0,M=h.length;U<M;){for(F=C.length;F--;C[F]*=d);for(C[0]+=b.indexOf(h.charAt(U++)),_=0;_<C.length;_++)C[_]>g-1&&(C[_+1]==null&&(C[_+1]=0),C[_+1]+=C[_]/g|0,C[_]%=g)}return C.reverse()}return function(h,d,g,b,_){var C,F,U,M,K,V,R,L,G=h.indexOf("."),z=f,X=o;for(G>=0&&(M=E,E=0,h=h.replace(".",""),L=new w(d),V=L.pow(h.length-G),E=M,L.c=v(je(Fe(V.c),V.e,"0"),10,g,x),L.e=L.c.length),R=v(h,d,g,_?(C=T,x):(C=x,T)),U=M=R.length;R[--M]==0;R.pop());if(!R[0])return C.charAt(0);if(G<0?--U:(V.c=R,V.e=U,V.s=b,V=t(V,L,z,X,g),R=V.c,K=V.r,U=V.e),F=U+z+1,G=R[F],M=g/2,K=K||F<0||R[F+1]!=null,K=X<4?(G!=null||K)&&(X==0||X==(V.s<0?3:2)):G>M||G==M&&(X==4||K||X==6&&R[F-1]&1||X==(V.s<0?8:7)),F<1||!R[0])h=K?je(C.charAt(1),-z,C.charAt(0)):C.charAt(0);else{if(R.length=F,K)for(--g;++R[--F]>g;)R[F]=0,F||(++U,R=[1].concat(R));for(M=R.length;!R[--M];);for(G=0,h="";G<=M;h+=C.charAt(R[G++]));h=je(h,U,C.charAt(0))}return h}}(),t=function(){function x(d,g,b){var _,C,F,U,M=0,K=d.length,V=g%et,R=g/et|0;for(d=d.slice();K--;)F=d[K]%et,U=d[K]/et|0,_=R*F+U*V,C=V*F+_%et*et+M,M=(C/b|0)+(_/et|0)+R*U,d[K]=C%b;return M&&(d=[M].concat(d)),d}function v(d,g,b,_){var C,F;if(b!=_)F=b>_?1:-1;else for(C=F=0;C<b;C++)if(d[C]!=g[C]){F=d[C]>g[C]?1:-1;break}return F}function h(d,g,b,_){for(var C=0;b--;)d[b]-=C,C=d[b]<g[b]?1:0,d[b]=C*_+d[b]-g[b];for(;!d[0]&&d.length>1;d.splice(0,1));}return function(d,g,b,_,C){var F,U,M,K,V,R,L,G,z,X,Q,Z,Y,fe,ce,oe,le,te=d.s==g.s?1:-1,ee=d.c,re=g.c;if(!ee||!ee[0]||!re||!re[0])return new w(!d.s||!g.s||(ee?re&&ee[0]==re[0]:!re)?NaN:ee&&ee[0]==0||!re?te*0:te/0);for(G=new w(te),z=G.c=[],U=d.e-g.e,te=b+U+1,C||(C=Ue,U=Te(d.e/ie)-Te(g.e/ie),te=te/ie|0),M=0;re[M]==(ee[M]||0);M++);if(re[M]>(ee[M]||0)&&U--,te<0)z.push(1),K=!0;else{for(fe=ee.length,oe=re.length,M=0,te+=2,V=ze(C/(re[0]+1)),V>1&&(re=x(re,V,C),ee=x(ee,V,C),oe=re.length,fe=ee.length),Y=oe,X=ee.slice(0,oe),Q=X.length;Q<oe;X[Q++]=0);le=re.slice(),le=[0].concat(le),ce=re[0],re[1]>=C/2&&ce++;do{if(V=0,F=v(re,X,oe,Q),F<0){if(Z=X[0],oe!=Q&&(Z=Z*C+(X[1]||0)),V=ze(Z/ce),V>1)for(V>=C&&(V=C-1),R=x(re,V,C),L=R.length,Q=X.length;v(R,X,L,Q)==1;)V--,h(R,oe<L?le:re,L,C),L=R.length,F=1;else V==0&&(F=V=1),R=re.slice(),L=R.length;if(L<Q&&(R=[0].concat(R)),h(X,R,Q,C),Q=X.length,F==-1)for(;v(re,X,oe,Q)<1;)V++,h(X,oe<Q?le:re,Q,C),Q=X.length}else F===0&&(V++,X=[0]);z[M++]=V,X[0]?X[Q++]=ee[Y]||0:(X=[ee[Y]],Q=1)}while((Y++<fe||X[0]!=null)&&te--);K=X[0]!=null,z[0]||z.splice(0,1)}if(C==Ue){for(M=1,te=z[0];te>=10;te/=10,M++);N(G,b+(G.e=M+U*ie-1)+1,_,K)}else G.e=U,G.r=+K;return G}}();function I(x,v,h,d){var g,b,_,C,F;if(h==null?h=o:we(h,0,8),!x.c)return x.toString();if(g=x.c[0],_=x.e,v==null)F=Fe(x.c),F=d==1||d==2&&(_<=p||_>=a)?Ut(F,_):je(F,_,"0");else if(x=N(new w(x),v,h),b=x.e,F=Fe(x.c),C=F.length,d==1||d==2&&(v<=b||b<=p)){for(;C<v;F+="0",C++);F=Ut(F,b)}else if(v-=_,F=je(F,b,"0"),b+1>C){if(--v>0)for(F+=".";v--;F+="0");}else if(v+=b-C,v>0)for(b+1==C&&(F+=".");v--;F+="0");return x.s<0&&g?"-"+F:F}function D(x,v){for(var h,d=1,g=new w(x[0]);d<x.length;d++)if(h=new w(x[d]),h.s)v.call(g,h)&&(g=h);else{g=h;break}return g}function q(x,v,h){for(var d=1,g=v.length;!v[--g];v.pop());for(g=v[0];g>=10;g/=10,d++);return(h=d+h*ie-1)>S?x.c=x.e=null:h<l?x.c=[x.e=0]:(x.e=h,x.c=v),x}e=function(){var x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,h=/^\.([^.]+)$/,d=/^-?(Infinity|NaN)$/,g=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(b,_,C,F){var U,M=C?_:_.replace(g,"");if(d.test(M))b.s=isNaN(M)?null:M<0?-1:1;else{if(!C&&(M=M.replace(x,function(K,V,R){return U=(R=R.toLowerCase())=="x"?16:R=="b"?2:8,!F||F==U?V:K}),F&&(U=F,M=M.replace(v,"$1").replace(h,"0.$1")),_!=M))return new w(M,U);if(w.DEBUG)throw Error(_e+"Not a"+(F?" base "+F:"")+" number: "+_);b.s=null}b.c=b.e=null}}();function N(x,v,h,d){var g,b,_,C,F,U,M,K=x.c,V=fr;if(K){e:{for(g=1,C=K[0];C>=10;C/=10,g++);if(b=v-g,b<0)b+=ie,_=v,F=K[U=0],M=F/V[g-_-1]%10|0;else if(U=or((b+1)/ie),U>=K.length)if(d){for(;K.length<=U;K.push(0));F=M=0,g=1,b%=ie,_=b-ie+1}else break e;else{for(F=C=K[U],g=1;C>=10;C/=10,g++);b%=ie,_=b-ie+g,M=_<0?0:F/V[g-_-1]%10|0}if(d=d||v<0||K[U+1]!=null||(_<0?F:F%V[g-_-1]),d=h<4?(M||d)&&(h==0||h==(x.s<0?3:2)):M>5||M==5&&(h==4||d||h==6&&(b>0?_>0?F/V[g-_]:0:K[U-1])%10&1||h==(x.s<0?8:7)),v<1||!K[0])return K.length=0,d?(v-=x.e+1,K[0]=V[(ie-v%ie)%ie],x.e=-v||0):K[0]=x.e=0,x;if(b==0?(K.length=U,C=1,U--):(K.length=U+1,C=V[ie-b],K[U]=_>0?ze(F/V[g-_]%V[_])*C:0),d)for(;;)if(U==0){for(b=1,_=K[0];_>=10;_/=10,b++);for(_=K[0]+=C,C=1;_>=10;_/=10,C++);b!=C&&(x.e++,K[0]==Ue&&(K[0]=1));break}else{if(K[U]+=C,K[U]!=Ue)break;K[U--]=0,C=1}for(b=K.length;K[--b]===0;K.pop());}x.e>S?x.c=x.e=null:x.e<l&&(x.c=[x.e=0])}return x}function H(x){var v,h=x.e;return h===null?x.toString():(v=Fe(x.c),v=h<=p||h>=a?Ut(v,h):je(v,h,"0"),x.s<0?"-"+v:v)}return i.absoluteValue=i.abs=function(){var x=new w(this);return x.s<0&&(x.s=1),x},i.comparedTo=function(x,v){return pt(this,new w(x,v))},i.decimalPlaces=i.dp=function(x,v){var h,d,g,b=this;if(x!=null)return we(x,0,Ee),v==null?v=o:we(v,0,8),N(new w(b),x+b.e+1,v);if(!(h=b.c))return null;if(d=((g=h.length-1)-Te(this.e/ie))*ie,g=h[g])for(;g%10==0;g/=10,d--);return d<0&&(d=0),d},i.dividedBy=i.div=function(x,v){return t(this,new w(x,v),f,o)},i.dividedToIntegerBy=i.idiv=function(x,v){return t(this,new w(x,v),0,1)},i.exponentiatedBy=i.pow=function(x,v){var h,d,g,b,_,C,F,U,M,K=this;if(x=new w(x),x.c&&!x.isInteger())throw Error(_e+"Exponent not an integer: "+H(x));if(v!=null&&(v=new w(v)),C=x.e>14,!K.c||!K.c[0]||K.c[0]==1&&!K.e&&K.c.length==1||!x.c||!x.c[0])return M=new w(Math.pow(+H(K),C?x.s*(2-Ot(x)):+H(x))),v?M.mod(v):M;if(F=x.s<0,v){if(v.c?!v.c[0]:!v.s)return new w(NaN);d=!F&&K.isInteger()&&v.isInteger(),d&&(K=K.mod(v))}else{if(x.e>9&&(K.e>0||K.e<-1||(K.e==0?K.c[0]>1||C&&K.c[1]>=24e7:K.c[0]<8e13||C&&K.c[0]<=9999975e7)))return b=K.s<0&&Ot(x)?-0:0,K.e>-1&&(b=1/b),new w(F?1/b:b);E&&(b=or(E/ie+2))}for(C?(h=new w(.5),F&&(x.s=1),U=Ot(x)):(g=Math.abs(+H(x)),U=g%2),M=new w(s);;){if(U){if(M=M.times(K),!M.c)break;b?M.c.length>b&&(M.c.length=b):d&&(M=M.mod(v))}if(g){if(g=ze(g/2),g===0)break;U=g%2}else if(x=x.times(h),N(x,x.e+1,1),x.e>14)U=Ot(x);else{if(g=+H(x),g===0)break;U=g%2}K=K.times(K),b?K.c&&K.c.length>b&&(K.c.length=b):d&&(K=K.mod(v))}return d?M:(F&&(M=s.div(M)),v?M.mod(v):b?N(M,E,o,_):M)},i.integerValue=function(x){var v=new w(this);return x==null?x=o:we(x,0,8),N(v,v.e+1,x)},i.isEqualTo=i.eq=function(x,v){return pt(this,new w(x,v))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(x,v){return pt(this,new w(x,v))>0},i.isGreaterThanOrEqualTo=i.gte=function(x,v){return(v=pt(this,new w(x,v)))===1||v===0},i.isInteger=function(){return!!this.c&&Te(this.e/ie)>this.c.length-2},i.isLessThan=i.lt=function(x,v){return pt(this,new w(x,v))<0},i.isLessThanOrEqualTo=i.lte=function(x,v){return(v=pt(this,new w(x,v)))===-1||v===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(x,v){var h,d,g,b,_=this,C=_.s;if(x=new w(x,v),v=x.s,!C||!v)return new w(NaN);if(C!=v)return x.s=-v,_.plus(x);var F=_.e/ie,U=x.e/ie,M=_.c,K=x.c;if(!F||!U){if(!M||!K)return M?(x.s=-v,x):new w(K?_:NaN);if(!M[0]||!K[0])return K[0]?(x.s=-v,x):new w(M[0]?_:o==3?-0:0)}if(F=Te(F),U=Te(U),M=M.slice(),C=F-U){for((b=C<0)?(C=-C,g=M):(U=F,g=K),g.reverse(),v=C;v--;g.push(0));g.reverse()}else for(d=(b=(C=M.length)<(v=K.length))?C:v,C=v=0;v<d;v++)if(M[v]!=K[v]){b=M[v]<K[v];break}if(b&&(g=M,M=K,K=g,x.s=-x.s),v=(d=K.length)-(h=M.length),v>0)for(;v--;M[h++]=0);for(v=Ue-1;d>C;){if(M[--d]<K[d]){for(h=d;h&&!M[--h];M[h]=v);--M[h],M[d]+=Ue}M[d]-=K[d]}for(;M[0]==0;M.splice(0,1),--U);return M[0]?q(x,M,U):(x.s=o==3?-1:1,x.c=[x.e=0],x)},i.modulo=i.mod=function(x,v){var h,d,g=this;return x=new w(x,v),!g.c||!x.s||x.c&&!x.c[0]?new w(NaN):!x.c||g.c&&!g.c[0]?new w(g):(B==9?(d=x.s,x.s=1,h=t(g,x,0,3),x.s=d,h.s*=d):h=t(g,x,0,B),x=g.minus(h.times(x)),!x.c[0]&&B==1&&(x.s=g.s),x)},i.multipliedBy=i.times=function(x,v){var h,d,g,b,_,C,F,U,M,K,V,R,L,G,z,X=this,Q=X.c,Z=(x=new w(x,v)).c;if(!Q||!Z||!Q[0]||!Z[0])return!X.s||!x.s||Q&&!Q[0]&&!Z||Z&&!Z[0]&&!Q?x.c=x.e=x.s=null:(x.s*=X.s,!Q||!Z?x.c=x.e=null:(x.c=[0],x.e=0)),x;for(d=Te(X.e/ie)+Te(x.e/ie),x.s*=X.s,F=Q.length,K=Z.length,F<K&&(L=Q,Q=Z,Z=L,g=F,F=K,K=g),g=F+K,L=[];g--;L.push(0));for(G=Ue,z=et,g=K;--g>=0;){for(h=0,V=Z[g]%z,R=Z[g]/z|0,_=F,b=g+_;b>g;)U=Q[--_]%z,M=Q[_]/z|0,C=R*U+M*V,U=V*U+C%z*z+L[b]+h,h=(U/G|0)+(C/z|0)+R*M,L[b--]=U%G;L[b]=h}return h?++d:L.splice(0,1),q(x,L,d)},i.negated=function(){var x=new w(this);return x.s=-x.s||null,x},i.plus=function(x,v){var h,d=this,g=d.s;if(x=new w(x,v),v=x.s,!g||!v)return new w(NaN);if(g!=v)return x.s=-v,d.minus(x);var b=d.e/ie,_=x.e/ie,C=d.c,F=x.c;if(!b||!_){if(!C||!F)return new w(g/0);if(!C[0]||!F[0])return F[0]?x:new w(C[0]?d:g*0)}if(b=Te(b),_=Te(_),C=C.slice(),g=b-_){for(g>0?(_=b,h=F):(g=-g,h=C),h.reverse();g--;h.push(0));h.reverse()}for(g=C.length,v=F.length,g-v<0&&(h=F,F=C,C=h,v=g),g=0;v;)g=(C[--v]=C[v]+F[v]+g)/Ue|0,C[v]=Ue===C[v]?0:C[v]%Ue;return g&&(C=[g].concat(C),++_),q(x,C,_)},i.precision=i.sd=function(x,v){var h,d,g,b=this;if(x!=null&&x!==!!x)return we(x,1,Ee),v==null?v=o:we(v,0,8),N(new w(b),x,v);if(!(h=b.c))return null;if(g=h.length-1,d=g*ie+1,g=h[g]){for(;g%10==0;g/=10,d--);for(g=h[0];g>=10;g/=10,d++);}return x&&b.e+1>d&&(d=b.e+1),d},i.shiftedBy=function(x){return we(x,-ar,ar),this.times("1e"+x)},i.squareRoot=i.sqrt=function(){var x,v,h,d,g,b=this,_=b.c,C=b.s,F=b.e,U=f+4,M=new w("0.5");if(C!==1||!_||!_[0])return new w(!C||C<0&&(!_||_[0])?NaN:_?b:1/0);if(C=Math.sqrt(+H(b)),C==0||C==1/0?(v=Fe(_),(v.length+F)%2==0&&(v+="0"),C=Math.sqrt(+v),F=Te((F+1)/2)-(F<0||F%2),C==1/0?v="5e"+F:(v=C.toExponential(),v=v.slice(0,v.indexOf("e")+1)+F),h=new w(v)):h=new w(C+""),h.c[0]){for(F=h.e,C=F+U,C<3&&(C=0);;)if(g=h,h=M.times(g.plus(t(b,g,U,1))),Fe(g.c).slice(0,C)===(v=Fe(h.c)).slice(0,C))if(h.e<F&&--C,v=v.slice(C-3,C+1),v=="9999"||!d&&v=="4999"){if(!d&&(N(g,g.e+f+2,0),g.times(g).eq(b))){h=g;break}U+=4,C+=4,d=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(N(h,h.e+f+2,1),x=!h.times(h).eq(b));break}}return N(h,h.e+f+1,o,x)},i.toExponential=function(x,v){return x!=null&&(we(x,0,Ee),x++),I(this,x,v,1)},i.toFixed=function(x,v){return x!=null&&(we(x,0,Ee),x=x+this.e+1),I(this,x,v)},i.toFormat=function(x,v,h){var d,g=this;if(h==null)x!=null&&v&&typeof v=="object"?(h=v,v=null):x&&typeof x=="object"?(h=x,x=v=null):h=k;else if(typeof h!="object")throw Error(_e+"Argument not an object: "+h);if(d=g.toFixed(x,v),g.c){var b,_=d.split("."),C=+h.groupSize,F=+h.secondaryGroupSize,U=h.groupSeparator||"",M=_[0],K=_[1],V=g.s<0,R=V?M.slice(1):M,L=R.length;if(F&&(b=C,C=F,F=b,L-=b),C>0&&L>0){for(b=L%C||C,M=R.substr(0,b);b<L;b+=C)M+=U+R.substr(b,C);F>0&&(M+=U+R.slice(b)),V&&(M="-"+M)}d=K?M+(h.decimalSeparator||"")+((F=+h.fractionGroupSize)?K.replace(new RegExp("\\d{"+F+"}\\B","g"),"$&"+(h.fractionGroupSeparator||"")):K):M}return(h.prefix||"")+d+(h.suffix||"")},i.toFraction=function(x){var v,h,d,g,b,_,C,F,U,M,K,V,R=this,L=R.c;if(x!=null&&(C=new w(x),!C.isInteger()&&(C.c||C.s!==1)||C.lt(s)))throw Error(_e+"Argument "+(C.isInteger()?"out of range: ":"not an integer: ")+H(C));if(!L)return new w(R);for(v=new w(s),U=h=new w(s),d=F=new w(s),V=Fe(L),b=v.e=V.length-R.e-1,v.c[0]=fr[(_=b%ie)<0?ie+_:_],x=!x||C.comparedTo(v)>0?b>0?v:U:C,_=S,S=1/0,C=new w(V),F.c[0]=0;M=t(C,v,0,1),g=h.plus(M.times(d)),g.comparedTo(x)!=1;)h=d,d=g,U=F.plus(M.times(g=U)),F=g,v=C.minus(M.times(g=v)),C=g;return g=t(x.minus(h),d,0,1),F=F.plus(g.times(U)),h=h.plus(g.times(d)),F.s=U.s=R.s,b=b*2,K=t(U,d,b,o).minus(R).abs().comparedTo(t(F,h,b,o).minus(R).abs())<1?[U,d]:[F,h],S=_,K},i.toNumber=function(){return+H(this)},i.toPrecision=function(x,v){return x!=null&&we(x,1,Ee),I(this,x,v,2)},i.toString=function(x){var v,h=this,d=h.s,g=h.e;return g===null?d?(v="Infinity",d<0&&(v="-"+v)):v="NaN":(x==null?v=g<=p||g>=a?Ut(Fe(h.c),g):je(Fe(h.c),g,"0"):x===10&&P?(h=N(new w(h),f+g+1,o),v=je(Fe(h.c),h.e,"0")):(we(x,2,T.length,"Base"),v=r(je(Fe(h.c),g,"0"),10,x,d,!0)),d<0&&h.c[0]&&(v="-"+v)),v},i.valueOf=i.toJSON=function(){return H(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,n!=null&&w.set(n),w}function Te(n){var t=n|0;return n>0||n===t?t:t-1}function Fe(n){for(var t,r,e=1,i=n.length,s=n[0]+"";e<i;){for(t=n[e++]+"",r=ie-t.length;r--;t="0"+t);s+=t}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function pt(n,t){var r,e,i=n.c,s=t.c,f=n.s,o=t.s,p=n.e,a=t.e;if(!f||!o)return null;if(r=i&&!i[0],e=s&&!s[0],r||e)return r?e?0:-o:f;if(f!=o)return f;if(r=f<0,e=p==a,!i||!s)return e?0:!i^r?1:-1;if(!e)return p>a^r?1:-1;for(o=(p=i.length)<(a=s.length)?p:a,f=0;f<o;f++)if(i[f]!=s[f])return i[f]>s[f]^r?1:-1;return p==a?0:p>a^r?1:-1}function we(n,t,r,e){if(n<t||n>r||n!==ze(n))throw Error(_e+(e||"Argument")+(typeof n=="number"?n<t||n>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function Ot(n){var t=n.c.length-1;return Te(n.e/ie)==t&&n.c[t]%2!=0}function Ut(n,t){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(t<0?"e":"e+")+t}function je(n,t,r){var e,i;if(t<0){for(i=r+".";++t;i+=r);n=i+n}else if(e=n.length,++t>e){for(i=r,t-=e;--t;i+=r);n+=i}else t<e&&(n=n.slice(0,t)+"."+n.slice(t));return n}var ht=ri(),kt=function(){function n(){this.w=new Array,this.d32=new ht(4294967296)}return n.prototype.writeByte=function(t){this.w.push(t)},n.prototype.writeBytes=function(t){var r;(r=this.w).push.apply(r,t)},n.prototype.writeInt64=function(t){var r=t.div(this.d32).toNumber(),e=t.mod(this.d32).toNumber();this.w.push(r>>24&255),this.w.push(r>>16&255),this.w.push(r>>8&255),this.w.push(r&255),this.w.push(e>>24&255),this.w.push(e>>16&255),this.w.push(e>>8&255),this.w.push(e&255)},n.prototype.writeInt32=function(t){this.w.push(t>>24),this.w.push(t>>16),this.w.push(t>>8),this.w.push(t&255)},n.prototype.writeUint8=function(t){this.w.push(t)},n.prototype.writeInt16=function(t){this.w.push(t>>8),this.w.push(t&255)},n.prototype.writeString=function(t){var r;if(t&&t.length>0){var e=this.stringToUint(t);this.writeInt16(e.length),(r=this.w).push.apply(r,e)}else this.writeInt16(0)},n.prototype.stringToUint=function(t){for(var r=unescape(encodeURIComponent(t)),e=r.split(""),i=new Array,s=0;s<e.length;s++)i.push(e[s].charCodeAt(0));return i},n.prototype.toUint8Array=function(){return new Uint8Array(this.w)},n}(),Ys=function(){function n(t){this.offset=0,this.data=t}return n.prototype.readByte=function(){var t=this.data[this.offset];return this.offset++,t},n.prototype.readNum=function(t){var r=this.data.slice(this.offset,this.offset+t);this.offset+=t;for(var e=new ht(0),i=0;i<r.length;i++){var s=new ht(2).pow(new ht((r.length-i-1)*8));e=e.plus(new ht(r[i]).multipliedBy(s))}return e},n.prototype.readInt64=function(){return this.readNum(8)},n.prototype.readInt16=function(){return Number(this.readNum(2))},n.prototype.readInt32=function(){return Number(this.readNum(4))},n.prototype.readString=function(){var t=this.readInt16();if(t<=0)return"";var r=this.data.slice(this.offset,this.offset+t);return this.offset+=t,this.uintToString(Array.from(r))},n.prototype.readRemaining=function(){var t=this.data.slice(this.offset);return this.offset=this.data.length,t},n.prototype.uintToString=function(t){var r=String.fromCharCode.apply(null,t),e=decodeURIComponent(escape(r));return e},n.prototype.readVariableLength=function(){for(var t=0,r=0;t<27;){var e=this.readByte();if(r=r|(e&127)<<t,!(e&128))break;t+=7}return r},n}(),ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Js(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Zs(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var r=function e(){if(this instanceof e){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(e){var i=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(r,e,i.get?i:{enumerable:!0,get:function(){return n[e]}})}),r}var ni={exports:{}};function eo(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cr={exports:{}};const to={},ro=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),no=Zs(ro);var Mn;function xe(){return Mn||(Mn=1,function(n,t){(function(r,e){n.exports=e()})(ae,function(){var r=r||function(e,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ae<"u"&&ae.crypto&&(s=ae.crypto),!s&&typeof eo=="function")try{s=no}catch{}var f=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function w(){}return function(I){var D;return w.prototype=I,D=new w,w.prototype=null,D}}(),p={},a=p.lib={},l=a.Base=function(){return{extend:function(w){var I=o(this);return w&&I.mixIn(w),(!I.hasOwnProperty("init")||this.init===I.init)&&(I.init=function(){I.$super.init.apply(this,arguments)}),I.init.prototype=I,I.$super=this,I},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var I in w)w.hasOwnProperty(I)&&(this[I]=w[I]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),S=a.WordArray=l.extend({init:function(w,I){w=this.words=w||[],I!=i?this.sigBytes=I:this.sigBytes=w.length*4},toString:function(w){return(w||B).stringify(this)},concat:function(w){var I=this.words,D=w.words,q=this.sigBytes,N=w.sigBytes;if(this.clamp(),q%4)for(var H=0;H<N;H++){var x=D[H>>>2]>>>24-H%4*8&255;I[q+H>>>2]|=x<<24-(q+H)%4*8}else for(var v=0;v<N;v+=4)I[q+v>>>2]=D[v>>>2];return this.sigBytes+=N,this},clamp:function(){var w=this.words,I=this.sigBytes;w[I>>>2]&=4294967295<<32-I%4*8,w.length=e.ceil(I/4)},clone:function(){var w=l.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var I=[],D=0;D<w;D+=4)I.push(f());return new S.init(I,w)}}),m=p.enc={},B=m.Hex={stringify:function(w){for(var I=w.words,D=w.sigBytes,q=[],N=0;N<D;N++){var H=I[N>>>2]>>>24-N%4*8&255;q.push((H>>>4).toString(16)),q.push((H&15).toString(16))}return q.join("")},parse:function(w){for(var I=w.length,D=[],q=0;q<I;q+=2)D[q>>>3]|=parseInt(w.substr(q,2),16)<<24-q%8*4;return new S.init(D,I/2)}},E=m.Latin1={stringify:function(w){for(var I=w.words,D=w.sigBytes,q=[],N=0;N<D;N++){var H=I[N>>>2]>>>24-N%4*8&255;q.push(String.fromCharCode(H))}return q.join("")},parse:function(w){for(var I=w.length,D=[],q=0;q<I;q++)D[q>>>2]|=(w.charCodeAt(q)&255)<<24-q%4*8;return new S.init(D,I)}},k=m.Utf8={stringify:function(w){try{return decodeURIComponent(escape(E.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return E.parse(unescape(encodeURIComponent(w)))}},T=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=k.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var I,D=this._data,q=D.words,N=D.sigBytes,H=this.blockSize,x=H*4,v=N/x;w?v=e.ceil(v):v=e.max((v|0)-this._minBufferSize,0);var h=v*H,d=e.min(h*4,N);if(h){for(var g=0;g<h;g+=H)this._doProcessBlock(q,g);I=q.splice(0,h),D.sigBytes-=d}return new S.init(I,d)},clone:function(){var w=l.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});a.Hasher=T.extend({cfg:l.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var I=this._doFinalize();return I},blockSize:16,_createHelper:function(w){return function(I,D){return new w.init(D).finalize(I)}},_createHmacHelper:function(w){return function(I,D){return new P.HMAC.init(w,D).finalize(I)}}});var P=p.algo={};return p}(Math);return r})}(cr)),cr.exports}var ur={exports:{}},On;function Yt(){return On||(On=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(e){var i=r,s=i.lib,f=s.Base,o=s.WordArray,p=i.x64={};p.Word=f.extend({init:function(a,l){this.high=a,this.low=l}}),p.WordArray=f.extend({init:function(a,l){a=this.words=a||[],l!=e?this.sigBytes=l:this.sigBytes=a.length*8},toX32:function(){for(var a=this.words,l=a.length,S=[],m=0;m<l;m++){var B=a[m];S.push(B.high),S.push(B.low)}return o.create(S,this.sigBytes)},clone:function(){for(var a=f.clone.call(this),l=a.words=this.words.slice(0),S=l.length,m=0;m<S;m++)l[m]=l[m].clone();return a}})}(),r})}(ur)),ur.exports}var hr={exports:{}},Un;function io(){return Un||(Un=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(){if(typeof ArrayBuffer=="function"){var e=r,i=e.lib,s=i.WordArray,f=s.init,o=s.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var a=p.byteLength,l=[],S=0;S<a;S++)l[S>>>2]|=p[S]<<24-S%4*8;f.call(this,l,a)}else f.apply(this,arguments)};o.prototype=s}}(),r.lib.WordArray})}(hr)),hr.exports}var lr={exports:{}},Nn;function so(){return Nn||(Nn=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.WordArray,f=e.enc;f.Utf16=f.Utf16BE={stringify:function(p){for(var a=p.words,l=p.sigBytes,S=[],m=0;m<l;m+=2){var B=a[m>>>2]>>>16-m%4*8&65535;S.push(String.fromCharCode(B))}return S.join("")},parse:function(p){for(var a=p.length,l=[],S=0;S<a;S++)l[S>>>1]|=p.charCodeAt(S)<<16-S%2*16;return s.create(l,a*2)}},f.Utf16LE={stringify:function(p){for(var a=p.words,l=p.sigBytes,S=[],m=0;m<l;m+=2){var B=o(a[m>>>2]>>>16-m%4*8&65535);S.push(String.fromCharCode(B))}return S.join("")},parse:function(p){for(var a=p.length,l=[],S=0;S<a;S++)l[S>>>1]|=o(p.charCodeAt(S)<<16-S%2*16);return s.create(l,a*2)}};function o(p){return p<<8&4278255360|p>>>8&16711935}}(),r.enc.Utf16})}(lr)),lr.exports}var xr={exports:{}},Pn;function Ct(){return Pn||(Pn=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.WordArray,f=e.enc;f.Base64={stringify:function(p){var a=p.words,l=p.sigBytes,S=this._map;p.clamp();for(var m=[],B=0;B<l;B+=3)for(var E=a[B>>>2]>>>24-B%4*8&255,k=a[B+1>>>2]>>>24-(B+1)%4*8&255,T=a[B+2>>>2]>>>24-(B+2)%4*8&255,P=E<<16|k<<8|T,w=0;w<4&&B+w*.75<l;w++)m.push(S.charAt(P>>>6*(3-w)&63));var I=S.charAt(64);if(I)for(;m.length%4;)m.push(I);return m.join("")},parse:function(p){var a=p.length,l=this._map,S=this._reverseMap;if(!S){S=this._reverseMap=[];for(var m=0;m<l.length;m++)S[l.charCodeAt(m)]=m}var B=l.charAt(64);if(B){var E=p.indexOf(B);E!==-1&&(a=E)}return o(p,a,S)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(p,a,l){for(var S=[],m=0,B=0;B<a;B++)if(B%4){var E=l[p.charCodeAt(B-1)]<<B%4*2,k=l[p.charCodeAt(B)]>>>6-B%4*2,T=E|k;S[m>>>2]|=T<<24-m%4*8,m++}return s.create(S,m)}}(),r.enc.Base64})}(xr)),xr.exports}var dr={exports:{}},Ln;function oo(){return Ln||(Ln=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.WordArray,f=e.enc;f.Base64url={stringify:function(p,a=!0){var l=p.words,S=p.sigBytes,m=a?this._safe_map:this._map;p.clamp();for(var B=[],E=0;E<S;E+=3)for(var k=l[E>>>2]>>>24-E%4*8&255,T=l[E+1>>>2]>>>24-(E+1)%4*8&255,P=l[E+2>>>2]>>>24-(E+2)%4*8&255,w=k<<16|T<<8|P,I=0;I<4&&E+I*.75<S;I++)B.push(m.charAt(w>>>6*(3-I)&63));var D=m.charAt(64);if(D)for(;B.length%4;)B.push(D);return B.join("")},parse:function(p,a=!0){var l=p.length,S=a?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var B=0;B<S.length;B++)m[S.charCodeAt(B)]=B}var E=S.charAt(64);if(E){var k=p.indexOf(E);k!==-1&&(l=k)}return o(p,l,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(p,a,l){for(var S=[],m=0,B=0;B<a;B++)if(B%4){var E=l[p.charCodeAt(B-1)]<<B%4*2,k=l[p.charCodeAt(B)]>>>6-B%4*2,T=E|k;S[m>>>2]|=T<<24-m%4*8,m++}return s.create(S,m)}}(),r.enc.Base64url})}(dr)),dr.exports}var pr={exports:{}},Hn;function St(){return Hn||(Hn=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(e){var i=r,s=i.lib,f=s.WordArray,o=s.Hasher,p=i.algo,a=[];(function(){for(var k=0;k<64;k++)a[k]=e.abs(e.sin(k+1))*4294967296|0})();var l=p.MD5=o.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(k,T){for(var P=0;P<16;P++){var w=T+P,I=k[w];k[w]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var D=this._hash.words,q=k[T+0],N=k[T+1],H=k[T+2],x=k[T+3],v=k[T+4],h=k[T+5],d=k[T+6],g=k[T+7],b=k[T+8],_=k[T+9],C=k[T+10],F=k[T+11],U=k[T+12],M=k[T+13],K=k[T+14],V=k[T+15],R=D[0],L=D[1],G=D[2],z=D[3];R=S(R,L,G,z,q,7,a[0]),z=S(z,R,L,G,N,12,a[1]),G=S(G,z,R,L,H,17,a[2]),L=S(L,G,z,R,x,22,a[3]),R=S(R,L,G,z,v,7,a[4]),z=S(z,R,L,G,h,12,a[5]),G=S(G,z,R,L,d,17,a[6]),L=S(L,G,z,R,g,22,a[7]),R=S(R,L,G,z,b,7,a[8]),z=S(z,R,L,G,_,12,a[9]),G=S(G,z,R,L,C,17,a[10]),L=S(L,G,z,R,F,22,a[11]),R=S(R,L,G,z,U,7,a[12]),z=S(z,R,L,G,M,12,a[13]),G=S(G,z,R,L,K,17,a[14]),L=S(L,G,z,R,V,22,a[15]),R=m(R,L,G,z,N,5,a[16]),z=m(z,R,L,G,d,9,a[17]),G=m(G,z,R,L,F,14,a[18]),L=m(L,G,z,R,q,20,a[19]),R=m(R,L,G,z,h,5,a[20]),z=m(z,R,L,G,C,9,a[21]),G=m(G,z,R,L,V,14,a[22]),L=m(L,G,z,R,v,20,a[23]),R=m(R,L,G,z,_,5,a[24]),z=m(z,R,L,G,K,9,a[25]),G=m(G,z,R,L,x,14,a[26]),L=m(L,G,z,R,b,20,a[27]),R=m(R,L,G,z,M,5,a[28]),z=m(z,R,L,G,H,9,a[29]),G=m(G,z,R,L,g,14,a[30]),L=m(L,G,z,R,U,20,a[31]),R=B(R,L,G,z,h,4,a[32]),z=B(z,R,L,G,b,11,a[33]),G=B(G,z,R,L,F,16,a[34]),L=B(L,G,z,R,K,23,a[35]),R=B(R,L,G,z,N,4,a[36]),z=B(z,R,L,G,v,11,a[37]),G=B(G,z,R,L,g,16,a[38]),L=B(L,G,z,R,C,23,a[39]),R=B(R,L,G,z,M,4,a[40]),z=B(z,R,L,G,q,11,a[41]),G=B(G,z,R,L,x,16,a[42]),L=B(L,G,z,R,d,23,a[43]),R=B(R,L,G,z,_,4,a[44]),z=B(z,R,L,G,U,11,a[45]),G=B(G,z,R,L,V,16,a[46]),L=B(L,G,z,R,H,23,a[47]),R=E(R,L,G,z,q,6,a[48]),z=E(z,R,L,G,g,10,a[49]),G=E(G,z,R,L,K,15,a[50]),L=E(L,G,z,R,h,21,a[51]),R=E(R,L,G,z,U,6,a[52]),z=E(z,R,L,G,x,10,a[53]),G=E(G,z,R,L,C,15,a[54]),L=E(L,G,z,R,N,21,a[55]),R=E(R,L,G,z,b,6,a[56]),z=E(z,R,L,G,V,10,a[57]),G=E(G,z,R,L,d,15,a[58]),L=E(L,G,z,R,M,21,a[59]),R=E(R,L,G,z,v,6,a[60]),z=E(z,R,L,G,F,10,a[61]),G=E(G,z,R,L,H,15,a[62]),L=E(L,G,z,R,_,21,a[63]),D[0]=D[0]+R|0,D[1]=D[1]+L|0,D[2]=D[2]+G|0,D[3]=D[3]+z|0},_doFinalize:function(){var k=this._data,T=k.words,P=this._nDataBytes*8,w=k.sigBytes*8;T[w>>>5]|=128<<24-w%32;var I=e.floor(P/4294967296),D=P;T[(w+64>>>9<<4)+15]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,T[(w+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,k.sigBytes=(T.length+1)*4,this._process();for(var q=this._hash,N=q.words,H=0;H<4;H++){var x=N[H];N[H]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}return q},clone:function(){var k=o.clone.call(this);return k._hash=this._hash.clone(),k}});function S(k,T,P,w,I,D,q){var N=k+(T&P|~T&w)+I+q;return(N<<D|N>>>32-D)+T}function m(k,T,P,w,I,D,q){var N=k+(T&w|P&~w)+I+q;return(N<<D|N>>>32-D)+T}function B(k,T,P,w,I,D,q){var N=k+(T^P^w)+I+q;return(N<<D|N>>>32-D)+T}function E(k,T,P,w,I,D,q){var N=k+(P^(T|~w))+I+q;return(N<<D|N>>>32-D)+T}i.MD5=o._createHelper(l),i.HmacMD5=o._createHmacHelper(l)}(Math),r.MD5})}(pr)),pr.exports}var vr={exports:{}},qn;function cn(){return qn||(qn=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.WordArray,f=i.Hasher,o=e.algo,p=[],a=o.SHA1=f.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,S){for(var m=this._hash.words,B=m[0],E=m[1],k=m[2],T=m[3],P=m[4],w=0;w<80;w++){if(w<16)p[w]=l[S+w]|0;else{var I=p[w-3]^p[w-8]^p[w-14]^p[w-16];p[w]=I<<1|I>>>31}var D=(B<<5|B>>>27)+P+p[w];w<20?D+=(E&k|~E&T)+1518500249:w<40?D+=(E^k^T)+1859775393:w<60?D+=(E&k|E&T|k&T)-1894007588:D+=(E^k^T)-899497514,P=T,T=k,k=E<<30|E>>>2,E=B,B=D}m[0]=m[0]+B|0,m[1]=m[1]+E|0,m[2]=m[2]+k|0,m[3]=m[3]+T|0,m[4]=m[4]+P|0},_doFinalize:function(){var l=this._data,S=l.words,m=this._nDataBytes*8,B=l.sigBytes*8;return S[B>>>5]|=128<<24-B%32,S[(B+64>>>9<<4)+14]=Math.floor(m/4294967296),S[(B+64>>>9<<4)+15]=m,l.sigBytes=S.length*4,this._process(),this._hash},clone:function(){var l=f.clone.call(this);return l._hash=this._hash.clone(),l}});e.SHA1=f._createHelper(a),e.HmacSHA1=f._createHmacHelper(a)}(),r.SHA1})}(vr)),vr.exports}var yr={exports:{}},zn;function ii(){return zn||(zn=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){return function(e){var i=r,s=i.lib,f=s.WordArray,o=s.Hasher,p=i.algo,a=[],l=[];(function(){function B(P){for(var w=e.sqrt(P),I=2;I<=w;I++)if(!(P%I))return!1;return!0}function E(P){return(P-(P|0))*4294967296|0}for(var k=2,T=0;T<64;)B(k)&&(T<8&&(a[T]=E(e.pow(k,1/2))),l[T]=E(e.pow(k,1/3)),T++),k++})();var S=[],m=p.SHA256=o.extend({_doReset:function(){this._hash=new f.init(a.slice(0))},_doProcessBlock:function(B,E){for(var k=this._hash.words,T=k[0],P=k[1],w=k[2],I=k[3],D=k[4],q=k[5],N=k[6],H=k[7],x=0;x<64;x++){if(x<16)S[x]=B[E+x]|0;else{var v=S[x-15],h=(v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,d=S[x-2],g=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;S[x]=h+S[x-7]+g+S[x-16]}var b=D&q^~D&N,_=T&P^T&w^P&w,C=(T<<30|T>>>2)^(T<<19|T>>>13)^(T<<10|T>>>22),F=(D<<26|D>>>6)^(D<<21|D>>>11)^(D<<7|D>>>25),U=H+F+b+l[x]+S[x],M=C+_;H=N,N=q,q=D,D=I+U|0,I=w,w=P,P=T,T=U+M|0}k[0]=k[0]+T|0,k[1]=k[1]+P|0,k[2]=k[2]+w|0,k[3]=k[3]+I|0,k[4]=k[4]+D|0,k[5]=k[5]+q|0,k[6]=k[6]+N|0,k[7]=k[7]+H|0},_doFinalize:function(){var B=this._data,E=B.words,k=this._nDataBytes*8,T=B.sigBytes*8;return E[T>>>5]|=128<<24-T%32,E[(T+64>>>9<<4)+14]=e.floor(k/4294967296),E[(T+64>>>9<<4)+15]=k,B.sigBytes=E.length*4,this._process(),this._hash},clone:function(){var B=o.clone.call(this);return B._hash=this._hash.clone(),B}});i.SHA256=o._createHelper(m),i.HmacSHA256=o._createHmacHelper(m)}(Math),r.SHA256})}(yr)),yr.exports}var gr={exports:{}},Wn;function ao(){return Wn||(Wn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),ii())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.WordArray,f=e.algo,o=f.SHA256,p=f.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=o._doFinalize.call(this);return a.sigBytes-=4,a}});e.SHA224=o._createHelper(p),e.HmacSHA224=o._createHmacHelper(p)}(),r.SHA224})}(gr)),gr.exports}var br={exports:{}},Gn;function si(){return Gn||(Gn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Yt())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.Hasher,f=e.x64,o=f.Word,p=f.WordArray,a=e.algo;function l(){return o.create.apply(o,arguments)}var S=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],m=[];(function(){for(var E=0;E<80;E++)m[E]=l()})();var B=a.SHA512=s.extend({_doReset:function(){this._hash=new p.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(E,k){for(var T=this._hash.words,P=T[0],w=T[1],I=T[2],D=T[3],q=T[4],N=T[5],H=T[6],x=T[7],v=P.high,h=P.low,d=w.high,g=w.low,b=I.high,_=I.low,C=D.high,F=D.low,U=q.high,M=q.low,K=N.high,V=N.low,R=H.high,L=H.low,G=x.high,z=x.low,X=v,Q=h,Z=d,Y=g,fe=b,ce=_,oe=C,le=F,te=U,ee=M,re=K,at=V,Xe=R,ft=L,At=G,Qe=z,Se=0;Se<80;Se++){var be,Ie,dt=m[Se];if(Se<16)Ie=dt.high=E[k+Se*2]|0,be=dt.low=E[k+Se*2+1]|0;else{var Oe=m[Se-15],Ye=Oe.high,y=Oe.low,c=(Ye>>>1|y<<31)^(Ye>>>8|y<<24)^Ye>>>7,u=(y>>>1|Ye<<31)^(y>>>8|Ye<<24)^(y>>>7|Ye<<25),A=m[Se-2],O=A.high,W=A.low,j=(O>>>19|W<<13)^(O<<3|W>>>29)^O>>>6,se=(W>>>19|O<<13)^(W<<3|O>>>29)^(W>>>6|O<<26),ye=m[Se-7],ve=ye.high,ge=ye.low,pe=m[Se-16],Ei=pe.high,yn=pe.low;be=u+ge,Ie=c+ve+(be>>>0<u>>>0?1:0),be=be+se,Ie=Ie+j+(be>>>0<se>>>0?1:0),be=be+yn,Ie=Ie+Ei+(be>>>0<yn>>>0?1:0),dt.high=Ie,dt.low=be}var Ci=te&re^~te&Xe,gn=ee&at^~ee&ft,Si=X&Z^X&fe^Z&fe,Bi=Q&Y^Q&ce^Y&ce,Ai=(X>>>28|Q<<4)^(X<<30|Q>>>2)^(X<<25|Q>>>7),bn=(Q>>>28|X<<4)^(Q<<30|X>>>2)^(Q<<25|X>>>7),_i=(te>>>14|ee<<18)^(te>>>18|ee<<14)^(te<<23|ee>>>9),ki=(ee>>>14|te<<18)^(ee>>>18|te<<14)^(ee<<23|te>>>9),wn=S[Se],Ii=wn.high,mn=wn.low,ke=Qe+ki,Je=At+_i+(ke>>>0<Qe>>>0?1:0),ke=ke+gn,Je=Je+Ci+(ke>>>0<gn>>>0?1:0),ke=ke+mn,Je=Je+Ii+(ke>>>0<mn>>>0?1:0),ke=ke+be,Je=Je+Ie+(ke>>>0<be>>>0?1:0),En=bn+Bi,Fi=Ai+Si+(En>>>0<bn>>>0?1:0);At=Xe,Qe=ft,Xe=re,ft=at,re=te,at=ee,ee=le+ke|0,te=oe+Je+(ee>>>0<le>>>0?1:0)|0,oe=fe,le=ce,fe=Z,ce=Y,Z=X,Y=Q,Q=ke+En|0,X=Je+Fi+(Q>>>0<ke>>>0?1:0)|0}h=P.low=h+Q,P.high=v+X+(h>>>0<Q>>>0?1:0),g=w.low=g+Y,w.high=d+Z+(g>>>0<Y>>>0?1:0),_=I.low=_+ce,I.high=b+fe+(_>>>0<ce>>>0?1:0),F=D.low=F+le,D.high=C+oe+(F>>>0<le>>>0?1:0),M=q.low=M+ee,q.high=U+te+(M>>>0<ee>>>0?1:0),V=N.low=V+at,N.high=K+re+(V>>>0<at>>>0?1:0),L=H.low=L+ft,H.high=R+Xe+(L>>>0<ft>>>0?1:0),z=x.low=z+Qe,x.high=G+At+(z>>>0<Qe>>>0?1:0)},_doFinalize:function(){var E=this._data,k=E.words,T=this._nDataBytes*8,P=E.sigBytes*8;k[P>>>5]|=128<<24-P%32,k[(P+128>>>10<<5)+30]=Math.floor(T/4294967296),k[(P+128>>>10<<5)+31]=T,E.sigBytes=k.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E},blockSize:1024/32});e.SHA512=s._createHelper(B),e.HmacSHA512=s._createHmacHelper(B)}(),r.SHA512})}(br)),br.exports}var wr={exports:{}},Kn;function fo(){return Kn||(Kn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Yt(),si())})(ae,function(r){return function(){var e=r,i=e.x64,s=i.Word,f=i.WordArray,o=e.algo,p=o.SHA512,a=o.SHA384=p.extend({_doReset:function(){this._hash=new f.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var l=p._doFinalize.call(this);return l.sigBytes-=16,l}});e.SHA384=p._createHelper(a),e.HmacSHA384=p._createHmacHelper(a)}(),r.SHA384})}(wr)),wr.exports}var mr={exports:{}},jn;function co(){return jn||(jn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Yt())})(ae,function(r){return function(e){var i=r,s=i.lib,f=s.WordArray,o=s.Hasher,p=i.x64,a=p.Word,l=i.algo,S=[],m=[],B=[];(function(){for(var T=1,P=0,w=0;w<24;w++){S[T+5*P]=(w+1)*(w+2)/2%64;var I=P%5,D=(2*T+3*P)%5;T=I,P=D}for(var T=0;T<5;T++)for(var P=0;P<5;P++)m[T+5*P]=P+(2*T+3*P)%5*5;for(var q=1,N=0;N<24;N++){for(var H=0,x=0,v=0;v<7;v++){if(q&1){var h=(1<<v)-1;h<32?x^=1<<h:H^=1<<h-32}q&128?q=q<<1^113:q<<=1}B[N]=a.create(H,x)}})();var E=[];(function(){for(var T=0;T<25;T++)E[T]=a.create()})();var k=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var T=this._state=[],P=0;P<25;P++)T[P]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(T,P){for(var w=this._state,I=this.blockSize/2,D=0;D<I;D++){var q=T[P+2*D],N=T[P+2*D+1];q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var H=w[D];H.high^=N,H.low^=q}for(var x=0;x<24;x++){for(var v=0;v<5;v++){for(var h=0,d=0,g=0;g<5;g++){var H=w[v+5*g];h^=H.high,d^=H.low}var b=E[v];b.high=h,b.low=d}for(var v=0;v<5;v++)for(var _=E[(v+4)%5],C=E[(v+1)%5],F=C.high,U=C.low,h=_.high^(F<<1|U>>>31),d=_.low^(U<<1|F>>>31),g=0;g<5;g++){var H=w[v+5*g];H.high^=h,H.low^=d}for(var M=1;M<25;M++){var h,d,H=w[M],K=H.high,V=H.low,R=S[M];R<32?(h=K<<R|V>>>32-R,d=V<<R|K>>>32-R):(h=V<<R-32|K>>>64-R,d=K<<R-32|V>>>64-R);var L=E[m[M]];L.high=h,L.low=d}var G=E[0],z=w[0];G.high=z.high,G.low=z.low;for(var v=0;v<5;v++)for(var g=0;g<5;g++){var M=v+5*g,H=w[M],X=E[M],Q=E[(v+1)%5+5*g],Z=E[(v+2)%5+5*g];H.high=X.high^~Q.high&Z.high,H.low=X.low^~Q.low&Z.low}var H=w[0],Y=B[x];H.high^=Y.high,H.low^=Y.low}},_doFinalize:function(){var T=this._data,P=T.words;this._nDataBytes*8;var w=T.sigBytes*8,I=this.blockSize*32;P[w>>>5]|=1<<24-w%32,P[(e.ceil((w+1)/I)*I>>>5)-1]|=128,T.sigBytes=P.length*4,this._process();for(var D=this._state,q=this.cfg.outputLength/8,N=q/8,H=[],x=0;x<N;x++){var v=D[x],h=v.high,d=v.low;h=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,d=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,H.push(d),H.push(h)}return new f.init(H,q)},clone:function(){for(var T=o.clone.call(this),P=T._state=this._state.slice(0),w=0;w<25;w++)P[w]=P[w].clone();return T}});i.SHA3=o._createHelper(k),i.HmacSHA3=o._createHmacHelper(k)}(Math),r.SHA3})}(mr)),mr.exports}var Er={exports:{}},$n;function uo(){return $n||($n=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(e){var i=r,s=i.lib,f=s.WordArray,o=s.Hasher,p=i.algo,a=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),S=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),B=f.create([0,1518500249,1859775393,2400959708,2840853838]),E=f.create([1352829926,1548603684,1836072691,2053994217,0]),k=p.RIPEMD160=o.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,H){for(var x=0;x<16;x++){var v=H+x,h=N[v];N[v]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360}var d=this._hash.words,g=B.words,b=E.words,_=a.words,C=l.words,F=S.words,U=m.words,M,K,V,R,L,G,z,X,Q,Z;G=M=d[0],z=K=d[1],X=V=d[2],Q=R=d[3],Z=L=d[4];for(var Y,x=0;x<80;x+=1)Y=M+N[H+_[x]]|0,x<16?Y+=T(K,V,R)+g[0]:x<32?Y+=P(K,V,R)+g[1]:x<48?Y+=w(K,V,R)+g[2]:x<64?Y+=I(K,V,R)+g[3]:Y+=D(K,V,R)+g[4],Y=Y|0,Y=q(Y,F[x]),Y=Y+L|0,M=L,L=R,R=q(V,10),V=K,K=Y,Y=G+N[H+C[x]]|0,x<16?Y+=D(z,X,Q)+b[0]:x<32?Y+=I(z,X,Q)+b[1]:x<48?Y+=w(z,X,Q)+b[2]:x<64?Y+=P(z,X,Q)+b[3]:Y+=T(z,X,Q)+b[4],Y=Y|0,Y=q(Y,U[x]),Y=Y+Z|0,G=Z,Z=Q,Q=q(X,10),X=z,z=Y;Y=d[1]+V+Q|0,d[1]=d[2]+R+Z|0,d[2]=d[3]+L+G|0,d[3]=d[4]+M+z|0,d[4]=d[0]+K+X|0,d[0]=Y},_doFinalize:function(){var N=this._data,H=N.words,x=this._nDataBytes*8,v=N.sigBytes*8;H[v>>>5]|=128<<24-v%32,H[(v+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,N.sigBytes=(H.length+1)*4,this._process();for(var h=this._hash,d=h.words,g=0;g<5;g++){var b=d[g];d[g]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return h},clone:function(){var N=o.clone.call(this);return N._hash=this._hash.clone(),N}});function T(N,H,x){return N^H^x}function P(N,H,x){return N&H|~N&x}function w(N,H,x){return(N|~H)^x}function I(N,H,x){return N&x|H&~x}function D(N,H,x){return N^(H|~x)}function q(N,H){return N<<H|N>>>32-H}i.RIPEMD160=o._createHelper(k),i.HmacRIPEMD160=o._createHmacHelper(k)}(),r.RIPEMD160})}(Er)),Er.exports}var Cr={exports:{}},Vn;function un(){return Vn||(Vn=1,function(n,t){(function(r,e){n.exports=e(xe())})(ae,function(r){(function(){var e=r,i=e.lib,s=i.Base,f=e.enc,o=f.Utf8,p=e.algo;p.HMAC=s.extend({init:function(a,l){a=this._hasher=new a.init,typeof l=="string"&&(l=o.parse(l));var S=a.blockSize,m=S*4;l.sigBytes>m&&(l=a.finalize(l)),l.clamp();for(var B=this._oKey=l.clone(),E=this._iKey=l.clone(),k=B.words,T=E.words,P=0;P<S;P++)k[P]^=1549556828,T[P]^=909522486;B.sigBytes=E.sigBytes=m,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var l=this._hasher,S=l.finalize(a);l.reset();var m=l.finalize(this._oKey.clone().concat(S));return m}})})()})}(Cr)),Cr.exports}var Sr={exports:{}},Xn;function ho(){return Xn||(Xn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),cn(),un())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.Base,f=i.WordArray,o=e.algo,p=o.SHA1,a=o.HMAC,l=o.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:p,iterations:1}),init:function(S){this.cfg=this.cfg.extend(S)},compute:function(S,m){for(var B=this.cfg,E=a.create(B.hasher,S),k=f.create(),T=f.create([1]),P=k.words,w=T.words,I=B.keySize,D=B.iterations;P.length<I;){var q=E.update(m).finalize(T);E.reset();for(var N=q.words,H=N.length,x=q,v=1;v<D;v++){x=E.finalize(x),E.reset();for(var h=x.words,d=0;d<H;d++)N[d]^=h[d]}k.concat(q),w[0]++}return k.sigBytes=I*4,k}});e.PBKDF2=function(S,m,B){return l.create(B).compute(S,m)}}(),r.PBKDF2})}(Sr)),Sr.exports}var Br={exports:{}},Qn;function lt(){return Qn||(Qn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),cn(),un())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.Base,f=i.WordArray,o=e.algo,p=o.MD5,a=o.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:p,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,S){for(var m,B=this.cfg,E=B.hasher.create(),k=f.create(),T=k.words,P=B.keySize,w=B.iterations;T.length<P;){m&&E.update(m),m=E.update(l).finalize(S),E.reset();for(var I=1;I<w;I++)m=E.finalize(m),E.reset();k.concat(m)}return k.sigBytes=P*4,k}});e.EvpKDF=function(l,S,m){return a.create(m).compute(l,S)}}(),r.EvpKDF})}(Br)),Br.exports}var Ar={exports:{}},Yn;function Ce(){return Yn||(Yn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),lt())})(ae,function(r){r.lib.Cipher||function(e){var i=r,s=i.lib,f=s.Base,o=s.WordArray,p=s.BufferedBlockAlgorithm,a=i.enc;a.Utf8;var l=a.Base64,S=i.algo,m=S.EvpKDF,B=s.Cipher=p.extend({cfg:f.extend(),createEncryptor:function(h,d){return this.create(this._ENC_XFORM_MODE,h,d)},createDecryptor:function(h,d){return this.create(this._DEC_XFORM_MODE,h,d)},init:function(h,d,g){this.cfg=this.cfg.extend(g),this._xformMode=h,this._key=d,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(h){return this._append(h),this._process()},finalize:function(h){h&&this._append(h);var d=this._doFinalize();return d},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function h(d){return typeof d=="string"?v:N}return function(d){return{encrypt:function(g,b,_){return h(b).encrypt(d,g,b,_)},decrypt:function(g,b,_){return h(b).decrypt(d,g,b,_)}}}}()});s.StreamCipher=B.extend({_doFinalize:function(){var h=this._process(!0);return h},blockSize:1});var E=i.mode={},k=s.BlockCipherMode=f.extend({createEncryptor:function(h,d){return this.Encryptor.create(h,d)},createDecryptor:function(h,d){return this.Decryptor.create(h,d)},init:function(h,d){this._cipher=h,this._iv=d}}),T=E.CBC=function(){var h=k.extend();h.Encryptor=h.extend({processBlock:function(g,b){var _=this._cipher,C=_.blockSize;d.call(this,g,b,C),_.encryptBlock(g,b),this._prevBlock=g.slice(b,b+C)}}),h.Decryptor=h.extend({processBlock:function(g,b){var _=this._cipher,C=_.blockSize,F=g.slice(b,b+C);_.decryptBlock(g,b),d.call(this,g,b,C),this._prevBlock=F}});function d(g,b,_){var C,F=this._iv;F?(C=F,this._iv=e):C=this._prevBlock;for(var U=0;U<_;U++)g[b+U]^=C[U]}return h}(),P=i.pad={},w=P.Pkcs7={pad:function(h,d){for(var g=d*4,b=g-h.sigBytes%g,_=b<<24|b<<16|b<<8|b,C=[],F=0;F<b;F+=4)C.push(_);var U=o.create(C,b);h.concat(U)},unpad:function(h){var d=h.words[h.sigBytes-1>>>2]&255;h.sigBytes-=d}};s.BlockCipher=B.extend({cfg:B.cfg.extend({mode:T,padding:w}),reset:function(){var h;B.reset.call(this);var d=this.cfg,g=d.iv,b=d.mode;this._xformMode==this._ENC_XFORM_MODE?h=b.createEncryptor:(h=b.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==h?this._mode.init(this,g&&g.words):(this._mode=h.call(b,this,g&&g.words),this._mode.__creator=h)},_doProcessBlock:function(h,d){this._mode.processBlock(h,d)},_doFinalize:function(){var h,d=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(d.pad(this._data,this.blockSize),h=this._process(!0)):(h=this._process(!0),d.unpad(h)),h},blockSize:128/32});var I=s.CipherParams=f.extend({init:function(h){this.mixIn(h)},toString:function(h){return(h||this.formatter).stringify(this)}}),D=i.format={},q=D.OpenSSL={stringify:function(h){var d,g=h.ciphertext,b=h.salt;return b?d=o.create([1398893684,1701076831]).concat(b).concat(g):d=g,d.toString(l)},parse:function(h){var d,g=l.parse(h),b=g.words;return b[0]==1398893684&&b[1]==1701076831&&(d=o.create(b.slice(2,4)),b.splice(0,4),g.sigBytes-=16),I.create({ciphertext:g,salt:d})}},N=s.SerializableCipher=f.extend({cfg:f.extend({format:q}),encrypt:function(h,d,g,b){b=this.cfg.extend(b);var _=h.createEncryptor(g,b),C=_.finalize(d),F=_.cfg;return I.create({ciphertext:C,key:g,iv:F.iv,algorithm:h,mode:F.mode,padding:F.padding,blockSize:h.blockSize,formatter:b.format})},decrypt:function(h,d,g,b){b=this.cfg.extend(b),d=this._parse(d,b.format);var _=h.createDecryptor(g,b).finalize(d.ciphertext);return _},_parse:function(h,d){return typeof h=="string"?d.parse(h,this):h}}),H=i.kdf={},x=H.OpenSSL={execute:function(h,d,g,b){b||(b=o.random(64/8));var _=m.create({keySize:d+g}).compute(h,b),C=o.create(_.words.slice(d),g*4);return _.sigBytes=d*4,I.create({key:_,iv:C,salt:b})}},v=s.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:x}),encrypt:function(h,d,g,b){b=this.cfg.extend(b);var _=b.kdf.execute(g,h.keySize,h.ivSize);b.iv=_.iv;var C=N.encrypt.call(this,h,d,_.key,b);return C.mixIn(_),C},decrypt:function(h,d,g,b){b=this.cfg.extend(b),d=this._parse(d,b.format);var _=b.kdf.execute(g,h.keySize,h.ivSize,d.salt);b.iv=_.iv;var C=N.decrypt.call(this,h,d,_.key,b);return C}})}()})}(Ar)),Ar.exports}var _r={exports:{}},Jn;function lo(){return Jn||(Jn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(s,f){var o=this._cipher,p=o.blockSize;i.call(this,s,f,p,o),this._prevBlock=s.slice(f,f+p)}}),e.Decryptor=e.extend({processBlock:function(s,f){var o=this._cipher,p=o.blockSize,a=s.slice(f,f+p);i.call(this,s,f,p,o),this._prevBlock=a}});function i(s,f,o,p){var a,l=this._iv;l?(a=l.slice(0),this._iv=void 0):a=this._prevBlock,p.encryptBlock(a,0);for(var S=0;S<o;S++)s[f+S]^=a[S]}return e}(),r.mode.CFB})}(_r)),_r.exports}var kr={exports:{}},Zn;function xo(){return Zn||(Zn=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.mode.CTR=function(){var e=r.lib.BlockCipherMode.extend(),i=e.Encryptor=e.extend({processBlock:function(s,f){var o=this._cipher,p=o.blockSize,a=this._iv,l=this._counter;a&&(l=this._counter=a.slice(0),this._iv=void 0);var S=l.slice(0);o.encryptBlock(S,0),l[p-1]=l[p-1]+1|0;for(var m=0;m<p;m++)s[f+m]^=S[m]}});return e.Decryptor=i,e}(),r.mode.CTR})}(kr)),kr.exports}var Ir={exports:{}},e0;function po(){return e0||(e0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var p=o>>16&255,a=o>>8&255,l=o&255;p===255?(p=0,a===255?(a=0,l===255?l=0:++l):++a):++p,o=0,o+=p<<16,o+=a<<8,o+=l}else o+=1<<24;return o}function s(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var f=e.Encryptor=e.extend({processBlock:function(o,p){var a=this._cipher,l=a.blockSize,S=this._iv,m=this._counter;S&&(m=this._counter=S.slice(0),this._iv=void 0),s(m);var B=m.slice(0);a.encryptBlock(B,0);for(var E=0;E<l;E++)o[p+E]^=B[E]}});return e.Decryptor=f,e}(),r.mode.CTRGladman})}(Ir)),Ir.exports}var Fr={exports:{}},t0;function vo(){return t0||(t0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.mode.OFB=function(){var e=r.lib.BlockCipherMode.extend(),i=e.Encryptor=e.extend({processBlock:function(s,f){var o=this._cipher,p=o.blockSize,a=this._iv,l=this._keystream;a&&(l=this._keystream=a.slice(0),this._iv=void 0),o.encryptBlock(l,0);for(var S=0;S<p;S++)s[f+S]^=l[S]}});return e.Decryptor=i,e}(),r.mode.OFB})}(Fr)),Fr.exports}var Tr={exports:{}},r0;function yo(){return r0||(r0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.mode.ECB=function(){var e=r.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),e.Decryptor=e.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),e}(),r.mode.ECB})}(Tr)),Tr.exports}var Dr={exports:{}},n0;function go(){return n0||(n0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.pad.AnsiX923={pad:function(e,i){var s=e.sigBytes,f=i*4,o=f-s%f,p=s+o-1;e.clamp(),e.words[p>>>2]|=o<<24-p%4*8,e.sigBytes+=o},unpad:function(e){var i=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=i}},r.pad.Ansix923})}(Dr)),Dr.exports}var Rr={exports:{}},i0;function bo(){return i0||(i0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.pad.Iso10126={pad:function(e,i){var s=i*4,f=s-e.sigBytes%s;e.concat(r.lib.WordArray.random(f-1)).concat(r.lib.WordArray.create([f<<24],1))},unpad:function(e){var i=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=i}},r.pad.Iso10126})}(Rr)),Rr.exports}var Mr={exports:{}},s0;function wo(){return s0||(s0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.pad.Iso97971={pad:function(e,i){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,i)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971})}(Mr)),Mr.exports}var Or={exports:{}},o0;function mo(){return o0||(o0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.pad.ZeroPadding={pad:function(e,i){var s=i*4;e.clamp(),e.sigBytes+=s-(e.sigBytes%s||s)},unpad:function(e){for(var i=e.words,s=e.sigBytes-1,s=e.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){e.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(Or)),Or.exports}var Ur={exports:{}},a0;function Eo(){return a0||(a0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Ur)),Ur.exports}var Nr={exports:{}},f0;function Co(){return f0||(f0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ce())})(ae,function(r){return function(e){var i=r,s=i.lib,f=s.CipherParams,o=i.enc,p=o.Hex,a=i.format;a.Hex={stringify:function(l){return l.ciphertext.toString(p)},parse:function(l){var S=p.parse(l);return f.create({ciphertext:S})}}}(),r.format.Hex})}(Nr)),Nr.exports}var Pr={exports:{}},c0;function So(){return c0||(c0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ct(),St(),lt(),Ce())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.BlockCipher,f=e.algo,o=[],p=[],a=[],l=[],S=[],m=[],B=[],E=[],k=[],T=[];(function(){for(var I=[],D=0;D<256;D++)D<128?I[D]=D<<1:I[D]=D<<1^283;for(var q=0,N=0,D=0;D<256;D++){var H=N^N<<1^N<<2^N<<3^N<<4;H=H>>>8^H&255^99,o[q]=H,p[H]=q;var x=I[q],v=I[x],h=I[v],d=I[H]*257^H*16843008;a[q]=d<<24|d>>>8,l[q]=d<<16|d>>>16,S[q]=d<<8|d>>>24,m[q]=d;var d=h*16843009^v*65537^x*257^q*16843008;B[H]=d<<24|d>>>8,E[H]=d<<16|d>>>16,k[H]=d<<8|d>>>24,T[H]=d,q?(q=x^I[I[I[h^x]]],N^=I[I[N]]):q=N=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],w=f.AES=s.extend({_doReset:function(){var I;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var D=this._keyPriorReset=this._key,q=D.words,N=D.sigBytes/4,H=this._nRounds=N+6,x=(H+1)*4,v=this._keySchedule=[],h=0;h<x;h++)h<N?v[h]=q[h]:(I=v[h-1],h%N?N>6&&h%N==4&&(I=o[I>>>24]<<24|o[I>>>16&255]<<16|o[I>>>8&255]<<8|o[I&255]):(I=I<<8|I>>>24,I=o[I>>>24]<<24|o[I>>>16&255]<<16|o[I>>>8&255]<<8|o[I&255],I^=P[h/N|0]<<24),v[h]=v[h-N]^I);for(var d=this._invKeySchedule=[],g=0;g<x;g++){var h=x-g;if(g%4)var I=v[h];else var I=v[h-4];g<4||h<=4?d[g]=I:d[g]=B[o[I>>>24]]^E[o[I>>>16&255]]^k[o[I>>>8&255]]^T[o[I&255]]}}},encryptBlock:function(I,D){this._doCryptBlock(I,D,this._keySchedule,a,l,S,m,o)},decryptBlock:function(I,D){var q=I[D+1];I[D+1]=I[D+3],I[D+3]=q,this._doCryptBlock(I,D,this._invKeySchedule,B,E,k,T,p);var q=I[D+1];I[D+1]=I[D+3],I[D+3]=q},_doCryptBlock:function(I,D,q,N,H,x,v,h){for(var d=this._nRounds,g=I[D]^q[0],b=I[D+1]^q[1],_=I[D+2]^q[2],C=I[D+3]^q[3],F=4,U=1;U<d;U++){var M=N[g>>>24]^H[b>>>16&255]^x[_>>>8&255]^v[C&255]^q[F++],K=N[b>>>24]^H[_>>>16&255]^x[C>>>8&255]^v[g&255]^q[F++],V=N[_>>>24]^H[C>>>16&255]^x[g>>>8&255]^v[b&255]^q[F++],R=N[C>>>24]^H[g>>>16&255]^x[b>>>8&255]^v[_&255]^q[F++];g=M,b=K,_=V,C=R}var M=(h[g>>>24]<<24|h[b>>>16&255]<<16|h[_>>>8&255]<<8|h[C&255])^q[F++],K=(h[b>>>24]<<24|h[_>>>16&255]<<16|h[C>>>8&255]<<8|h[g&255])^q[F++],V=(h[_>>>24]<<24|h[C>>>16&255]<<16|h[g>>>8&255]<<8|h[b&255])^q[F++],R=(h[C>>>24]<<24|h[g>>>16&255]<<16|h[b>>>8&255]<<8|h[_&255])^q[F++];I[D]=M,I[D+1]=K,I[D+2]=V,I[D+3]=R},keySize:256/32});e.AES=s._createHelper(w)}(),r.AES})}(Pr)),Pr.exports}var Lr={exports:{}},u0;function Bo(){return u0||(u0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ct(),St(),lt(),Ce())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.WordArray,f=i.BlockCipher,o=e.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],S=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],B=o.DES=f.extend({_doReset:function(){for(var P=this._key,w=P.words,I=[],D=0;D<56;D++){var q=p[D]-1;I[D]=w[q>>>5]>>>31-q%32&1}for(var N=this._subKeys=[],H=0;H<16;H++){for(var x=N[H]=[],v=l[H],D=0;D<24;D++)x[D/6|0]|=I[(a[D]-1+v)%28]<<31-D%6,x[4+(D/6|0)]|=I[28+(a[D+24]-1+v)%28]<<31-D%6;x[0]=x[0]<<1|x[0]>>>31;for(var D=1;D<7;D++)x[D]=x[D]>>>(D-1)*4+3;x[7]=x[7]<<5|x[7]>>>27}for(var h=this._invSubKeys=[],D=0;D<16;D++)h[D]=N[15-D]},encryptBlock:function(P,w){this._doCryptBlock(P,w,this._subKeys)},decryptBlock:function(P,w){this._doCryptBlock(P,w,this._invSubKeys)},_doCryptBlock:function(P,w,I){this._lBlock=P[w],this._rBlock=P[w+1],E.call(this,4,252645135),E.call(this,16,65535),k.call(this,2,858993459),k.call(this,8,16711935),E.call(this,1,1431655765);for(var D=0;D<16;D++){for(var q=I[D],N=this._lBlock,H=this._rBlock,x=0,v=0;v<8;v++)x|=S[v][((H^q[v])&m[v])>>>0];this._lBlock=H,this._rBlock=N^x}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,E.call(this,1,1431655765),k.call(this,8,16711935),k.call(this,2,858993459),E.call(this,16,65535),E.call(this,4,252645135),P[w]=this._lBlock,P[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function E(P,w){var I=(this._lBlock>>>P^this._rBlock)&w;this._rBlock^=I,this._lBlock^=I<<P}function k(P,w){var I=(this._rBlock>>>P^this._lBlock)&w;this._lBlock^=I,this._rBlock^=I<<P}e.DES=f._createHelper(B);var T=o.TripleDES=f.extend({_doReset:function(){var P=this._key,w=P.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var I=w.slice(0,2),D=w.length<4?w.slice(0,2):w.slice(2,4),q=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=B.createEncryptor(s.create(I)),this._des2=B.createEncryptor(s.create(D)),this._des3=B.createEncryptor(s.create(q))},encryptBlock:function(P,w){this._des1.encryptBlock(P,w),this._des2.decryptBlock(P,w),this._des3.encryptBlock(P,w)},decryptBlock:function(P,w){this._des3.decryptBlock(P,w),this._des2.encryptBlock(P,w),this._des1.decryptBlock(P,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=f._createHelper(T)}(),r.TripleDES})}(Lr)),Lr.exports}var Hr={exports:{}},h0;function Ao(){return h0||(h0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ct(),St(),lt(),Ce())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.StreamCipher,f=e.algo,o=f.RC4=s.extend({_doReset:function(){for(var l=this._key,S=l.words,m=l.sigBytes,B=this._S=[],E=0;E<256;E++)B[E]=E;for(var E=0,k=0;E<256;E++){var T=E%m,P=S[T>>>2]>>>24-T%4*8&255;k=(k+B[E]+P)%256;var w=B[E];B[E]=B[k],B[k]=w}this._i=this._j=0},_doProcessBlock:function(l,S){l[S]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var l=this._S,S=this._i,m=this._j,B=0,E=0;E<4;E++){S=(S+1)%256,m=(m+l[S])%256;var k=l[S];l[S]=l[m],l[m]=k,B|=l[(l[S]+l[m])%256]<<24-E*8}return this._i=S,this._j=m,B}e.RC4=s._createHelper(o);var a=f.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)p.call(this)}});e.RC4Drop=s._createHelper(a)}(),r.RC4})}(Hr)),Hr.exports}var qr={exports:{}},l0;function _o(){return l0||(l0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ct(),St(),lt(),Ce())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.StreamCipher,f=e.algo,o=[],p=[],a=[],l=f.Rabbit=s.extend({_doReset:function(){for(var m=this._key.words,B=this.cfg.iv,E=0;E<4;E++)m[E]=(m[E]<<8|m[E]>>>24)&16711935|(m[E]<<24|m[E]>>>8)&4278255360;var k=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],T=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var E=0;E<4;E++)S.call(this);for(var E=0;E<8;E++)T[E]^=k[E+4&7];if(B){var P=B.words,w=P[0],I=P[1],D=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,q=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,N=D>>>16|q&4294901760,H=q<<16|D&65535;T[0]^=D,T[1]^=N,T[2]^=q,T[3]^=H,T[4]^=D,T[5]^=N,T[6]^=q,T[7]^=H;for(var E=0;E<4;E++)S.call(this)}},_doProcessBlock:function(m,B){var E=this._X;S.call(this),o[0]=E[0]^E[5]>>>16^E[3]<<16,o[1]=E[2]^E[7]>>>16^E[5]<<16,o[2]=E[4]^E[1]>>>16^E[7]<<16,o[3]=E[6]^E[3]>>>16^E[1]<<16;for(var k=0;k<4;k++)o[k]=(o[k]<<8|o[k]>>>24)&16711935|(o[k]<<24|o[k]>>>8)&4278255360,m[B+k]^=o[k]},blockSize:128/32,ivSize:64/32});function S(){for(var m=this._X,B=this._C,E=0;E<8;E++)p[E]=B[E];B[0]=B[0]+1295307597+this._b|0,B[1]=B[1]+3545052371+(B[0]>>>0<p[0]>>>0?1:0)|0,B[2]=B[2]+886263092+(B[1]>>>0<p[1]>>>0?1:0)|0,B[3]=B[3]+1295307597+(B[2]>>>0<p[2]>>>0?1:0)|0,B[4]=B[4]+3545052371+(B[3]>>>0<p[3]>>>0?1:0)|0,B[5]=B[5]+886263092+(B[4]>>>0<p[4]>>>0?1:0)|0,B[6]=B[6]+1295307597+(B[5]>>>0<p[5]>>>0?1:0)|0,B[7]=B[7]+3545052371+(B[6]>>>0<p[6]>>>0?1:0)|0,this._b=B[7]>>>0<p[7]>>>0?1:0;for(var E=0;E<8;E++){var k=m[E]+B[E],T=k&65535,P=k>>>16,w=((T*T>>>17)+T*P>>>15)+P*P,I=((k&4294901760)*k|0)+((k&65535)*k|0);a[E]=w^I}m[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,m[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,m[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,m[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,m[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,m[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,m[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,m[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=s._createHelper(l)}(),r.Rabbit})}(qr)),qr.exports}var zr={exports:{}},x0;function ko(){return x0||(x0=1,function(n,t){(function(r,e,i){n.exports=e(xe(),Ct(),St(),lt(),Ce())})(ae,function(r){return function(){var e=r,i=e.lib,s=i.StreamCipher,f=e.algo,o=[],p=[],a=[],l=f.RabbitLegacy=s.extend({_doReset:function(){var m=this._key.words,B=this.cfg.iv,E=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],k=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var T=0;T<4;T++)S.call(this);for(var T=0;T<8;T++)k[T]^=E[T+4&7];if(B){var P=B.words,w=P[0],I=P[1],D=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,q=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,N=D>>>16|q&4294901760,H=q<<16|D&65535;k[0]^=D,k[1]^=N,k[2]^=q,k[3]^=H,k[4]^=D,k[5]^=N,k[6]^=q,k[7]^=H;for(var T=0;T<4;T++)S.call(this)}},_doProcessBlock:function(m,B){var E=this._X;S.call(this),o[0]=E[0]^E[5]>>>16^E[3]<<16,o[1]=E[2]^E[7]>>>16^E[5]<<16,o[2]=E[4]^E[1]>>>16^E[7]<<16,o[3]=E[6]^E[3]>>>16^E[1]<<16;for(var k=0;k<4;k++)o[k]=(o[k]<<8|o[k]>>>24)&16711935|(o[k]<<24|o[k]>>>8)&4278255360,m[B+k]^=o[k]},blockSize:128/32,ivSize:64/32});function S(){for(var m=this._X,B=this._C,E=0;E<8;E++)p[E]=B[E];B[0]=B[0]+1295307597+this._b|0,B[1]=B[1]+3545052371+(B[0]>>>0<p[0]>>>0?1:0)|0,B[2]=B[2]+886263092+(B[1]>>>0<p[1]>>>0?1:0)|0,B[3]=B[3]+1295307597+(B[2]>>>0<p[2]>>>0?1:0)|0,B[4]=B[4]+3545052371+(B[3]>>>0<p[3]>>>0?1:0)|0,B[5]=B[5]+886263092+(B[4]>>>0<p[4]>>>0?1:0)|0,B[6]=B[6]+1295307597+(B[5]>>>0<p[5]>>>0?1:0)|0,B[7]=B[7]+3545052371+(B[6]>>>0<p[6]>>>0?1:0)|0,this._b=B[7]>>>0<p[7]>>>0?1:0;for(var E=0;E<8;E++){var k=m[E]+B[E],T=k&65535,P=k>>>16,w=((T*T>>>17)+T*P>>>15)+P*P,I=((k&4294901760)*k|0)+((k&65535)*k|0);a[E]=w^I}m[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,m[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,m[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,m[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,m[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,m[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,m[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,m[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=s._createHelper(l)}(),r.RabbitLegacy})}(zr)),zr.exports}(function(n,t){(function(r,e,i){n.exports=e(xe(),Yt(),io(),so(),Ct(),oo(),St(),cn(),ii(),ao(),si(),fo(),co(),uo(),un(),ho(),lt(),Ce(),lo(),xo(),po(),vo(),yo(),go(),bo(),wo(),mo(),Eo(),Co(),So(),Bo(),Ao(),_o(),ko())})(ae,function(r){return r})})(ni);var Io=ni.exports;const Ae=Js(Io);var It={},Jt={};Jt.byteLength=Do;Jt.toByteArray=Mo;Jt.fromByteArray=No;var We=[],De=[],Fo=typeof Uint8Array<"u"?Uint8Array:Array,Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var vt=0,To=Wr.length;vt<To;++vt)We[vt]=Wr[vt],De[Wr.charCodeAt(vt)]=vt;De["-".charCodeAt(0)]=62;De["_".charCodeAt(0)]=63;function oi(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=t);var e=r===t?0:4-r%4;return[r,e]}function Do(n){var t=oi(n),r=t[0],e=t[1];return(r+e)*3/4-e}function Ro(n,t,r){return(t+r)*3/4-r}function Mo(n){var t,r=oi(n),e=r[0],i=r[1],s=new Fo(Ro(n,e,i)),f=0,o=i>0?e-4:e,p;for(p=0;p<o;p+=4)t=De[n.charCodeAt(p)]<<18|De[n.charCodeAt(p+1)]<<12|De[n.charCodeAt(p+2)]<<6|De[n.charCodeAt(p+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=t&255;return i===2&&(t=De[n.charCodeAt(p)]<<2|De[n.charCodeAt(p+1)]>>4,s[f++]=t&255),i===1&&(t=De[n.charCodeAt(p)]<<10|De[n.charCodeAt(p+1)]<<4|De[n.charCodeAt(p+2)]>>2,s[f++]=t>>8&255,s[f++]=t&255),s}function Oo(n){return We[n>>18&63]+We[n>>12&63]+We[n>>6&63]+We[n&63]}function Uo(n,t,r){for(var e,i=[],s=t;s<r;s+=3)e=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(Oo(e));return i.join("")}function No(n){for(var t,r=n.length,e=r%3,i=[],s=16383,f=0,o=r-e;f<o;f+=s)i.push(Uo(n,f,f+s>o?o:f+s));return e===1?(t=n[r-1],i.push(We[t>>2]+We[t<<4&63]+"==")):e===2&&(t=(n[r-2]<<8)+n[r-1],i.push(We[t>>10]+We[t>>4&63]+We[t<<2&63]+"=")),i.join("")}var hn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */hn.read=function(n,t,r,e,i){var s,f,o=i*8-e-1,p=(1<<o)-1,a=p>>1,l=-7,S=r?i-1:0,m=r?-1:1,B=n[t+S];for(S+=m,s=B&(1<<-l)-1,B>>=-l,l+=o;l>0;s=s*256+n[t+S],S+=m,l-=8);for(f=s&(1<<-l)-1,s>>=-l,l+=e;l>0;f=f*256+n[t+S],S+=m,l-=8);if(s===0)s=1-a;else{if(s===p)return f?NaN:(B?-1:1)*(1/0);f=f+Math.pow(2,e),s=s-a}return(B?-1:1)*f*Math.pow(2,s-e)};hn.write=function(n,t,r,e,i,s){var f,o,p,a=s*8-i-1,l=(1<<a)-1,S=l>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=e?0:s-1,E=e?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,f=l):(f=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-f))<1&&(f--,p*=2),f+S>=1?t+=m/p:t+=m*Math.pow(2,1-S),t*p>=2&&(f++,p/=2),f+S>=l?(o=0,f=l):f+S>=1?(o=(t*p-1)*Math.pow(2,i),f=f+S):(o=t*Math.pow(2,S-1)*Math.pow(2,i),f=0));i>=8;n[r+B]=o&255,B+=E,o/=256,i-=8);for(f=f<<i|o,a+=i;a>0;n[r+B]=f&255,B+=E,f/=256,a-=8);n[r+B-E]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=Jt,r=hn,e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=o,n.SlowBuffer=w,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const y=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(y,c),y.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function f(y){if(y>i)throw new RangeError('The value "'+y+'" is invalid for option "size"');const c=new Uint8Array(y);return Object.setPrototypeOf(c,o.prototype),c}function o(y,c,u){if(typeof y=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(y)}return p(y,c,u)}o.poolSize=8192;function p(y,c,u){if(typeof y=="string")return m(y,c);if(ArrayBuffer.isView(y))return E(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(be(y,ArrayBuffer)||y&&be(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(y,SharedArrayBuffer)||y&&be(y.buffer,SharedArrayBuffer)))return k(y,c,u);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const A=y.valueOf&&y.valueOf();if(A!=null&&A!==y)return o.from(A,c,u);const O=T(y);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return o.from(y[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}o.from=function(y,c,u){return p(y,c,u)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function a(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function l(y,c,u){return a(y),y<=0?f(y):c!==void 0?typeof u=="string"?f(y).fill(c,u):f(y).fill(c):f(y)}o.alloc=function(y,c,u){return l(y,c,u)};function S(y){return a(y),f(y<0?0:P(y)|0)}o.allocUnsafe=function(y){return S(y)},o.allocUnsafeSlow=function(y){return S(y)};function m(y,c){if((typeof c!="string"||c==="")&&(c="utf8"),!o.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const u=I(y,c)|0;let A=f(u);const O=A.write(y,c);return O!==u&&(A=A.slice(0,O)),A}function B(y){const c=y.length<0?0:P(y.length)|0,u=f(c);for(let A=0;A<c;A+=1)u[A]=y[A]&255;return u}function E(y){if(be(y,Uint8Array)){const c=new Uint8Array(y);return k(c.buffer,c.byteOffset,c.byteLength)}return B(y)}function k(y,c,u){if(c<0||y.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');let A;return c===void 0&&u===void 0?A=new Uint8Array(y):u===void 0?A=new Uint8Array(y,c):A=new Uint8Array(y,c,u),Object.setPrototypeOf(A,o.prototype),A}function T(y){if(o.isBuffer(y)){const c=P(y.length)|0,u=f(c);return u.length===0||y.copy(u,0,0,c),u}if(y.length!==void 0)return typeof y.length!="number"||Ie(y.length)?f(0):B(y);if(y.type==="Buffer"&&Array.isArray(y.data))return B(y.data)}function P(y){if(y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return y|0}function w(y){return+y!=y&&(y=0),o.alloc(+y)}o.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==o.prototype},o.compare=function(c,u){if(be(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),be(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(c)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;let A=c.length,O=u.length;for(let W=0,j=Math.min(A,O);W<j;++W)if(c[W]!==u[W]){A=c[W],O=u[W];break}return A<O?-1:O<A?1:0},o.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return o.alloc(0);let A;if(u===void 0)for(u=0,A=0;A<c.length;++A)u+=c[A].length;const O=o.allocUnsafe(u);let W=0;for(A=0;A<c.length;++A){let j=c[A];if(be(j,Uint8Array))W+j.length>O.length?(o.isBuffer(j)||(j=o.from(j)),j.copy(O,W)):Uint8Array.prototype.set.call(O,j,W);else if(o.isBuffer(j))j.copy(O,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=j.length}return O};function I(y,c){if(o.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||be(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const u=y.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&u===0)return 0;let O=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return Xe(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return Qe(y).length;default:if(O)return A?-1:Xe(y).length;c=(""+c).toLowerCase(),O=!0}}o.byteLength=I;function D(y,c,u){let A=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(y||(y="utf8");;)switch(y){case"hex":return K(this,c,u);case"utf8":case"utf-8":return _(this,c,u);case"ascii":return U(this,c,u);case"latin1":case"binary":return M(this,c,u);case"base64":return b(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,c,u);default:if(A)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),A=!0}}o.prototype._isBuffer=!0;function q(y,c,u){const A=y[c];y[c]=y[u],y[u]=A}o.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<c;u+=2)q(this,u,u+1);return this},o.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<c;u+=4)q(this,u,u+3),q(this,u+1,u+2);return this},o.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<c;u+=8)q(this,u,u+7),q(this,u+1,u+6),q(this,u+2,u+5),q(this,u+3,u+4);return this},o.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?_(this,0,c):D.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(c){if(!o.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:o.compare(this,c)===0},o.prototype.inspect=function(){let c="";const u=n.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},e&&(o.prototype[e]=o.prototype.inspect),o.prototype.compare=function(c,u,A,O,W){if(be(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),!o.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),A===void 0&&(A=c?c.length:0),O===void 0&&(O=0),W===void 0&&(W=this.length),u<0||A>c.length||O<0||W>this.length)throw new RangeError("out of range index");if(O>=W&&u>=A)return 0;if(O>=W)return-1;if(u>=A)return 1;if(u>>>=0,A>>>=0,O>>>=0,W>>>=0,this===c)return 0;let j=W-O,se=A-u;const ye=Math.min(j,se),ve=this.slice(O,W),ge=c.slice(u,A);for(let pe=0;pe<ye;++pe)if(ve[pe]!==ge[pe]){j=ve[pe],se=ge[pe];break}return j<se?-1:se<j?1:0};function N(y,c,u,A,O){if(y.length===0)return-1;if(typeof u=="string"?(A=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,Ie(u)&&(u=O?0:y.length-1),u<0&&(u=y.length+u),u>=y.length){if(O)return-1;u=y.length-1}else if(u<0)if(O)u=0;else return-1;if(typeof c=="string"&&(c=o.from(c,A)),o.isBuffer(c))return c.length===0?-1:H(y,c,u,A,O);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(y,c,u):Uint8Array.prototype.lastIndexOf.call(y,c,u):H(y,[c],u,A,O);throw new TypeError("val must be string, number or Buffer")}function H(y,c,u,A,O){let W=1,j=y.length,se=c.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(y.length<2||c.length<2)return-1;W=2,j/=2,se/=2,u/=2}function ye(ge,pe){return W===1?ge[pe]:ge.readUInt16BE(pe*W)}let ve;if(O){let ge=-1;for(ve=u;ve<j;ve++)if(ye(y,ve)===ye(c,ge===-1?0:ve-ge)){if(ge===-1&&(ge=ve),ve-ge+1===se)return ge*W}else ge!==-1&&(ve-=ve-ge),ge=-1}else for(u+se>j&&(u=j-se),ve=u;ve>=0;ve--){let ge=!0;for(let pe=0;pe<se;pe++)if(ye(y,ve+pe)!==ye(c,pe)){ge=!1;break}if(ge)return ve}return-1}o.prototype.includes=function(c,u,A){return this.indexOf(c,u,A)!==-1},o.prototype.indexOf=function(c,u,A){return N(this,c,u,A,!0)},o.prototype.lastIndexOf=function(c,u,A){return N(this,c,u,A,!1)};function x(y,c,u,A){u=Number(u)||0;const O=y.length-u;A?(A=Number(A),A>O&&(A=O)):A=O;const W=c.length;A>W/2&&(A=W/2);let j;for(j=0;j<A;++j){const se=parseInt(c.substr(j*2,2),16);if(Ie(se))return j;y[u+j]=se}return j}function v(y,c,u,A){return Se(Xe(c,y.length-u),y,u,A)}function h(y,c,u,A){return Se(ft(c),y,u,A)}function d(y,c,u,A){return Se(Qe(c),y,u,A)}function g(y,c,u,A){return Se(At(c,y.length-u),y,u,A)}o.prototype.write=function(c,u,A,O){if(u===void 0)O="utf8",A=this.length,u=0;else if(A===void 0&&typeof u=="string")O=u,A=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(A)?(A=A>>>0,O===void 0&&(O="utf8")):(O=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-u;if((A===void 0||A>W)&&(A=W),c.length>0&&(A<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let j=!1;for(;;)switch(O){case"hex":return x(this,c,u,A);case"utf8":case"utf-8":return v(this,c,u,A);case"ascii":case"latin1":case"binary":return h(this,c,u,A);case"base64":return d(this,c,u,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,c,u,A);default:if(j)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),j=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(y,c,u){return c===0&&u===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(c,u))}function _(y,c,u){u=Math.min(y.length,u);const A=[];let O=c;for(;O<u;){const W=y[O];let j=null,se=W>239?4:W>223?3:W>191?2:1;if(O+se<=u){let ye,ve,ge,pe;switch(se){case 1:W<128&&(j=W);break;case 2:ye=y[O+1],(ye&192)===128&&(pe=(W&31)<<6|ye&63,pe>127&&(j=pe));break;case 3:ye=y[O+1],ve=y[O+2],(ye&192)===128&&(ve&192)===128&&(pe=(W&15)<<12|(ye&63)<<6|ve&63,pe>2047&&(pe<55296||pe>57343)&&(j=pe));break;case 4:ye=y[O+1],ve=y[O+2],ge=y[O+3],(ye&192)===128&&(ve&192)===128&&(ge&192)===128&&(pe=(W&15)<<18|(ye&63)<<12|(ve&63)<<6|ge&63,pe>65535&&pe<1114112&&(j=pe))}}j===null?(j=65533,se=1):j>65535&&(j-=65536,A.push(j>>>10&1023|55296),j=56320|j&1023),A.push(j),O+=se}return F(A)}const C=4096;function F(y){const c=y.length;if(c<=C)return String.fromCharCode.apply(String,y);let u="",A=0;for(;A<c;)u+=String.fromCharCode.apply(String,y.slice(A,A+=C));return u}function U(y,c,u){let A="";u=Math.min(y.length,u);for(let O=c;O<u;++O)A+=String.fromCharCode(y[O]&127);return A}function M(y,c,u){let A="";u=Math.min(y.length,u);for(let O=c;O<u;++O)A+=String.fromCharCode(y[O]);return A}function K(y,c,u){const A=y.length;(!c||c<0)&&(c=0),(!u||u<0||u>A)&&(u=A);let O="";for(let W=c;W<u;++W)O+=dt[y[W]];return O}function V(y,c,u){const A=y.slice(c,u);let O="";for(let W=0;W<A.length-1;W+=2)O+=String.fromCharCode(A[W]+A[W+1]*256);return O}o.prototype.slice=function(c,u){const A=this.length;c=~~c,u=u===void 0?A:~~u,c<0?(c+=A,c<0&&(c=0)):c>A&&(c=A),u<0?(u+=A,u<0&&(u=0)):u>A&&(u=A),u<c&&(u=c);const O=this.subarray(c,u);return Object.setPrototypeOf(O,o.prototype),O};function R(y,c,u){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+c>u)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(c,u,A){c=c>>>0,u=u>>>0,A||R(c,u,this.length);let O=this[c],W=1,j=0;for(;++j<u&&(W*=256);)O+=this[c+j]*W;return O},o.prototype.readUintBE=o.prototype.readUIntBE=function(c,u,A){c=c>>>0,u=u>>>0,A||R(c,u,this.length);let O=this[c+--u],W=1;for(;u>0&&(W*=256);)O+=this[c+--u]*W;return O},o.prototype.readUint8=o.prototype.readUInt8=function(c,u){return c=c>>>0,u||R(c,1,this.length),this[c]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||R(c,2,this.length),this[c]|this[c+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||R(c,2,this.length),this[c]<<8|this[c+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||R(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||R(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},o.prototype.readBigUInt64LE=Oe(function(c){c=c>>>0,te(c,"offset");const u=this[c],A=this[c+7];(u===void 0||A===void 0)&&ee(c,this.length-8);const O=u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,W=this[++c]+this[++c]*2**8+this[++c]*2**16+A*2**24;return BigInt(O)+(BigInt(W)<<BigInt(32))}),o.prototype.readBigUInt64BE=Oe(function(c){c=c>>>0,te(c,"offset");const u=this[c],A=this[c+7];(u===void 0||A===void 0)&&ee(c,this.length-8);const O=u*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],W=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+A;return(BigInt(O)<<BigInt(32))+BigInt(W)}),o.prototype.readIntLE=function(c,u,A){c=c>>>0,u=u>>>0,A||R(c,u,this.length);let O=this[c],W=1,j=0;for(;++j<u&&(W*=256);)O+=this[c+j]*W;return W*=128,O>=W&&(O-=Math.pow(2,8*u)),O},o.prototype.readIntBE=function(c,u,A){c=c>>>0,u=u>>>0,A||R(c,u,this.length);let O=u,W=1,j=this[c+--O];for(;O>0&&(W*=256);)j+=this[c+--O]*W;return W*=128,j>=W&&(j-=Math.pow(2,8*u)),j},o.prototype.readInt8=function(c,u){return c=c>>>0,u||R(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},o.prototype.readInt16LE=function(c,u){c=c>>>0,u||R(c,2,this.length);const A=this[c]|this[c+1]<<8;return A&32768?A|4294901760:A},o.prototype.readInt16BE=function(c,u){c=c>>>0,u||R(c,2,this.length);const A=this[c+1]|this[c]<<8;return A&32768?A|4294901760:A},o.prototype.readInt32LE=function(c,u){return c=c>>>0,u||R(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},o.prototype.readInt32BE=function(c,u){return c=c>>>0,u||R(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},o.prototype.readBigInt64LE=Oe(function(c){c=c>>>0,te(c,"offset");const u=this[c],A=this[c+7];(u===void 0||A===void 0)&&ee(c,this.length-8);const O=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(A<<24);return(BigInt(O)<<BigInt(32))+BigInt(u+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),o.prototype.readBigInt64BE=Oe(function(c){c=c>>>0,te(c,"offset");const u=this[c],A=this[c+7];(u===void 0||A===void 0)&&ee(c,this.length-8);const O=(u<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(O)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+A)}),o.prototype.readFloatLE=function(c,u){return c=c>>>0,u||R(c,4,this.length),r.read(this,c,!0,23,4)},o.prototype.readFloatBE=function(c,u){return c=c>>>0,u||R(c,4,this.length),r.read(this,c,!1,23,4)},o.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||R(c,8,this.length),r.read(this,c,!0,52,8)},o.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||R(c,8,this.length),r.read(this,c,!1,52,8)};function L(y,c,u,A,O,W){if(!o.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>O||c<W)throw new RangeError('"value" argument is out of bounds');if(u+A>y.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(c,u,A,O){if(c=+c,u=u>>>0,A=A>>>0,!O){const se=Math.pow(2,8*A)-1;L(this,c,u,A,se,0)}let W=1,j=0;for(this[u]=c&255;++j<A&&(W*=256);)this[u+j]=c/W&255;return u+A},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(c,u,A,O){if(c=+c,u=u>>>0,A=A>>>0,!O){const se=Math.pow(2,8*A)-1;L(this,c,u,A,se,0)}let W=A-1,j=1;for(this[u+W]=c&255;--W>=0&&(j*=256);)this[u+W]=c/j&255;return u+A},o.prototype.writeUint8=o.prototype.writeUInt8=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,1,255,0),this[u]=c&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function G(y,c,u,A,O){le(c,A,O,y,u,7);let W=Number(c&BigInt(4294967295));y[u++]=W,W=W>>8,y[u++]=W,W=W>>8,y[u++]=W,W=W>>8,y[u++]=W;let j=Number(c>>BigInt(32)&BigInt(4294967295));return y[u++]=j,j=j>>8,y[u++]=j,j=j>>8,y[u++]=j,j=j>>8,y[u++]=j,u}function z(y,c,u,A,O){le(c,A,O,y,u,7);let W=Number(c&BigInt(4294967295));y[u+7]=W,W=W>>8,y[u+6]=W,W=W>>8,y[u+5]=W,W=W>>8,y[u+4]=W;let j=Number(c>>BigInt(32)&BigInt(4294967295));return y[u+3]=j,j=j>>8,y[u+2]=j,j=j>>8,y[u+1]=j,j=j>>8,y[u]=j,u+8}o.prototype.writeBigUInt64LE=Oe(function(c,u=0){return G(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Oe(function(c,u=0){return z(this,c,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(c,u,A,O){if(c=+c,u=u>>>0,!O){const ye=Math.pow(2,8*A-1);L(this,c,u,A,ye-1,-ye)}let W=0,j=1,se=0;for(this[u]=c&255;++W<A&&(j*=256);)c<0&&se===0&&this[u+W-1]!==0&&(se=1),this[u+W]=(c/j>>0)-se&255;return u+A},o.prototype.writeIntBE=function(c,u,A,O){if(c=+c,u=u>>>0,!O){const ye=Math.pow(2,8*A-1);L(this,c,u,A,ye-1,-ye)}let W=A-1,j=1,se=0;for(this[u+W]=c&255;--W>=0&&(j*=256);)c<0&&se===0&&this[u+W+1]!==0&&(se=1),this[u+W]=(c/j>>0)-se&255;return u+A},o.prototype.writeInt8=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},o.prototype.writeInt16LE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},o.prototype.writeInt16BE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},o.prototype.writeInt32LE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},o.prototype.writeInt32BE=function(c,u,A){return c=+c,u=u>>>0,A||L(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},o.prototype.writeBigInt64LE=Oe(function(c,u=0){return G(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Oe(function(c,u=0){return z(this,c,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(y,c,u,A,O,W){if(u+A>y.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Q(y,c,u,A,O){return c=+c,u=u>>>0,O||X(y,c,u,4),r.write(y,c,u,A,23,4),u+4}o.prototype.writeFloatLE=function(c,u,A){return Q(this,c,u,!0,A)},o.prototype.writeFloatBE=function(c,u,A){return Q(this,c,u,!1,A)};function Z(y,c,u,A,O){return c=+c,u=u>>>0,O||X(y,c,u,8),r.write(y,c,u,A,52,8),u+8}o.prototype.writeDoubleLE=function(c,u,A){return Z(this,c,u,!0,A)},o.prototype.writeDoubleBE=function(c,u,A){return Z(this,c,u,!1,A)},o.prototype.copy=function(c,u,A,O){if(!o.isBuffer(c))throw new TypeError("argument should be a Buffer");if(A||(A=0),!O&&O!==0&&(O=this.length),u>=c.length&&(u=c.length),u||(u=0),O>0&&O<A&&(O=A),O===A||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),c.length-u<O-A&&(O=c.length-u+A);const W=O-A;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,A,O):Uint8Array.prototype.set.call(c,this.subarray(A,O),u),W},o.prototype.fill=function(c,u,A,O){if(typeof c=="string"){if(typeof u=="string"?(O=u,u=0,A=this.length):typeof A=="string"&&(O=A,A=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!o.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(c.length===1){const j=c.charCodeAt(0);(O==="utf8"&&j<128||O==="latin1")&&(c=j)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<A)throw new RangeError("Out of range index");if(A<=u)return this;u=u>>>0,A=A===void 0?this.length:A>>>0,c||(c=0);let W;if(typeof c=="number")for(W=u;W<A;++W)this[W]=c;else{const j=o.isBuffer(c)?c:o.from(c,O),se=j.length;if(se===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(W=0;W<A-u;++W)this[W+u]=j[W%se]}return this};const Y={};function fe(y,c,u){Y[y]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(y,c){return`The "${y}" argument must be of type number. Received type ${typeof c}`},TypeError),fe("ERR_OUT_OF_RANGE",function(y,c,u){let A=`The value of "${y}" is out of range.`,O=u;return Number.isInteger(u)&&Math.abs(u)>2**32?O=ce(String(u)):typeof u=="bigint"&&(O=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(O=ce(O)),O+="n"),A+=` It must be ${c}. Received ${O}`,A},RangeError);function ce(y){let c="",u=y.length;const A=y[0]==="-"?1:0;for(;u>=A+4;u-=3)c=`_${y.slice(u-3,u)}${c}`;return`${y.slice(0,u)}${c}`}function oe(y,c,u){te(c,"offset"),(y[c]===void 0||y[c+u]===void 0)&&ee(c,y.length-(u+1))}function le(y,c,u,A,O,W){if(y>u||y<c){const j=typeof c=="bigint"?"n":"";let se;throw W>3?c===0||c===BigInt(0)?se=`>= 0${j} and < 2${j} ** ${(W+1)*8}${j}`:se=`>= -(2${j} ** ${(W+1)*8-1}${j}) and < 2 ** ${(W+1)*8-1}${j}`:se=`>= ${c}${j} and <= ${u}${j}`,new Y.ERR_OUT_OF_RANGE("value",se,y)}oe(A,O,W)}function te(y,c){if(typeof y!="number")throw new Y.ERR_INVALID_ARG_TYPE(c,"number",y)}function ee(y,c,u){throw Math.floor(y)!==y?(te(y,u),new Y.ERR_OUT_OF_RANGE(u||"offset","an integer",y)):c<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE(u||"offset",`>= ${u?1:0} and <= ${c}`,y)}const re=/[^+/0-9A-Za-z-_]/g;function at(y){if(y=y.split("=")[0],y=y.trim().replace(re,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function Xe(y,c){c=c||1/0;let u;const A=y.length;let O=null;const W=[];for(let j=0;j<A;++j){if(u=y.charCodeAt(j),u>55295&&u<57344){if(!O){if(u>56319){(c-=3)>-1&&W.push(239,191,189);continue}else if(j+1===A){(c-=3)>-1&&W.push(239,191,189);continue}O=u;continue}if(u<56320){(c-=3)>-1&&W.push(239,191,189),O=u;continue}u=(O-55296<<10|u-56320)+65536}else O&&(c-=3)>-1&&W.push(239,191,189);if(O=null,u<128){if((c-=1)<0)break;W.push(u)}else if(u<2048){if((c-=2)<0)break;W.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;W.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;W.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return W}function ft(y){const c=[];for(let u=0;u<y.length;++u)c.push(y.charCodeAt(u)&255);return c}function At(y,c){let u,A,O;const W=[];for(let j=0;j<y.length&&!((c-=2)<0);++j)u=y.charCodeAt(j),A=u>>8,O=u%256,W.push(O),W.push(A);return W}function Qe(y){return t.toByteArray(at(y))}function Se(y,c,u,A){let O;for(O=0;O<A&&!(O+u>=c.length||O>=y.length);++O)c[O+u]=y[O];return O}function be(y,c){return y instanceof c||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===c.name}function Ie(y){return y!==y}const dt=function(){const y="0123456789abcdef",c=new Array(256);for(let u=0;u<16;++u){const A=u*16;for(let O=0;O<16;++O)c[A+O]=y[u]+y[O]}return c}();function Oe(y){return typeof BigInt>"u"?Ye:y}function Ye(){throw new Error("BigInt not supported")}})(It);var d0=globalThis&&globalThis.__awaiter||function(n,t,r,e){function i(s){return s instanceof r?s:new r(function(f){f(s)})}return new(r||(r=Promise))(function(s,f){function o(l){try{a(e.next(l))}catch(S){f(S)}}function p(l){try{a(e.throw(l))}catch(S){f(S)}}function a(l){l.done?s(l.value):i(l.value).then(o,p)}a((e=e.apply(n,t||[])).next())})},p0=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,i,s,f;return f={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function o(a){return function(l){return p([a,l])}}function p(a){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(n,r)}catch(l){a=[6,l],i=0}finally{e=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},it=function(){function n(){this.deviceID=2}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.signalDecrypt=function(t,r){return d0(this,void 0,void 0,function(){return p0(this,function(e){return[2,r.buffer]})})},n.prototype.signalEncrypt=function(t,r){return d0(this,void 0,void 0,function(){return p0(this,function(e){return[2,r]})})},n.prototype.stringToUint=function(t){for(var r=t.split(""),e=new Array,i=0,s=r;i<s.length;i++){var f=s[i];e.push(f.charCodeAt(0))}return e},n.prototype.encryption=function(t){var r=Ae.AES.encrypt(Ae.enc.Utf8.parse(t),Ae.enc.Utf8.parse(this.aesKey),{keySize:16,iv:Ae.enc.Utf8.parse(this.aesIV),mode:Ae.mode.CBC,padding:Ae.pad.Pkcs7}),e=r.toString();return e},n.prototype.decryption=function(t){var r=this.uintToString(Array.from(t)),e=Ae.enc.Base64.parse(r),i=Ae.AES.decrypt(Ae.enc.Base64.stringify(e),Ae.enc.Utf8.parse(this.aesKey),{keySize:128/8,iv:Ae.enc.Utf8.parse(this.aesIV),mode:Ae.mode.CBC,padding:Ae.pad.Pkcs7});return Uint8Array.from(It.Buffer.from(i.toString(Ae.enc.Utf8)))},n.prototype.encryption2=function(t){var r=String.fromCharCode.apply(null,Array.from(t)),e=decodeURIComponent(escape(r));return this.encryption(e)},n.prototype.uintToString=function(t){var r=String.fromCharCode.apply(null,t);return r},n}(),ln=function(){function n(){}return n.AddUnsigned=function(t,r){var e,i,s,f,o;return s=t&2147483648,f=r&2147483648,e=t&1073741824,i=r&1073741824,o=(t&1073741823)+(r&1073741823),e&i?o^2147483648^s^f:e|i?o&1073741824?o^3221225472^s^f:o^1073741824^s^f:o^s^f},n.FF=function(t,r,e,i,s,f,o){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.F(r,e,i),s),o)),this.AddUnsigned(this.RotateLeft(t,f),r)},n.GG=function(t,r,e,i,s,f,o){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.G(r,e,i),s),o)),this.AddUnsigned(this.RotateLeft(t,f),r)},n.HH=function(t,r,e,i,s,f,o){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.H(r,e,i),s),o)),this.AddUnsigned(this.RotateLeft(t,f),r)},n.II=function(t,r,e,i,s,f,o){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.I(r,e,i),s),o)),this.AddUnsigned(this.RotateLeft(t,f),r)},n.ConvertToWordArray=function(t){for(var r,e=t.length,i=e+8,s=(i-i%64)/64,f=(s+1)*16,o=Array(f-1),p=0,a=0;a<e;)r=(a-a%4)/4,p=a%4*8,o[r]=o[r]|t.charCodeAt(a)<<p,a++;return r=(a-a%4)/4,p=a%4*8,o[r]=o[r]|128<<p,o[f-2]=e<<3,o[f-1]=e>>>29,o},n.WordToHex=function(t){var r="",e="",i,s;for(s=0;s<=3;s++)i=t>>>s*8&255,e="0"+i.toString(16),r=r+e.substr(e.length-2,2);return r},n.Utf8Encode=function(t){var r="",e;t=t.replace(/\r\n/g,`
`);for(var i=0;i<t.length;i++)e=t.charCodeAt(i),e<128?r+=String.fromCharCode(e):e>127&&e<2048?(r+=String.fromCharCode(e>>6|192),r+=String.fromCharCode(e&63|128)):(r+=String.fromCharCode(e>>12|224),r+=String.fromCharCode(e>>6&63|128),r+=String.fromCharCode(e&63|128));return r},n.init=function(t){var r;for(typeof t!="string"&&(t=JSON.stringify(t)),this._string=this.Utf8Encode(t),this.x=this.ConvertToWordArray(this._string),this.a=1732584193,this.b=4023233417,this.c=2562383102,this.d=271733878,this.k=0;this.k<this.x.length;this.k+=16)this.AA=this.a,this.BB=this.b,this.CC=this.c,this.DD=this.d,this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k],this.S11,3614090360),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+1],this.S12,3905402710),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S13,606105819),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+3],this.S14,3250441966),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S11,4118548399),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+5],this.S12,1200080426),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S13,2821735955),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+7],this.S14,4249261313),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S11,1770035416),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+9],this.S12,2336552879),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S13,4294925233),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+11],this.S14,2304563134),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S11,1804603682),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+13],this.S12,4254626195),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S13,2792965006),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+15],this.S14,1236535329),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S21,4129170786),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+6],this.S22,3225465664),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S23,643717713),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k],this.S24,3921069994),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S21,3593408605),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+10],this.S22,38016083),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S23,3634488961),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+4],this.S24,3889429448),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S21,568446438),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+14],this.S22,3275163606),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S23,4107603335),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+8],this.S24,1163531501),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S21,2850285829),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+2],this.S22,4243563512),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S23,1735328473),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+12],this.S24,2368359562),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S31,4294588738),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+8],this.S32,2272392833),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S33,1839030562),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+14],this.S34,4259657740),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S31,2763975236),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+4],this.S32,1272893353),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S33,4139469664),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+10],this.S34,3200236656),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S31,681279174),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k],this.S32,3936430074),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S33,3572445317),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+6],this.S34,76029189),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S31,3654602809),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+12],this.S32,3873151461),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S33,530742520),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+2],this.S34,3299628645),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k],this.S41,4096336452),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+7],this.S42,1126891415),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S43,2878612391),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+5],this.S44,4237533241),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S41,1700485571),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+3],this.S42,2399980690),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S43,4293915773),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+1],this.S44,2240044497),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S41,1873313359),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+15],this.S42,4264355552),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S43,2734768916),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+13],this.S44,1309151649),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S41,4149444226),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+11],this.S42,3174756917),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S43,718787259),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+9],this.S44,3951481745),this.a=this.AddUnsigned(this.a,this.AA),this.b=this.AddUnsigned(this.b,this.BB),this.c=this.AddUnsigned(this.c,this.CC),this.d=this.AddUnsigned(this.d,this.DD);return r=this.WordToHex(this.a)+this.WordToHex(this.b)+this.WordToHex(this.c)+this.WordToHex(this.d),r.toLowerCase()},n.x=Array(),n.S11=7,n.S12=12,n.S13=17,n.S14=22,n.S21=5,n.S22=9,n.S23=14,n.S24=20,n.S31=4,n.S32=11,n.S33=16,n.S34=23,n.S41=6,n.S42=10,n.S43=15,n.S44=21,n.RotateLeft=function(t,r){return t<<r|t>>>32-r},n.F=function(t,r,e){return t&r|~t&e},n.G=function(t,r,e){return t&e|r&~e},n.H=function(t,r,e){return t^r^e},n.I=function(t,r,e){return r^(t|~e)},n}(),qe=globalThis&&globalThis.__extends||function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])},n(t,r)};return function(t,r){n(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),ue;(function(n){n[n.Reserved=0]="Reserved",n[n.CONNECT=1]="CONNECT",n[n.CONNACK=2]="CONNACK",n[n.SEND=3]="SEND",n[n.SENDACK=4]="SENDACK",n[n.RECV=5]="RECV",n[n.RECVACK=6]="RECVACK",n[n.PING=7]="PING",n[n.PONG=8]="PONG",n[n.DISCONNECT=9]="DISCONNECT",n[n.SUB=10]="SUB",n[n.SUBACK=11]="SUBACK"})(ue||(ue={}));var gt=function(){function n(){this.receiptEnabled=!1,this.topic=!1}return n.prototype.toUint8=function(){return this.boolToInt(this.receiptEnabled)<<7|this.boolToInt(this.topic)<<3},n.fromUint8=function(t){var r=new n;return r.receiptEnabled=(t>>7&1)>0,r.topic=(t>>3&1)>0,r},n.prototype.boolToInt=function(t){return t?1:0},n}(),Me=function(){function n(){this._packetType=ue.Reserved}return n.prototype.from=function(t){this.noPersist=t.noPersist,this.reddot=t.reddot,this.syncOnce=t.syncOnce,this.dup=t.dup,this.remainingLength=t.remainingLength,this._packetType=t._packetType},Object.defineProperty(n.prototype,"packetType",{get:function(){return this._packetType},set:function(t){this._packetType=t},enumerable:!0,configurable:!0}),n}(),Po=function(n){qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.CONNECT},enumerable:!0,configurable:!0}),t}(Me),Lo=function(n){qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.reasonCode=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.CONNACK},enumerable:!0,configurable:!0}),t}(Me),Ho=function(n){qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.reasonCode=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.DISCONNECT},enumerable:!0,configurable:!0}),t}(Me),qo=function(n){qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.SEND},enumerable:!0,configurable:!0}),t.prototype.veritifyString=function(r){var e,i=this.uint8ArrayToString(r);return""+this.clientSeq+this.clientMsgNo+((e=this.channelID)!==null&&e!==void 0?e:"")+this.channelType+i},t.prototype.uint8ArrayToString=function(r){var e=String.fromCharCode.apply(null,Array.from(r)),i=decodeURIComponent(escape(e));return i},t}(Me),ai=function(n){qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.RECV},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"veritifyString",{get:function(){var r,e,i=this.uint8ArrayToString(this.payload);return""+this.messageID+this.messageSeq+this.clientMsgNo+this.timestamp+((r=this.fromUID)!==null&&r!==void 0?r:"")+((e=this.channelID)!==null&&e!==void 0?e:"")+this.channelType+i},enumerable:!0,configurable:!0}),t.prototype.uint8ArrayToString=function(r){var e=String.fromCharCode.apply(null,Array.from(r)),i=decodeURIComponent(escape(e));return i},t}(Me),fi=function(n){qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.PING},enumerable:!0,configurable:!0}),t}(Me),zo=function(n){qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.PONG},enumerable:!0,configurable:!0}),t}(Me),ci=function(n){qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.SENDACK},enumerable:!0,configurable:!0}),t}(Me),ui=function(n){qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.RECVACK},enumerable:!0,configurable:!0}),t}(Me),Wo=function(n){qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.action=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.SUB},enumerable:!0,configurable:!0}),t}(Me),Go=function(n){qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.action=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ue.SUBACK},enumerable:!0,configurable:!0}),t}(Me),Ko=function(){function n(){this.packetEncodeMap={},this.packetDecodeMap={},this.packetEncodeMap[ue.CONNECT]=this.encodeConnect,this.packetEncodeMap[ue.SEND]=this.encodeSend,this.packetEncodeMap[ue.RECVACK]=this.encodeRecvack,this.packetEncodeMap[ue.SUB]=this.encodeSub,this.packetDecodeMap[ue.CONNACK]=this.decodeConnect,this.packetDecodeMap[ue.RECV]=this.decodeRecvPacket,this.packetDecodeMap[ue.SENDACK]=this.decodeSendackPacket,this.packetDecodeMap[ue.DISCONNECT]=this.decodeDisconnect,this.packetDecodeMap[ue.SUBACK]=this.decodeSuback}return n.prototype.encode=function(t){var r=new kt,e;if(t.packetType!==ue.PING&&t.packetType!==ue.PONG){var i=this.packetEncodeMap[t.packetType];e=i(t);var s=this.encodeFramer(t,e.length);r.writeBytes(s),r.writeBytes(e)}else{var s=this.encodeFramer(t,0);r.writeBytes(s)}return r.toUint8Array()},n.prototype.decode=function(t){var r=new Ys(t),e=this.decodeFramer(r);if(e.packetType===ue.PING)return new fi;if(e.packetType===ue.PONG)return new zo;var i=this.packetDecodeMap[e.packetType];return i==null&&console.log("不支持的协议包->",e.packetType),i(e,r)},n.prototype.encodeConnect=function(t){var r=new kt;return r.writeUint8(t.version),r.writeUint8(t.deviceFlag),r.writeString(t.deviceID),r.writeString(t.uid),r.writeString(t.token),r.writeInt64(new ht(t.clientTimestamp)),r.writeString(t.clientKey),r.w},n.prototype.encodeSend=function(t){var r=new kt;r.writeByte(t.setting),r.writeInt32(t.clientSeq),(!t.clientMsgNo||t.clientMsgNo==="")&&(t.clientMsgNo=jo()),r.writeString(t.clientMsgNo),r.writeString(t.channelID),r.writeByte(t.channelType);var e=Uint8Array.from(r.stringToUint(it.shared().encryption2(t.payload))),i=it.shared().encryption(t.veritifyString(e));r.writeString(ln.init(i));var s=gt.fromUint8(t.setting);return s.topic&&r.writeString(t.topic||""),e&&r.writeBytes(Array.from(e)),r.w},n.prototype.encodeSub=function(t){var r=new kt;return r.writeByte(t.setting),r.writeString(t.clientMsgNo),r.writeString(t.channelID),r.writeByte(t.channelType),r.writeByte(t.action),r.writeString(t.param||""),r.w},n.prototype.decodeSuback=function(t,r){var e=new Go;return e.from(t),e.clientMsgNo=r.readString(),e.channelID=r.readString(),e.channelType=r.readByte(),e.action=r.readByte(),e.reasonCode=r.readByte(),e},n.prototype.encodeRecvack=function(t){var r=new kt;return r.writeInt64(new ht(t.messageID)),r.writeInt32(t.messageSeq),r.w},n.prototype.decodeConnect=function(t,r){var e=new Lo;return e.from(t),e.timeDiff=r.readInt64(),e.reasonCode=r.readByte(),e.serverKey=r.readString(),e.salt=r.readString(),e},n.prototype.decodeDisconnect=function(t,r){var e=new Ho;return e.from(t),e.reasonCode=r.readByte(),e.reason=r.readString(),e},n.prototype.decodeRecvPacket=function(t,r){var e=new ai;e.from(t),e.setting=r.readByte(),e.msgKey=r.readString(),e.fromUID=r.readString(),e.channelID=r.readString(),e.channelType=r.readByte(),e.clientMsgNo=r.readString(),e.messageID=r.readInt64().toString(),e.messageSeq=r.readInt32(),e.timestamp=r.readInt32();var i=gt.fromUint8(e.setting);return i.topic&&(e.topic=r.readString()),e.payload=r.readRemaining(),e},n.prototype.decodeSendackPacket=function(t,r){var e=new ci;return e.from(t),e.messageID=r.readInt64(),e.clientSeq=r.readInt32(),e.messageSeq=r.readInt32(),e.reasonCode=r.readByte(),e},n.prototype.encodeFramer=function(t,r){if(t.packetType===ue.PING||t.packetType===ue.PONG)return[t.packetType<<4|0];var e=new Array,i=this.encodeBool(t.dup)<<3|this.encodeBool(t.syncOnce)<<2|this.encodeBool(t.reddot)<<1|this.encodeBool(t.noPersist);e.push(t.packetType<<4|i);var s=this.encodeVariableLength(r);return e.push.apply(e,s),e},n.prototype.decodeFramer=function(t){var r=t.readByte(),e=new Me;return e.noPersist=(r&1)>0,e.reddot=(r>>1&1)>0,e.syncOnce=(r>>2&1)>0,e.dup=(r>>3&1)>0,e.packetType=r>>4,e.packetType!=ue.PING&&e.packetType!=ue.PONG&&(e.remainingLength=t.readVariableLength()),e},n.prototype.encodeBool=function(t){return t?1:0},n.prototype.encodeVariableLength=function(t){for(var r=new Array;t>0;){var e=t%128;t=Math.floor(t/128),t>0&&(e|=128),r.push(e)}return r},n}();function jo(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,r=n=="x"?t:t&3|8;return r.toString(16)})}var ot={};Object.defineProperty(ot,"__esModule",{value:!0});let hi=new Uint8Array(32);hi[0]=9;function J(n){var t,r=new Float64Array(16);if(n)for(t=0;t<n.length;t++)r[t]=n[t];return r}const Qr=J(),wt=J([1]),$o=J([56129,1]),Vo=J([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Xo=J([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v0=J([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y0=J([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Qo=J([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g0(n,t,r,e){n[t]=r>>24&255,n[t+1]=r>>16&255,n[t+2]=r>>8&255,n[t+3]=r&255,n[t+4]=e>>24&255,n[t+5]=e>>16&255,n[t+6]=e>>8&255,n[t+7]=e&255}function Yo(n,t,r,e,i){var s,f=0;for(s=0;s<i;s++)f|=n[t+s]^r[e+s];return(1&f-1>>>8)-1}function li(n,t,r,e){return Yo(n,t,r,e,32)}function tt(n,t){var r;for(r=0;r<16;r++)n[r]=t[r]|0}function Gr(n){var t,r,e=1;for(t=0;t<16;t++)r=n[t]+e+65535,e=Math.floor(r/65536),n[t]=r-e*65536;n[0]+=e-1+37*(e-1)}function yt(n,t,r){for(var e,i=~(r-1),s=0;s<16;s++)e=i&(n[s]^t[s]),n[s]^=e,t[s]^=e}function mt(n,t){var r,e,i,s=J(),f=J();for(r=0;r<16;r++)f[r]=t[r];for(Gr(f),Gr(f),Gr(f),e=0;e<2;e++){for(s[0]=f[0]-65517,r=1;r<15;r++)s[r]=f[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=f[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,yt(f,s,1-i)}for(r=0;r<16;r++)n[2*r]=f[r]&255,n[2*r+1]=f[r]>>8}function b0(n,t){var r=new Uint8Array(32),e=new Uint8Array(32);return mt(r,n),mt(e,t),li(r,0,e,0)}function xi(n){var t=new Uint8Array(32);return mt(t,n),t[0]&1}function xn(n,t){var r;for(r=0;r<16;r++)n[r]=t[2*r]+(t[2*r+1]<<8);n[15]&=32767}function Pe(n,t,r){for(var e=0;e<16;e++)n[e]=t[e]+r[e]}function He(n,t,r){for(var e=0;e<16;e++)n[e]=t[e]-r[e]}function he(n,t,r){var e,i,s=0,f=0,o=0,p=0,a=0,l=0,S=0,m=0,B=0,E=0,k=0,T=0,P=0,w=0,I=0,D=0,q=0,N=0,H=0,x=0,v=0,h=0,d=0,g=0,b=0,_=0,C=0,F=0,U=0,M=0,K=0,V=r[0],R=r[1],L=r[2],G=r[3],z=r[4],X=r[5],Q=r[6],Z=r[7],Y=r[8],fe=r[9],ce=r[10],oe=r[11],le=r[12],te=r[13],ee=r[14],re=r[15];e=t[0],s+=e*V,f+=e*R,o+=e*L,p+=e*G,a+=e*z,l+=e*X,S+=e*Q,m+=e*Z,B+=e*Y,E+=e*fe,k+=e*ce,T+=e*oe,P+=e*le,w+=e*te,I+=e*ee,D+=e*re,e=t[1],f+=e*V,o+=e*R,p+=e*L,a+=e*G,l+=e*z,S+=e*X,m+=e*Q,B+=e*Z,E+=e*Y,k+=e*fe,T+=e*ce,P+=e*oe,w+=e*le,I+=e*te,D+=e*ee,q+=e*re,e=t[2],o+=e*V,p+=e*R,a+=e*L,l+=e*G,S+=e*z,m+=e*X,B+=e*Q,E+=e*Z,k+=e*Y,T+=e*fe,P+=e*ce,w+=e*oe,I+=e*le,D+=e*te,q+=e*ee,N+=e*re,e=t[3],p+=e*V,a+=e*R,l+=e*L,S+=e*G,m+=e*z,B+=e*X,E+=e*Q,k+=e*Z,T+=e*Y,P+=e*fe,w+=e*ce,I+=e*oe,D+=e*le,q+=e*te,N+=e*ee,H+=e*re,e=t[4],a+=e*V,l+=e*R,S+=e*L,m+=e*G,B+=e*z,E+=e*X,k+=e*Q,T+=e*Z,P+=e*Y,w+=e*fe,I+=e*ce,D+=e*oe,q+=e*le,N+=e*te,H+=e*ee,x+=e*re,e=t[5],l+=e*V,S+=e*R,m+=e*L,B+=e*G,E+=e*z,k+=e*X,T+=e*Q,P+=e*Z,w+=e*Y,I+=e*fe,D+=e*ce,q+=e*oe,N+=e*le,H+=e*te,x+=e*ee,v+=e*re,e=t[6],S+=e*V,m+=e*R,B+=e*L,E+=e*G,k+=e*z,T+=e*X,P+=e*Q,w+=e*Z,I+=e*Y,D+=e*fe,q+=e*ce,N+=e*oe,H+=e*le,x+=e*te,v+=e*ee,h+=e*re,e=t[7],m+=e*V,B+=e*R,E+=e*L,k+=e*G,T+=e*z,P+=e*X,w+=e*Q,I+=e*Z,D+=e*Y,q+=e*fe,N+=e*ce,H+=e*oe,x+=e*le,v+=e*te,h+=e*ee,d+=e*re,e=t[8],B+=e*V,E+=e*R,k+=e*L,T+=e*G,P+=e*z,w+=e*X,I+=e*Q,D+=e*Z,q+=e*Y,N+=e*fe,H+=e*ce,x+=e*oe,v+=e*le,h+=e*te,d+=e*ee,g+=e*re,e=t[9],E+=e*V,k+=e*R,T+=e*L,P+=e*G,w+=e*z,I+=e*X,D+=e*Q,q+=e*Z,N+=e*Y,H+=e*fe,x+=e*ce,v+=e*oe,h+=e*le,d+=e*te,g+=e*ee,b+=e*re,e=t[10],k+=e*V,T+=e*R,P+=e*L,w+=e*G,I+=e*z,D+=e*X,q+=e*Q,N+=e*Z,H+=e*Y,x+=e*fe,v+=e*ce,h+=e*oe,d+=e*le,g+=e*te,b+=e*ee,_+=e*re,e=t[11],T+=e*V,P+=e*R,w+=e*L,I+=e*G,D+=e*z,q+=e*X,N+=e*Q,H+=e*Z,x+=e*Y,v+=e*fe,h+=e*ce,d+=e*oe,g+=e*le,b+=e*te,_+=e*ee,C+=e*re,e=t[12],P+=e*V,w+=e*R,I+=e*L,D+=e*G,q+=e*z,N+=e*X,H+=e*Q,x+=e*Z,v+=e*Y,h+=e*fe,d+=e*ce,g+=e*oe,b+=e*le,_+=e*te,C+=e*ee,F+=e*re,e=t[13],w+=e*V,I+=e*R,D+=e*L,q+=e*G,N+=e*z,H+=e*X,x+=e*Q,v+=e*Z,h+=e*Y,d+=e*fe,g+=e*ce,b+=e*oe,_+=e*le,C+=e*te,F+=e*ee,U+=e*re,e=t[14],I+=e*V,D+=e*R,q+=e*L,N+=e*G,H+=e*z,x+=e*X,v+=e*Q,h+=e*Z,d+=e*Y,g+=e*fe,b+=e*ce,_+=e*oe,C+=e*le,F+=e*te,U+=e*ee,M+=e*re,e=t[15],D+=e*V,q+=e*R,N+=e*L,H+=e*G,x+=e*z,v+=e*X,h+=e*Q,d+=e*Z,g+=e*Y,b+=e*fe,_+=e*ce,C+=e*oe,F+=e*le,U+=e*te,M+=e*ee,K+=e*re,s+=38*q,f+=38*N,o+=38*H,p+=38*x,a+=38*v,l+=38*h,S+=38*d,m+=38*g,B+=38*b,E+=38*_,k+=38*C,T+=38*F,P+=38*U,w+=38*M,I+=38*K,i=1,e=s+i+65535,i=Math.floor(e/65536),s=e-i*65536,e=f+i+65535,i=Math.floor(e/65536),f=e-i*65536,e=o+i+65535,i=Math.floor(e/65536),o=e-i*65536,e=p+i+65535,i=Math.floor(e/65536),p=e-i*65536,e=a+i+65535,i=Math.floor(e/65536),a=e-i*65536,e=l+i+65535,i=Math.floor(e/65536),l=e-i*65536,e=S+i+65535,i=Math.floor(e/65536),S=e-i*65536,e=m+i+65535,i=Math.floor(e/65536),m=e-i*65536,e=B+i+65535,i=Math.floor(e/65536),B=e-i*65536,e=E+i+65535,i=Math.floor(e/65536),E=e-i*65536,e=k+i+65535,i=Math.floor(e/65536),k=e-i*65536,e=T+i+65535,i=Math.floor(e/65536),T=e-i*65536,e=P+i+65535,i=Math.floor(e/65536),P=e-i*65536,e=w+i+65535,i=Math.floor(e/65536),w=e-i*65536,e=I+i+65535,i=Math.floor(e/65536),I=e-i*65536,e=D+i+65535,i=Math.floor(e/65536),D=e-i*65536,s+=i-1+37*(i-1),i=1,e=s+i+65535,i=Math.floor(e/65536),s=e-i*65536,e=f+i+65535,i=Math.floor(e/65536),f=e-i*65536,e=o+i+65535,i=Math.floor(e/65536),o=e-i*65536,e=p+i+65535,i=Math.floor(e/65536),p=e-i*65536,e=a+i+65535,i=Math.floor(e/65536),a=e-i*65536,e=l+i+65535,i=Math.floor(e/65536),l=e-i*65536,e=S+i+65535,i=Math.floor(e/65536),S=e-i*65536,e=m+i+65535,i=Math.floor(e/65536),m=e-i*65536,e=B+i+65535,i=Math.floor(e/65536),B=e-i*65536,e=E+i+65535,i=Math.floor(e/65536),E=e-i*65536,e=k+i+65535,i=Math.floor(e/65536),k=e-i*65536,e=T+i+65535,i=Math.floor(e/65536),T=e-i*65536,e=P+i+65535,i=Math.floor(e/65536),P=e-i*65536,e=w+i+65535,i=Math.floor(e/65536),w=e-i*65536,e=I+i+65535,i=Math.floor(e/65536),I=e-i*65536,e=D+i+65535,i=Math.floor(e/65536),D=e-i*65536,s+=i-1+37*(i-1),n[0]=s,n[1]=f,n[2]=o,n[3]=p,n[4]=a,n[5]=l,n[6]=S,n[7]=m,n[8]=B,n[9]=E,n[10]=k,n[11]=T,n[12]=P,n[13]=w,n[14]=I,n[15]=D}function Le(n,t){he(n,t,t)}function dn(n,t){var r=J(),e;for(e=0;e<16;e++)r[e]=t[e];for(e=253;e>=0;e--)Le(r,r),e!==2&&e!==4&&he(r,r,t);for(e=0;e<16;e++)n[e]=r[e]}function Jo(n,t){var r=J(),e;for(e=0;e<16;e++)r[e]=t[e];for(e=250;e>=0;e--)Le(r,r),e!==1&&he(r,r,t);for(e=0;e<16;e++)n[e]=r[e]}function di(n,t,r){var e=new Uint8Array(32),i=new Float64Array(80),s,f,o=J(),p=J(),a=J(),l=J(),S=J(),m=J();for(f=0;f<31;f++)e[f]=t[f];for(e[31]=t[31]&127|64,e[0]&=248,xn(i,r),f=0;f<16;f++)p[f]=i[f],l[f]=o[f]=a[f]=0;for(o[0]=l[0]=1,f=254;f>=0;--f)s=e[f>>>3]>>>(f&7)&1,yt(o,p,s),yt(a,l,s),Pe(S,o,a),He(o,o,a),Pe(a,p,l),He(p,p,l),Le(l,S),Le(m,o),he(o,a,o),he(a,p,S),Pe(S,o,a),He(o,o,a),Le(p,o),He(a,l,m),he(o,a,$o),Pe(o,o,l),he(a,a,o),he(o,l,m),he(l,p,i),Le(p,S),yt(o,p,s),yt(a,l,s);for(f=0;f<16;f++)i[f+16]=o[f],i[f+32]=a[f],i[f+48]=p[f],i[f+64]=l[f];var B=i.subarray(32),E=i.subarray(16);return dn(B,B),he(E,E,B),mt(n,E),0}function Zo(n,t){return di(n,t,hi)}var w0=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m0(n,t,r,e){for(var i=new Int32Array(16),s=new Int32Array(16),f,o,p,a,l,S,m,B,E,k,T,P,w,I,D,q,N,H,x,v,h,d,g,b,_,C,F=n[0],U=n[1],M=n[2],K=n[3],V=n[4],R=n[5],L=n[6],G=n[7],z=t[0],X=t[1],Q=t[2],Z=t[3],Y=t[4],fe=t[5],ce=t[6],oe=t[7],le=0;e>=128;){for(x=0;x<16;x++)v=8*x+le,i[x]=r[v+0]<<24|r[v+1]<<16|r[v+2]<<8|r[v+3],s[x]=r[v+4]<<24|r[v+5]<<16|r[v+6]<<8|r[v+7];for(x=0;x<80;x++)if(f=F,o=U,p=M,a=K,l=V,S=R,m=L,B=G,E=z,k=X,T=Q,P=Z,w=Y,I=fe,D=ce,q=oe,h=G,d=oe,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=(V>>>14|Y<<32-14)^(V>>>18|Y<<32-18)^(Y>>>41-32|V<<32-(41-32)),d=(Y>>>14|V<<32-14)^(Y>>>18|V<<32-18)^(V>>>41-32|Y<<32-(41-32)),g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,h=V&R^~V&L,d=Y&fe^~Y&ce,g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,h=w0[x*2],d=w0[x*2+1],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,h=i[x%16],d=s[x%16],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,N=_&65535|C<<16,H=g&65535|b<<16,h=N,d=H,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=(F>>>28|z<<32-28)^(z>>>34-32|F<<32-(34-32))^(z>>>39-32|F<<32-(39-32)),d=(z>>>28|F<<32-28)^(F>>>34-32|z<<32-(34-32))^(F>>>39-32|z<<32-(39-32)),g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,h=F&U^F&M^U&M,d=z&X^z&Q^X&Q,g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,B=_&65535|C<<16,q=g&65535|b<<16,h=a,d=P,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=N,d=H,g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,a=_&65535|C<<16,P=g&65535|b<<16,U=f,M=o,K=p,V=a,R=l,L=S,G=m,F=B,X=E,Q=k,Z=T,Y=P,fe=w,ce=I,oe=D,z=q,x%16===15)for(v=0;v<16;v++)h=i[v],d=s[v],g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=i[(v+9)%16],d=s[(v+9)%16],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,N=i[(v+1)%16],H=s[(v+1)%16],h=(N>>>1|H<<32-1)^(N>>>8|H<<32-8)^N>>>7,d=(H>>>1|N<<32-1)^(H>>>8|N<<32-8)^(H>>>7|N<<32-7),g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,N=i[(v+14)%16],H=s[(v+14)%16],h=(N>>>19|H<<32-19)^(H>>>61-32|N<<32-(61-32))^N>>>6,d=(H>>>19|N<<32-19)^(N>>>61-32|H<<32-(61-32))^(H>>>6|N<<32-6),g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,i[v]=_&65535|C<<16,s[v]=g&65535|b<<16;h=F,d=z,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[0],d=t[0],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[0]=F=_&65535|C<<16,t[0]=z=g&65535|b<<16,h=U,d=X,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[1],d=t[1],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[1]=U=_&65535|C<<16,t[1]=X=g&65535|b<<16,h=M,d=Q,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[2],d=t[2],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[2]=M=_&65535|C<<16,t[2]=Q=g&65535|b<<16,h=K,d=Z,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[3],d=t[3],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[3]=K=_&65535|C<<16,t[3]=Z=g&65535|b<<16,h=V,d=Y,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[4],d=t[4],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[4]=V=_&65535|C<<16,t[4]=Y=g&65535|b<<16,h=R,d=fe,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[5],d=t[5],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[5]=R=_&65535|C<<16,t[5]=fe=g&65535|b<<16,h=L,d=ce,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[6],d=t[6],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[6]=L=_&65535|C<<16,t[6]=ce=g&65535|b<<16,h=G,d=oe,g=d&65535,b=d>>>16,_=h&65535,C=h>>>16,h=n[7],d=t[7],g+=d&65535,b+=d>>>16,_+=h&65535,C+=h>>>16,b+=g>>>16,_+=b>>>16,C+=_>>>16,n[7]=G=_&65535|C<<16,t[7]=oe=g&65535|b<<16,le+=128,e-=128}return e}function Tt(n,t,r){var e=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),f,o=r;for(e[0]=1779033703,e[1]=3144134277,e[2]=1013904242,e[3]=2773480762,e[4]=1359893119,e[5]=2600822924,e[6]=528734635,e[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,m0(e,i,t,r),r%=128,f=0;f<r;f++)s[f]=t[o-r+f];for(s[r]=128,r=256-128*(r<112?1:0),s[r-9]=0,g0(s,r-8,o/536870912|0,o<<3),m0(e,i,s,r),f=0;f<8;f++)g0(n,8*f,e[f],i[f]);return 0}function Yr(n,t){var r=J(),e=J(),i=J(),s=J(),f=J(),o=J(),p=J(),a=J(),l=J();He(r,n[1],n[0]),He(l,t[1],t[0]),he(r,r,l),Pe(e,n[0],n[1]),Pe(l,t[0],t[1]),he(e,e,l),he(i,n[3],t[3]),he(i,i,Xo),he(s,n[2],t[2]),Pe(s,s,s),He(f,e,r),He(o,s,i),Pe(p,s,i),Pe(a,e,r),he(n[0],f,o),he(n[1],a,p),he(n[2],p,o),he(n[3],f,a)}function E0(n,t,r){var e;for(e=0;e<4;e++)yt(n[e],t[e],r)}function Zt(n,t){var r=J(),e=J(),i=J();dn(i,t[2]),he(r,t[0],i),he(e,t[1],i),mt(n,e),n[31]^=xi(r)<<7}function pi(n,t,r){var e,i;for(tt(n[0],Qr),tt(n[1],wt),tt(n[2],wt),tt(n[3],Qr),i=255;i>=0;--i)e=r[i/8|0]>>(i&7)&1,E0(n,t,e),Yr(t,n),Yr(n,n),E0(n,t,e)}function er(n,t){var r=[J(),J(),J(),J()];tt(r[0],v0),tt(r[1],y0),tt(r[2],wt),he(r[3],v0,y0),pi(n,r,t)}var Kr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function pn(n,t){var r,e,i,s;for(e=63;e>=32;--e){for(r=0,i=e-32,s=e-12;i<s;++i)t[i]+=r-16*t[e]*Kr[i-(e-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[e]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*Kr[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*Kr[i];for(e=0;e<32;e++)t[e+1]+=t[e]>>8,n[e]=t[e]&255}function Dt(n){var t=new Float64Array(64),r;for(r=0;r<64;r++)t[r]=n[r];for(r=0;r<64;r++)n[r]=0;pn(n,t)}function ea(n,t,r,e){var i=new Uint8Array(64),s=new Uint8Array(64),f,o,p=new Float64Array(64),a=[J(),J(),J(),J()];for(f=0;f<r;f++)n[64+f]=t[f];for(f=0;f<32;f++)n[32+f]=e[f];for(Tt(s,n.subarray(32),r+32),Dt(s),er(a,s),Zt(n,a),f=0;f<32;f++)n[f+32]=e[32+f];for(Tt(i,n,r+64),Dt(i),f=0;f<64;f++)p[f]=0;for(f=0;f<32;f++)p[f]=s[f];for(f=0;f<32;f++)for(o=0;o<32;o++)p[f+o]+=i[f]*e[o];return pn(n.subarray(32),p),r+64}function ta(n,t,r,e,i){var s=new Uint8Array(64),f=new Uint8Array(64),o,p,a=new Float64Array(64),l=[J(),J(),J(),J()];for(n[0]=254,o=1;o<32;o++)n[o]=255;for(o=0;o<32;o++)n[32+o]=e[o];for(o=0;o<r;o++)n[64+o]=t[o];for(o=0;o<64;o++)n[r+64+o]=i[o];for(Tt(f,n,r+128),Dt(f),er(l,f),Zt(n,l),o=0;o<32;o++)n[o+32]=e[32+o];for(Tt(s,n,r+64),Dt(s),o=0;o<64;o++)n[r+64+o]=0;for(o=0;o<64;o++)a[o]=0;for(o=0;o<32;o++)a[o]=f[o];for(o=0;o<32;o++)for(p=0;p<32;p++)a[o+p]+=s[o]*e[p];return pn(n.subarray(32,r+64),a),r+64}function Jr(n,t,r,e,i){for(var s=new Uint8Array(64),f=[J(),J(),J(),J()],o=0;o<32;o++)s[o]=e[o];s[0]&=248,s[31]&=127,s[31]|=64,er(f,s),Zt(s.subarray(32),f);var p=s[63]&128,a;return i?a=ta(n,t,r,s,i):a=ea(n,t,r,s),n[63]|=p,a}function ra(n,t){var r=J(),e=J(),i=J(),s=J(),f=J(),o=J(),p=J();return tt(n[2],wt),xn(n[1],t),Le(i,n[1]),he(s,i,Vo),He(i,i,n[2]),Pe(s,n[2],s),Le(f,s),Le(o,f),he(p,o,f),he(r,p,i),he(r,r,s),Jo(r,r),he(r,r,i),he(r,r,s),he(r,r,s),he(n[0],r,s),Le(e,n[0]),he(e,e,s),b0(e,i)&&he(n[0],n[0],Qo),Le(e,n[0]),he(e,e,s),b0(e,i)?-1:(xi(n[0])===t[31]>>7&&He(n[0],Qr,n[0]),he(n[3],n[0],n[1]),0)}function na(n,t,r,e){var i,s,f=new Uint8Array(32),o=new Uint8Array(64),p=[J(),J(),J(),J()],a=[J(),J(),J(),J()];if(s=-1,r<64||ra(a,e))return-1;for(i=0;i<r;i++)n[i]=t[i];for(i=0;i<32;i++)n[i+32]=e[i];if(Tt(o,n,r),Dt(o),pi(p,a,o),er(a,t.subarray(32)),Yr(p,a),Zt(f,p),r-=64,li(t,0,f,0)){for(i=0;i<r;i++)n[i]=0;return-1}for(i=0;i<r;i++)n[i]=t[i+64];return s=r,s}function ia(n){var t=new Uint8Array(32),r=J(),e=J(),i=J();return xn(r,n),Pe(e,r,wt),He(i,r,wt),dn(e,e),he(e,e,i),mt(t,e),t}function vi(n,t,r,e){var i=ia(e);return i[31]|=t[63]&128,t[63]&=127,na(n,t,r,i)}function st(...n){var t,r;for(r=0;r<arguments.length;r++)if((t=Object.prototype.toString.call(arguments[r]))!=="[object Uint8Array]")throw new TypeError("unexpected type "+t+", use Uint8Array")}function sa(n,t){if(st(t,n),t.length!==32)throw new Error("wrong public key length");if(n.length!==32)throw new Error("wrong secret key length");var r=new Uint8Array(32);return di(r,n,t),r}var oa=ot.sharedKey=sa;function aa(n,t,r){if(st(t,n),n.length!==32)throw new Error("wrong secret key length");if(r){if(st(r),r.length!==64)throw new Error("wrong random data length");var e=new Uint8Array(128+t.length);return Jr(e,t,t.length,n,r),new Uint8Array(e.subarray(0,64+t.length))}else{var i=new Uint8Array(64+t.length);return Jr(i,t,t.length,n),i}}ot.signMessage=aa;function fa(n,t){if(st(t,n),n.length!==32)throw new Error("wrong public key length");var r=new Uint8Array(t.length),e=vi(r,t,t.length,n);if(e<0)return null;for(var i=new Uint8Array(e),s=0;s<i.length;s++)i[s]=r[s];return i}ot.openMessage=fa;function ca(n,t,r){if(st(n,t),n.length!==32)throw new Error("wrong secret key length");if(r&&(st(r),r.length!==64))throw new Error("wrong random data length");var e=new Uint8Array((r?128:64)+t.length);Jr(e,t,t.length,n,r);for(var i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=e[s];return i}ot.sign=ca;function ua(n,t,r){if(st(t,r,n),r.length!==64)throw new Error("wrong signature length");if(n.length!==32)throw new Error("wrong public key length");var e=new Uint8Array(64+t.length),i=new Uint8Array(64+t.length),s;for(s=0;s<64;s++)e[s]=r[s];for(s=0;s<t.length;s++)e[s+64]=t[s];return vi(i,e,e.length,n)>=0}ot.verify=ua;function ha(n){if(st(n),n.length!==32)throw new Error("wrong seed length");for(var t=new Uint8Array(32),r=new Uint8Array(32),e=0;e<32;e++)t[e]=n[e];return Zo(r,t),t[0]&=248,t[31]&=127,t[31]|=64,r[31]&=127,{public:r,private:t}}var la=ot.generateKeyPair=ha;ot.default={};var Zr=function(){function n(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=n.EMPTY,t&&n.isGuid(t)&&(this.value=t)}return n.isGuid=function(t){var r=t.toString();return t&&(t instanceof n||n.validator.test(r))},n.create=function(){return new n([n.gen(2),n.gen(1),n.gen(1),n.gen(1),n.gen(3)].join("-"))},n.createEmpty=function(){return new n("emptyguid")},n.parse=function(t){return new n(t)},n.raw=function(){return[n.gen(2),n.gen(1),n.gen(1),n.gen(1),n.gen(3)].join("-")},n.gen=function(t){for(var r="",e=0;e<t;e++)r+=((1+Math.random())*65536|0).toString(16).substring(1);return r},n.prototype.equals=function(t){return n.isGuid(t)&&this.value===t.toString()},n.prototype.isEmpty=function(){return this.value===n.EMPTY},n.prototype.toString=function(){return this.value},n.prototype.toJSON=function(){return{value:this.value}},n.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),n.EMPTY="00000000-0000-0000-0000-000000000000",n}(),C0=0,xa=function(){function n(t){this.destory=!1,C0++,this.addr=t,this.ws=new WebSocket(this.addr),this.ws.binaryType="arraybuffer"}return n.prototype.onopen=function(t){var r=this;this.ws.onopen=function(){console.log("onopen---->"),!r.destory&&t&&t()}},n.prototype.onmessage=function(t){var r=this;this.ws.onmessage=function(e){r.destory||t&&t(e.data)}},n.prototype.onclose=function(t){var r=this;this.ws.onclose=function(e){console.log("onclose--->"),!r.destory&&t&&t(e)}},n.prototype.onerror=function(t){var r=this;this.ws.onerror=function(e){console.log("onerror--->"),!r.destory&&t&&t(e)}},n.prototype.send=function(t){this.ws.send(t)},n.prototype.close=function(){console.log("close....",C0),this.destory=!0,this.ws.close()},n}(),Be;(function(n){n[n.Disconnect=0]="Disconnect",n[n.Connected=1]="Connected",n[n.Connecting=2]="Connecting",n[n.ConnectFail=3]="ConnectFail",n[n.ConnectKick=4]="ConnectKick"})(Be||(Be={}));var da=function(){function n(){this.status=Be.Disconnect,this.connectStatusListeners=new Array,this.lockReconnect=!1,this.pongRespTimeoutInterval=3e3,this.needReconnect=!0,this.pingRetryCount=0,this.pingMaxRetryCount=3,this.tempBufferData=new Array}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.stopHeart=function(){this.heartTimer&&(clearInterval(this.heartTimer),this.heartTimer=null)},n.prototype.stopReconnectTimer=function(){this.reConnectTimeout&&(clearTimeout(this.reConnectTimeout),this.reConnectTimeout=null)},n.prototype.restHeart=function(){var t=this,r=this;this.heartTimer&&clearInterval(this.heartTimer),this.pongRespTimer&&clearTimeout(this.pongRespTimer),this.heartTimer=setInterval(function(){r.sendPing(),r.pingRetryCount>r.pingMaxRetryCount?(console.log("ping没有响应，断开连接。"),r.onlyDisconnect(),t.status===Be.Disconnect&&r.connect()):r.pingRetryCount>1&&console.log("第"+r.pingRetryCount+"次，尝试ping。")},ne.shared().config.heartbeatInterval)},n.prototype.connect=function(){this.needReconnect=!0,this.onlyConnect()},n.prototype.onlyConnect=function(){var t=this;if(this.status===Be.Connecting){console.log("已在连接中，不再进行连接.");return}if(ne.shared().config.provider.connectAddrCallback!=null){var r=ne.shared().config.provider.connectAddrCallback;r(function(e){t.connectWithAddr(e)})}else this.connectWithAddr(ne.shared().config.addr)},n.prototype.connectWithAddr=function(t){var r=this;console.log("connectWithAddr--->"),this.status=Be.Connecting,this.ws=new xa(t);var e=this;this.ws.onopen(function(){var i;console.log("onopen..."),e.tempBufferData=new Array;var s=Uint8Array.from(e.stringToUint(Zr.create().toString().replace(/-/g,""))),f=la(s),o=It.Buffer.from(f.public).toString("base64");e.dhPrivateKey=f.private;var p=new Po;p.clientKey=o,p.version=1,p.deviceFlag=1;var a=Zr.create().toString().replace(/-/g,"");p.deviceID=a+"W",p.clientTimestamp=new Date().getTime(),p.uid=ne.shared().config.uid||"",p.token=ne.shared().config.token||"";var l=e.getProto().encode(p);(i=e.ws)===null||i===void 0||i.send(l)}),this.ws.onmessage(function(i){e.unpacket(new Uint8Array(i),function(s){if(s.length>0)for(var f=0,o=s;f<o.length;f++){var p=o[f];e.onPacket(new Uint8Array(p))}})}),this.ws.onclose(function(i){console.log("连接关闭！",i),r.status!==Be.Disconnect&&(r.status=Be.Disconnect,r.notifyConnectStatusListeners(0)),e.needReconnect&&r.reConnect()}),this.ws.onerror(function(i){console.log("连接出错！",i),r.status!==Be.Disconnect&&(r.status=Be.Disconnect,r.notifyConnectStatusListeners(0)),e.needReconnect&&r.reConnect()})},n.prototype.stringToUint=function(t){for(var r=unescape(encodeURIComponent(t)),e=r.split(""),i=new Array,s=0;s<e.length;s++)i.push(e[s].charCodeAt(0));return i},n.prototype.connected=function(){return this.status==Be.Connected},n.prototype.disconnect=function(){this.needReconnect=!1,console.log("断开不再重连"),this.onlyDisconnect()},n.prototype.onlyDisconnect=function(){this.stopHeart(),this.stopReconnectTimer(),this.ws&&this.ws.close(),this.status=Be.Disconnect},n.prototype.reConnect=function(){var t=this;if(!this.lockReconnect){console.log("开始重连"),this.lockReconnect=!0,this.reConnectTimeout&&clearTimeout(this.reConnectTimeout);var r=this;this.reConnectTimeout=setTimeout(function(){t.ws&&(t.ws.close(),t.ws=void 0),r.onlyConnect(),t.lockReconnect=!1},3e3)}},n.prototype.wssend=function(t){var r;(r=this.ws)===null||r===void 0||r.send(this.getProto().encode(t))},n.prototype.unpacket=function(t,r){var e;try{(e=this.tempBufferData).push.apply(e,Array.from(t));var i=void 0,s=void 0,f=new Array;do i=this.tempBufferData.length,this.tempBufferData=this.unpackOne(this.tempBufferData,function(o){f.push(o)}),s=this.tempBufferData.length,s>0&&console.log("有粘包！-->",this.tempBufferData),f.length>0&&r(f);while(i!=s&&s>=1)}catch(o){console.log("解码数据异常---->",o),this.reConnect()}},n.prototype.unpackOne=function(t,r){var e=t[0],i=e>>4;if(i==ue.PONG)return r([e]),t.slice(1);var s=t.length,f=1,o=f,p=0,a=0,l=1,S=!1,m=!0;do{if(o>s-1){m=!1;break}p=t[o++],a+=(p&127)*l,l*=128,S=(p&128)!=0}while(S);if(!m)return t;var B=o-f;if(f+B+a>s)return console.log("还有包未到，存入缓存！！！"),t;if(f+B+a==s)return r(t),[];var E=f+B+a;return r(t.slice(0,E)),t.slice(E,s-E)},n.prototype.onPacket=function(t){var r=this.getProto().decode(t);if(r.packetType===ue.CONNACK){var e=r;if(e.reasonCode===1){console.log("连接成功！"),ne.shared().channelManager.reSubscribe(),this.status=Be.Connected,this.pingRetryCount=0,this.restHeart();var i=Uint8Array.from(It.Buffer.from(e.serverKey,"base64")),s=oa(this.dhPrivateKey,i),f=It.Buffer.from(s).toString("base64"),o=ln.init(f);it.shared().aesKey=o.substring(0,16),e.salt&&e.salt.length>16?it.shared().aesIV=e.salt.substring(0,16):it.shared().aesIV=e.salt,ne.shared().chatManager.flushSendingQueue()}else console.log("连接失败！错误->",e.reasonCode),this.status=Be.ConnectFail,this.needReconnect=!1;this.notifyConnectStatusListeners(e.reasonCode)}else if(r.packetType===ue.PONG)this.pingRetryCount=0;else if(r.packetType===ue.DISCONNECT){var p=r;console.log("连接被踢->",p),this.status=Be.ConnectKick,this.needReconnect=!1,this.notifyConnectStatusListeners(p.reasonCode)}else if(r.packetType===ue.SUBACK){var a=r;console.log("订阅回执-->",a.action),ne.shared().channelManager.handleSuback(a)}ne.shared().chatManager.onPacket(r)},n.prototype.sendPing=function(){this.pingRetryCount++,this.sendPacket(new fi)},n.prototype.sendPacket=function(t){var r;(r=this.ws)===null||r===void 0||r.send(this.getProto().encode(t))},n.prototype.getProto=function(){return ne.shared().config.proto},n.prototype.addConnectStatusListener=function(t){this.connectStatusListeners.push(t)},n.prototype.removeConnectStatusListener=function(t){for(var r=this.connectStatusListeners.length,e=0;e<r;e++)if(t===this.connectStatusListeners[e]){this.connectStatusListeners.splice(e,1);return}},n.prototype.notifyConnectStatusListeners=function(t){var r=this;this.connectStatusListeners&&this.connectStatusListeners.forEach(function(e){e&&e(r.status,t)})},n.prototype.sendRecvackPacket=function(t){var r,e=new ui;e.messageID=t.messageID,e.messageSeq=t.messageSeq,(r=this.ws)===null||r===void 0||r.send(this.getProto().encode(e))},n.prototype.close=function(){var t;(t=this.ws)===null||t===void 0||t.close()},n}(),Bt=globalThis&&globalThis.__extends||function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])},n(t,r)};return function(t,r){n(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),za=1,Wa=2,S0=7,rt=function(){function n(t,r){this.channelID=t,this.channelType=r}return n.prototype.getChannelKey=function(){return this.channelID+"-"+this.channelType},n.fromChannelKey=function(t){var r=t.split("-");if(r.length>=2){var e=parseInt(r[1],0);return new n(r[0],e)}},n.prototype.isEqual=function(t){return this.channelID===t.channelID&&this.channelType===t.channelType},n}();function B0(n){var t=0;if(n){var r=String.fromCharCode.apply(null,Array.from(n)),e=decodeURIComponent(escape(r)),i=JSON.parse(e);i&&(t=i.type)}var s=wi.shared().getMessageContent(t);return s.decode(n),s}var pa=function(){function n(){}return n}(),Gt;(function(n){n[n.Wait=0]="Wait",n[n.Normal=1]="Normal",n[n.Fail=2]="Fail"})(Gt||(Gt={}));var en=function(){function n(t){this.header=new pa,this.setting=new gt,this.voicePlaying=!1,this.voiceReaded=!1,this.isDeleted=!1,this.remoteExtra=new va,t&&(this.header.reddot=t.reddot,this.header.dup=t.dup,this.header.noPersist=t.noPersist,this.header.syncOnce=t.syncOnce,this.setting=gt.fromUint8(t.setting),this.messageID=t.messageID,this.messageSeq=t.messageSeq,this.clientMsgNo=t.clientMsgNo,this.fromUID=t.fromUID,this.channel=new rt(t.channelID,t.channelType),this.timestamp=t.timestamp,this.content=B0(t.payload),this.status=Gt.Normal)}return n.fromSendPacket=function(t,r){var e=new n;return e.header.reddot=!0,e.setting=gt.fromUint8(t.setting),e.clientMsgNo=t.clientMsgNo,e.clientSeq=t.clientSeq,e.fromUID=t.fromUID,e.channel=new rt(t.channelID,t.channelType),r?e.content=r:e.content=B0(t.payload),e.timestamp=parseInt((new Date().getTime()/1e3).toString()),e.status=Gt.Wait,e},Object.defineProperty(n.prototype,"send",{get:function(){return this.fromUID===ne.shared().config.uid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentType",{get:function(){return this.content.contentType},enumerable:!0,configurable:!0}),n}(),va=function(){function n(){this.readedCount=0,this.unreadCount=0,this.revoke=!1,this.editedAt=0,this.isEdit=!1,this.extra={},this.extraVersion=0}return n}(),ya=function(){function n(){}return n}(),xt=function(){function n(){}return Object.defineProperty(n.prototype,"contentType",{get:function(){return this._contentType},set:function(t){this._contentType=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"conversationDigest",{get:function(){return this._conversationDigest},set:function(t){this._conversationDigest=t},enumerable:!0,configurable:!0}),n.prototype.encode=function(){var t=this.encodeJSON();if(t.type=this.contentType,this.mention){var r={};this.mention.all&&(r.all=1),this.mention.uids&&(r.uids=this.mention.uids),t.mention=r}this.reply&&(t.reply=this.reply.encode());var e=JSON.stringify(t);return yi(e)},n.prototype.decode=function(t){var r=gi(t),e=JSON.parse(r);this.contentObj=e,e&&(this._contentType=e.type);var i=e.mention;if(i){var s=new ya;s.all=i.all===1,i.uids&&(s.uids=i.uids),this.mention=s}var f=e.reply;if(f){var o=new wa;o.decode(f),this.reply=o}this.visibles=e.visibles,this.invisibles=e.invisibles,this.decodeJSON(e)},n.prototype.isVisiable=function(t){if(this.visibles&&this.visibles.length>0){var r=this.visibles.includes(t);if(!r)return!1}if(this.invisibles&&this.invisibles.length>0){var r=this.invisibles.includes(t);if(r)return!1}return!0},n.prototype.decodeJSON=function(t){},n.prototype.encodeJSON=function(){return{}},n}();function yi(n){for(var t=unescape(encodeURIComponent(n)),r=new Array,e=0,i=t.length;e<i;++e)r.push(t.charCodeAt(e));var s=new Uint8Array(r);return s}function gi(n){var t=String.fromCharCode.apply(null,Array.from(n)),r=decodeURIComponent(escape(t));return r}var bi=function(n){Bt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.dealFile=function(){},t}(xt),ga=function(){function n(){this.online=!1,this.lastOffline=0}return n}(),A0=function(){function n(){this._logicUnread=0,this.timestamp=0,this._reminders=new Array,this.simpleReminders=new Array}return Object.defineProperty(n.prototype,"channelInfo",{get:function(){return ne.shared().channelManager.getChannelInfo(this.channel)},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(t){return t?t.channel.getChannelKey()===this.channel.getChannelKey():!1},Object.defineProperty(n.prototype,"isMentionMe",{get:function(){return this._isMentionMe===void 0&&this.reloadIsMentionMe(),this._isMentionMe},set:function(t){this._isMentionMe=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"remoteExtra",{get:function(){return this._remoteExtra?this._remoteExtra:(this._remoteExtra=new ba,this._remoteExtra.channel=this.channel,this._remoteExtra)},set:function(t){this._remoteExtra=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"logicUnread",{get:function(){return this.remoteExtra.browseTo>0&&this.lastMessage&&this.remoteExtra.browseTo<=this.lastMessage.messageSeq?this.lastMessage.messageSeq-this.remoteExtra.browseTo:this.unread},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reminders",{get:function(){return this._reminders},set:function(t){this._reminders=t;var r=new Array;if(t&&t.length>0)for(var e=0,i=t;e<i.length;e++){var s=i[e];if(!s.done){for(var f=!1,o=0,p=0,a=r;p<a.length;p++){var l=a[p];if(s.reminderType===l.reminderType){f=!0;break}o++}f?r[o]=s:r.push(s)}}this.simpleReminders=r},enumerable:!0,configurable:!0}),n.prototype.reloadIsMentionMe=function(){if(this.lastMessage&&this.lastMessage.content){var t=this.lastMessage.content.mention;t&&(t.all&&(this._isMentionMe=!0),t.uids&&t.uids.includes(ne.shared().config.uid||"")&&(this._isMentionMe=!0))}this._isMentionMe||(this._isMentionMe=!1)},n}(),ba=function(){function n(){}return n}(),wa=function(){function n(){}return n.prototype.encode=function(){var t={message_id:this.messageID,message_seq:this.messageSeq,from_uid:this.fromUID,from_name:this.fromName};return this.rootMessageID&&(t.root_message_id=this.rootMessageID),this.content&&(t.payload=JSON.parse(gi(this.content.encode()))),t},n.prototype.decode=function(t){if(this.messageID=t.message_id,this.messageSeq=t.message_seq,this.fromUID=t.from_uid,this.fromName=t.from_name,this.rootMessageID=t.root_message_id,t.payload){var r=t.payload.type,e=ne.shared().getMessageContent(r),i=yi(JSON.stringify(t.payload));e.decode(i),this.content=e}},n}(),_0;(function(n){n[n.ReminderTypeMentionMe=1]="ReminderTypeMentionMe",n[n.ReminderTypeApplyJoinGroup=2]="ReminderTypeApplyJoinGroup"})(_0||(_0={}));var k0;(function(n){n[n.Down=0]="Down",n[n.Up=1]="Up"})(k0||(k0={}));var wi=function(){function n(){this.contentMap=new Map}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.register=function(t,r){this.contentMap.set(t,r)},n.prototype.registerFactor=function(t){this.factor=t},n.prototype.getMessageContent=function(t){var r=this.contentMap.get(t);if(r){var e=r(t);if(e)return e}var i=this.factor(t);return i||new Ea},n}(),I0=function(n){Bt(t,n);function t(r){var e=n.call(this)||this;return e.text=r,e}return Object.defineProperty(t.prototype,"conversationDigest",{get:function(){return this.text||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return nt.text},enumerable:!0,configurable:!0}),t.prototype.decodeJSON=function(r){this.text=r.content},t.prototype.encodeJSON=function(){return{content:this.text||""}},t}(xt),ma=function(n){Bt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"contentType",{get:function(){return nt.signalMessage},enumerable:!0,configurable:!0}),t}(xt),Ea=function(n){Bt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"contentType",{get:function(){return nt.unknown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conversationDigest",{get:function(){return"[未知消息]"},enumerable:!0,configurable:!0}),t.prototype.decodeJSON=function(r){this.realContentType=r.type},t}(xt),Ca=function(n){Bt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.decodeJSON=function(r){this.content=r},Object.defineProperty(t.prototype,"conversationDigest",{get:function(){return this.displayText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){var r=this.content.extra,e=this.content.content;if(r){var i=r;if(i&&i.length>0)for(var s=0;s<=i.length-1;s++){var f=i[s],o=f.name||"";e=e.replace("{"+s+"}",o)}}return e},enumerable:!0,configurable:!0}),t}(xt),Sa=function(n){Bt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.decodeJSON=function(r){this.cmd=r.cmd,this.param=r.param},Object.defineProperty(t.prototype,"contentType",{get:function(){return nt.cmd},enumerable:!0,configurable:!0}),t}(xt),Ba=function(){function n(){}return n}(),Ne;(function(n){n[n.subscribe=0]="subscribe",n[n.unsubscribe=1]="unsubscribe"})(Ne||(Ne={}));var F0;(function(n){n[n.unknown=0]="unknown",n[n.success=1]="success",n[n.authFail=2]="authFail",n[n.subscriberNotExist=3]="subscriberNotExist",n[n.reasonInBlacklist=4]="reasonInBlacklist",n[n.reasonChannelNotExist=5]="reasonChannelNotExist",n[n.reasonUserNotOnNode=6]="reasonUserNotOnNode",n[n.reasonSenderOffline=7]="reasonSenderOffline",n[n.msgKeyError=8]="msgKeyError",n[n.payloadDecodeError=9]="payloadDecodeError",n[n.forwardSendPacketError=10]="forwardSendPacketError",n[n.notAllowSend=11]="notAllowSend",n[n.connectKick=12]="connectKick",n[n.notInWhitelist=13]="notInWhitelist",n[n.queryTokenError=14]="queryTokenError",n[n.systemError=15]="systemError",n[n.channelIDError=16]="channelIDError",n[n.nodeMatchError=17]="nodeMatchError",n[n.nodeNotMatch=18]="nodeNotMatch",n[n.ban=19]="ban",n[n.notSupportHeader=20]="notSupportHeader",n[n.clientKeyIsEmpty=21]="clientKeyIsEmpty",n[n.rateLimit=22]="rateLimit",n[n.notSupportChannelType=23]="notSupportChannelType"})(F0||(F0={}));var T0=function(){function n(t,r,e){this.sending=!1,this.handleOk=!1,this.listener=r,this.options=e,this.action=t}return n}(),D0=function(){function n(t){this.listenerStates=new Array,this.channel=t}return n}(),Aa=globalThis&&globalThis.__extends||function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])},n(t,r)};return function(t,r){n(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),tn;(function(n){n[n.wait=0]="wait",n[n.success=1]="success",n[n.processing=2]="processing",n[n.fail=3]="fail",n[n.suspend=4]="suspend",n[n.cancel=5]="cancel"})(tn||(tn={}));var _a=function(){function n(){this.taskMap=new Map,this.listeners=new Array}return n.prototype.addTask=function(t){var r=this;this.taskMap.set(t.id,t),t.addListener(function(){r.notifyListeners(t)}),t.start()},n.prototype.removeTask=function(t){var r=this.taskMap.get(t);r&&(r.cancel(),this.taskMap.delete(t))},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyListeners=function(t){this.listeners&&this.listeners.forEach(function(r){r(t)})},n}(),ka=function(){function n(){}return n.prototype.start=function(){},n.prototype.suspend=function(){},n.prototype.resume=function(){},n.prototype.cancel=function(){},n.prototype.update=function(){this.listeners&&this.listeners.forEach(function(t){t()})},n.prototype.progress=function(){return 0},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},Object.defineProperty(n.prototype,"listeners",{get:function(){return this._listeners||(this._listeners=new Array),this._listeners},enumerable:!0,configurable:!0}),n}(),Ia=function(n){Aa(t,n);function t(r){var e=n.call(this)||this;return e.id=r.clientMsgNo,e.message=r,e}return t}(ka),Nt=globalThis&&globalThis.__awaiter||function(n,t,r,e){function i(s){return s instanceof r?s:new r(function(f){f(s)})}return new(r||(r=Promise))(function(s,f){function o(l){try{a(e.next(l))}catch(S){f(S)}}function p(l){try{a(e.throw(l))}catch(S){f(S)}}function a(l){l.done?s(l.value):i(l.value).then(o,p)}a((e=e.apply(n,t||[])).next())})},Pt=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,i,s,f;return f={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function o(a){return function(l){return p([a,l])}}function p(a){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(n,r)}catch(l){a=[6,l],i=0}finally{e=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},mi=function(){function n(){var t=this;this.cmdListeners=new Array,this.listeners=new Array,this.sendingQueues=new Map,this.sendStatusListeners=new Array,this.clientSeq=0,ne.shared().taskManager&&ne.shared().taskManager.addListener(function(r){if(r.status===tn.success&&r instanceof Ia){var e=r,i=t.sendingQueues.get(e.message.clientSeq);i&&(i.payload=e.message.content.encode(),ne.shared().connectManager.sendPacket(i))}})}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.onPacket=function(t){return Nt(this,void 0,void 0,function(){var r,e,i,s,f;return Pt(this,function(o){if(t instanceof ai){if(r=t,e=it.shared().encryption(r.veritifyString),i=ln.init(e),i!==r.msgKey)return console.log("非法的消息，期望msgKey:"+r.msgKey+" 实际msgKey:"+i+" 忽略此消息！！"),[2];if(r.payload=it.shared().decryption(r.payload),s=new en(r),this.sendRecvackPacket(r),s.contentType===nt.cmd)return this.notifyCMDListeners(s),[2];this.notifyMessageListeners(s),ne.shared().channelManager.notifySubscribeIfNeed(s)}else t instanceof ci&&(f=t,this.sendingQueues.delete(f.clientSeq),this.notifyMessageStatusListeners(f));return[2]})})},n.prototype.syncMessages=function(t,r){return Nt(this,void 0,void 0,function(){return Pt(this,function(e){if(!ne.shared().config.provider.syncMessagesCallback)throw new Error("没有设置WKSDK.shared().config.provider.syncMessagesCallback");return[2,ne.shared().config.provider.syncMessagesCallback(t,r)]})})},n.prototype.syncMessageExtras=function(t,r){return Nt(this,void 0,void 0,function(){return Pt(this,function(e){if(!ne.shared().config.provider.syncMessageExtraCallback)throw new Error("没有设置WKSDK.shared().config.provider.syncMessageExtraCallback");return[2,ne.shared().config.provider.syncMessageExtraCallback(t,r,100)]})})},n.prototype.sendRecvackPacket=function(t){var r=new ui;r.noPersist=t.noPersist,r.syncOnce=t.syncOnce,r.reddot=t.reddot,r.messageID=t.messageID,r.messageSeq=t.messageSeq,ne.shared().connectManager.sendPacket(r)},n.prototype.send=function(t,r,e){return Nt(this,void 0,void 0,function(){var i,s,f;return Pt(this,function(o){return i=this.getSendPacket(t,r,e),this.sendingQueues.set(i.clientSeq,i),s=en.fromSendPacket(i,t),t instanceof bi?(f=ne.shared().config.provider.messageUploadTask(s),f&&ne.shared().taskManager.addTask(f)):ne.shared().connectManager.sendPacket(i),this.notifyMessageListeners(s),[2,s]})})},n.prototype.getSendPacket=function(t,r,e){e===void 0&&(e=new gt);var i=new qo;return i.setting=e.toUint8(),i.reddot=!0,i.clientMsgNo=Zr.create().toString().replace(/-/gi,"")+"3",i.clientSeq=this.getClientSeq(),i.fromUID=ne.shared().config.uid||"",i.channelID=r.channelID,i.channelType=r.channelType,i.payload=t.encode(),i},n.prototype.getClientSeq=function(){return++this.clientSeq},n.prototype.notifyCMDListeners=function(t){this.cmdListeners&&this.cmdListeners.forEach(function(r){r&&r(t)})},n.prototype.addCMDListener=function(t){this.cmdListeners.push(t)},n.prototype.removeCMDListener=function(t){for(var r=this.cmdListeners.length,e=0;e<r;e++)if(t===this.cmdListeners[e]){this.cmdListeners.splice(e,1);return}},n.prototype.addMessageListener=function(t){this.listeners.push(t)},n.prototype.removeMessageListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyMessageListeners=function(t){this.listeners&&this.listeners.forEach(function(r){r&&r(t)})},n.prototype.notifyMessageStatusListeners=function(t){this.sendStatusListeners&&this.sendStatusListeners.forEach(function(r){r&&r(t)})},n.prototype.addMessageStatusListener=function(t){this.sendStatusListeners.push(t)},n.prototype.removeMessageStatusListener=function(t){for(var r=this.sendStatusListeners.length,e=0;e<r;e++)if(t===this.sendStatusListeners[e]){this.sendStatusListeners.splice(e,1);return}},n.prototype.flushSendingQueue=function(){if(!(this.sendingQueues.size<=0)){console.log("flush 发送队列内的消息。数量"+this.sendingQueues.size);var t=new Array;this.sendingQueues.forEach(function(f,o){t.push(o)}),t=t.sort();for(var r=0,e=t;r<e.length;r++){var i=e[r],s=this.sendingQueues.get(i);s&&(console.log("重试消息---->",s),ne.shared().connectManager.sendPacket(s))}}},n.prototype.deleteMessageFromSendingQueue=function(t){this.sendingQueues.delete(t)},n}(),R0=globalThis&&globalThis.__awaiter||function(n,t,r,e){function i(s){return s instanceof r?s:new r(function(f){f(s)})}return new(r||(r=Promise))(function(s,f){function o(l){try{a(e.next(l))}catch(S){f(S)}}function p(l){try{a(e.throw(l))}catch(S){f(S)}}function a(l){l.done?s(l.value):i(l.value).then(o,p)}a((e=e.apply(n,t||[])).next())})},M0=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,i,s,f;return f={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function o(a){return function(l){return p([a,l])}}function p(a){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(n,r)}catch(l){a=[6,l],i=0}finally{e=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Fa=function(){function n(){this.channelInfocacheMap={},this.requestQueueMap=new Map,this.listeners=new Array,this.subscribeCacheMap=new Map,this.requestSubscribeQueueMap=new Map,this.subscriberChangeListeners=new Array,this.deleteChannelInfoListeners=new Array,this.subscriberContexts=new Array,this.subscriberContextTick=0}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.fetchChannelInfo=function(t){return R0(this,void 0,void 0,function(){var r,e,i;return M0(this,function(s){switch(s.label){case 0:if(r=t.getChannelKey(),e=this.requestQueueMap.get(r),e)return[2];s.label=1;case 1:return s.trys.push([1,,4,5]),this.requestQueueMap.set(r,!0),ne.shared().config.provider.channelInfoCallback==null?[3,3]:[4,ne.shared().config.provider.channelInfoCallback(t)];case 2:i=s.sent(),this.channelInfocacheMap[r]=i,i&&this.notifyListeners(i),s.label=3;case 3:return[3,5];case 4:return this.requestQueueMap.delete(r),[7];case 5:return[2]}})})},n.prototype.syncSubscribes=function(t){return R0(this,void 0,void 0,function(){var r,e,i,s,f,o,p,a,l,S,m,B;return M0(this,function(E){switch(E.label){case 0:if(r=t.getChannelKey(),e=this.requestSubscribeQueueMap.get(r),e)return[2];E.label=1;case 1:return E.trys.push([1,,3,4]),this.requestSubscribeQueueMap.set(r,!0),i=this.subscribeCacheMap.get(r),s=0,i&&i.length>0?(f=i[i.length-1],s=f.version):i=new Array,[4,ne.shared().config.provider.syncSubscribersCallback(t,s||0)];case 2:if(o=E.sent(),o&&o.length>0)for(p=0,a=o;p<a.length;p++){for(l=a[p],S=!1,m=0;m<i.length;m++)if(B=i[m],l.uid===B.uid){S=!0,i[m]=l;break}S||i.push(l)}return this.subscribeCacheMap.set(r,i),this.notifySubscribeChangeListeners(t),[3,4];case 3:return this.requestSubscribeQueueMap.delete(r),[7];case 4:return[2]}})})},n.prototype.getChannelInfo=function(t){return this.channelInfocacheMap[t.getChannelKey()]},n.prototype.setChannleInfoForCache=function(t){this.channelInfocacheMap[t.channel.getChannelKey()]=t},n.prototype.deleteChannelInfo=function(t){var r=this.channelInfocacheMap[t.getChannelKey()];return delete this.channelInfocacheMap[t.getChannelKey()],r},n.prototype.getSubscribes=function(t){var r=this.subscribeCacheMap.get(t.getChannelKey()),e=new Array;if(r)for(var i=0,s=r;i<s.length;i++){var f=s[i];f.isDeleted||e.push(f)}return e},n.prototype.getSubscribeOfMe=function(t){var r=this.subscribeCacheMap.get(t.getChannelKey());if(r)for(var e=0,i=r;e<i.length;e++){var s=i[e];if(!s.isDeleted&&s.uid===ne.shared().config.uid)return s}return null},n.prototype.addSubscriberChangeListener=function(t){this.subscriberChangeListeners.push(t)},n.prototype.removeSubscriberChangeListener=function(t){for(var r=this.subscriberChangeListeners.length,e=0;e<r;e++)if(t===this.subscriberChangeListeners[e]){this.subscriberChangeListeners.splice(e,1);return}},n.prototype.addDeleteChannelInfoListener=function(t){this.deleteChannelInfoListeners.push(t)},n.prototype.removeDeleteChannelInfoListener=function(t){for(var r=this.deleteChannelInfoListeners.length,e=0;e<r;e++)if(t===this.deleteChannelInfoListeners[e]){this.deleteChannelInfoListeners.splice(e,1);return}},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifySubscribeChangeListeners=function(t){this.subscriberChangeListeners&&this.subscriberChangeListeners.forEach(function(r){r(t)})},n.prototype.notifyListeners=function(t){this.listeners&&this.listeners.forEach(function(r){r(t)})},n.prototype.notifySubscribeIfNeed=function(t){var r=this.getSubscribeContext(t.channel);if(r&&r.listenerStates)for(var e=0,i=r.listenerStates;e<i.length;e++){var s=i[e];s.listener&&s.action===Ne.subscribe&&s.listener(t)}},n.prototype.onSubscribe=function(t,r){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var s=new Ba;if(e&&e.length>0)for(var f=0,o=e;f<o.length;f++){var p=o[f];p(s)}var a,l,S=S0;t instanceof rt?(S=t.channelType,l=this.parseChannelURL(t.channelID)):l=this.parseChannelURL(t),a=new rt(l.channelID,S),s.param=l.paramMap;var m=this.getSubscribeContext(a);m||(m=new D0(a),this.subscriberContexts.push(m));var B=!1;if(m.listenerStates.length>0)for(var E=0,k=m.listenerStates;E<k.length;E++){var T=k[E];if(T.action===Ne.subscribe){T.handleOk=!1,T.listener=r,T.options=s,B=!0;break}}B||m.listenerStates.push(new T0(Ne.subscribe,r,s)),console.log("onSubscribe-->",m.listenerStates.length),this.executeSubscribeContext()},n.prototype.parseChannelURL=function(t){var r=t.split("?");if(r.length>1){for(var e=r[1],i=new Map,s=e.split("&"),f=0,o=s;f<o.length;f++){var p=o[f],a=p.split("=");a.length>1&&i.set(a[0],a[1])}return{channelID:r[0],paramMap:i}}else return{channelID:t,paramMap:new Map}},n.prototype.onUnsubscribe=function(t,r){var e,i,s=S0;t instanceof rt?(s=t.channelType,i=this.parseChannelURL(t.channelID)):i=this.parseChannelURL(t),e=new rt(i.channelID,s);var f=this.getSubscribeContext(e);f||(f=new D0(e),this.subscriberContexts.push(f));var o=!1;if(f.listenerStates.length>0)for(var p=0,a=f.listenerStates;p<a.length;p++){var l=a[p];if(l.action===Ne.unsubscribe){l.handleOk=!1,l.listener=r,o=!0;break}}o||f.listenerStates.push(new T0(Ne.unsubscribe,r)),this.executeSubscribeContext()},n.prototype.reSubscribe=function(){for(var t=0,r=this.subscriberContexts;t<r.length;t++)for(var e=r[t],i=0,s=e.listenerStates;i<s.length;i++){var f=s[i];f.handleOk=!1,f.sending=!1}this.executeSubscribeContext()},n.prototype.handleSuback=function(t){for(var r=0,e=this.subscriberContexts;r<e.length;r++){var i=e[r];if(t.channelID===i.channel.channelID&&t.channelType===i.channel.channelType){if(t.action===Ne.subscribe){if(i.listenerStates&&i.listenerStates.length>0)for(var s=0,f=i.listenerStates;s<f.length;s++){var o=f[s];if(!o.handleOk&&(o.handleOk=!0,o.listener&&o.action===Ne.subscribe)){var p=o.listener;p(void 0,t.reasonCode)}}}else if(i.listenerStates&&i.listenerStates.length>0)for(var a=0,l=i.listenerStates;a<l.length;a++){var o=l[a];if(!o.handleOk&&(o.handleOk=!0,o.listener&&o.action===Ne.unsubscribe)){var S=o.listener;S(t.reasonCode)}}}}if(t.action===Ne.unsubscribe)for(var m=0;m<this.subscriberContexts.length;m++){var i=this.subscriberContexts[m];if(i.channel.channelID===t.channelID&&i.channel.channelType===t.channelType){this.subscriberContexts.splice(m,1);continue}}console.log("subscriberContexts--->",this.subscriberContexts.length)},n.prototype.getSubscribeContext=function(t){for(var r=0,e=this.subscriberContexts;r<e.length;r++){var i=e[r];if(i.channel.channelID===t.channelID&&i.channel.channelType===t.channelType)return i}},n.prototype.executeSubscribeContext=function(){for(var t=0,r=this.subscriberContexts;t<r.length;t++){var e=r[t];if(e&&e.listenerStates.length>0)for(var i=0,s=e.listenerStates;i<s.length;i++){var f=s[i];f.handleOk||f.sending||(f.sending=!0,this.sendSubscribe(e.channel,f.action,f.options))}}},n.prototype.sendSubscribe=function(t,r,e){console.log("sendSubscribe---->",r);var i=new Wo;i.channelID=t.channelID,i.channelType=t.channelType,i.action=r,e!=null&&e.param&&(i.param=JSON.stringify(Object.fromEntries(e==null?void 0:e.param))),ne.shared().connectManager.sendPacket(i)},n}(),Ta=globalThis&&globalThis.__awaiter||function(n,t,r,e){function i(s){return s instanceof r?s:new r(function(f){f(s)})}return new(r||(r=Promise))(function(s,f){function o(l){try{a(e.next(l))}catch(S){f(S)}}function p(l){try{a(e.throw(l))}catch(S){f(S)}}function a(l){l.done?s(l.value):i(l.value).then(o,p)}a((e=e.apply(n,t||[])).next())})},Da=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,i,s,f;return f={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function o(a){return function(l){return p([a,l])}}function p(a){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(n,r)}catch(l){a=[6,l],i=0}finally{e=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ra=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var e=Array(n),i=0,t=0;t<r;t++)for(var s=arguments[t],f=0,o=s.length;f<o;f++,i++)e[i]=s[f];return e},$e;(function(n){n[n.add=0]="add",n[n.update=1]="update",n[n.remove=2]="remove"})($e||($e={}));var rn=function(){function n(){var t=this;this.listeners=new Array,this.conversations=new Array,this.maxExtraVersion=0,mi.shared().addMessageListener(function(r){t.updateOrAddConversation(r)})}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.sync=function(t){var r=this,e=ne.shared().config.provider.syncConversationsCallback(t);return e&&e.then(function(i){if(r.conversations=i,i.length>0)for(var s=0,f=i;s<f.length;s++){var o=f[s];o.remoteExtra.version>r.maxExtraVersion&&(r.maxExtraVersion=o.remoteExtra.version)}ne.shared().reminderManager.sync()}).catch(function(i){console.log("同步最近会话失败！",i)}),e},n.prototype.syncExtra=function(){return Ta(this,void 0,void 0,function(){var t,r,e,i,s,f,o;return Da(this,function(p){switch(p.label){case 0:return ne.shared().config.provider.syncConversationExtrasCallback?[4,ne.shared().config.provider.syncConversationExtrasCallback(this.maxExtraVersion)]:(console.log("syncConversationExtrasCallback没有提供"),[2]);case 1:if(t=p.sent(),t)for(r=0,e=t;r<e.length;r++)for(i=e[r],i.version>this.maxExtraVersion&&(this.maxExtraVersion=i.version),s=0,f=this.conversations;s<f.length;s++)o=f[s],o.channel.isEqual(i.channel)&&(o.remoteExtra=i,this.notifyConversationListeners(o,$e.update));return[2,t]}})})},n.prototype.findConversation=function(t){if(this.conversations)for(var r=0,e=this.conversations;r<e.length;r++){var i=e[r];if(i.channel.isEqual(t))return i}},n.prototype.findConversations=function(t){if(this.conversations&&this.conversations.length>0){for(var r=new Array,e=0,i=this.conversations;e<i.length;e++)for(var s=i[e],f=0,o=t;f<o.length;f++){var p=o[f];if(s.channel.isEqual(p)){r.push(s);break}}return r}},n.prototype.createEmptyConversation=function(t){var r=this.findConversation(t);if(r)return r.timestamp=new Date().getTime()/1e3,this.notifyConversationListeners(r,$e.update),r;var e=new A0;return e.channel=t,e.timestamp=new Date().getTime()/1e3,this.notifyConversationListeners(e,$e.add),e},n.prototype.updateOrAddConversation=function(t){var r=this.findConversation(t.channel),e;r?(!t.send&&t.header.reddot&&(!this.openConversation||!this.openConversation.channel.isEqual(t.channel))&&r.unread++,r.timestamp=t.timestamp,r.lastMessage=t,e=r,this.notifyConversationListeners(e,$e.update)):(e=new A0,e.unread=0,e.channel=t.channel,e.timestamp=t.timestamp,!t.send&&t.header.reddot&&(!this.openConversation||!this.openConversation.channel.isEqual(t.channel))&&e.unread++,e.lastMessage=t,this.conversations=Ra([e],this.conversations),this.notifyConversationListeners(e,$e.add))},n.prototype.removeConversation=function(t){if(!(!this.conversations||this.conversations.length===0)){for(var r,e=0;e<this.conversations.length;e++){var i=this.conversations[e];i.channel.isEqual(t)&&(this.conversations.splice(e,1),r=i)}r&&this.notifyConversationListeners(r,$e.remove)}},n.prototype.getAllUnreadCount=function(){var t=0;if(this.conversations)for(var r=0,e=this.conversations;r<e.length;r++){var i=e[r];t+=i.unread}return t},n.prototype.addConversationListener=function(t){this.listeners.push(t)},n.prototype.removeConversationListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyConversationListeners=function(t,r){this.listeners&&this.listeners.forEach(function(e){e&&e(t,r)})},n}(),O0=globalThis&&globalThis.__awaiter||function(n,t,r,e){function i(s){return s instanceof r?s:new r(function(f){f(s)})}return new(r||(r=Promise))(function(s,f){function o(l){try{a(e.next(l))}catch(S){f(S)}}function p(l){try{a(e.throw(l))}catch(S){f(S)}}function a(l){l.done?s(l.value):i(l.value).then(o,p)}a((e=e.apply(n,t||[])).next())})},U0=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},e,i,s,f;return f={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function o(a){return function(l){return p([a,l])}}function p(a){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){r.label=a[1];break}if(a[0]===6&&r.label<s[1]){r.label=s[1],s=a;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(a);break}s[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(n,r)}catch(l){a=[6,l],i=0}finally{e=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ma=function(){function n(){this.reminders=new Array}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.sync=function(){return O0(this,void 0,void 0,function(){var t,r,e,i,s,f,o,p,a;return U0(this,function(l){switch(l.label){case 0:return ne.shared().config.provider.syncRemindersCallback?(t=this.maxReminderVersion(),[4,ne.shared().config.provider.syncRemindersCallback(t)]):(console.log("##########syncRemindersCallback##########"),[2]);case 1:if(r=l.sent(),r&&r.length>0){for(e=new Set,i=0,s=r;i<s.length;i++){for(f=s[i],e.add(f.channel),o=!1,p=0;p<this.reminders.length;p++)if(a=this.reminders[p],f.reminderID===a.reminderID){this.reminders[p]=f,o=!0;break}o||this.reminders.push(f)}this.updateConversations(Array.from(e))}return[2]}})})},n.prototype.done=function(t){return O0(this,void 0,void 0,function(){var r,e,i,s,f;return U0(this,function(o){if(!ne.shared().config.provider.reminderDoneCallback)return console.log("##########reminderDoneCallback##########"),[2];if(r=this.getRemindersWithIDs(t),r&&r.length>0){for(e=0,i=r;e<i.length;e++)s=i[e],s.done=!0;f=this.getChannelWithReminders(r),this.updateConversations(f)}return[2,ne.shared().config.provider.reminderDoneCallback(t)]})})},n.prototype.getChannelWithReminders=function(t){if(!t||t.length===0)return[];for(var r=new Set,e=0,i=t;e<i.length;e++){var s=i[e];r.add(s.channel)}return Array.from(r)},n.prototype.updateConversations=function(t){var r=rn.shared().findConversations(t);if(r&&r.length>0)for(var e=0,i=r;e<i.length;e++){var s=i[e];s.reminders=this.getWaitDoneReminders(s.channel),rn.shared().notifyConversationListeners(s,$e.update)}},n.prototype.getWaitDoneReminders=function(t){for(var r=new Array,e=0,i=this.reminders;e<i.length;e++){var s=i[e];s.channel.isEqual(t)&&r.push(s)}return r},n.prototype.getRemindersWithIDs=function(t){for(var r=new Array,e=0,i=this.reminders;e<i.length;e++)for(var s=i[e],f=0,o=t;f<o.length;f++){var p=o[f];if(s.reminderID===p){r.push(s);break}}return r},n.prototype.maxReminderVersion=function(){for(var t=0,r=0,e=this.reminders;r<e.length;r++){var i=e[r];i.version>t&&(t=i.version)}return t},n}(),Oa=function(){function n(){}return n.prototype.messageUploadTask=function(t){if(this.messageUploadTaskCallback)return this.messageUploadTaskCallback(t)},n}(),Ua=function(){function n(){this.debug=!1,this.proto=new Ko,this.heartbeatInterval=6e4,this.receiptFlushInterval=2e3,this.sdkVersion="1.0.0",this.provider=new Oa}return n}(),Na=function(){function n(){this.listeners=new Array,this.channelMessagesMap=new Map}return n.shared=function(){return this.instance||(this.instance=new n,this.instance.setup()),this.instance},n.prototype.setup=function(){this.timer=setInterval(this.flushLoop.bind(this),ne.shared().config.receiptFlushInterval)},n.prototype.addReceiptMessages=function(t,r){if(!(!r||r.length===0)){var e=this.channelMessagesMap.get(t.getChannelKey());e||(e=[]);for(var i=0,s=r;i<s.length;i++){var f=s[i];f.remoteExtra.readed||e.push(f)}this.channelMessagesMap.set(t.getChannelKey(),e)}},n.prototype.flush=function(t){var r=this;if(!ne.shared().config.provider.messageReadedCallback)throw new Error("没有设置WKSDK.shared().config.provider.messageReadedCallback");var e=this.channelMessagesMap.get(t),i=new Array,s=0;if(e&&e.length>0){s=e.length;for(var f=0,o=e;f<o.length;f++){var p=o[f];i.push(p)}}if(i.length!==0){var a=rt.fromChannelKey(t);ne.shared().config.provider.messageReadedCallback(a,i).then(function(){r.removeCacheWithLength(t,s),r.notifyListeners(a,i)})}},n.prototype.removeCacheWithLength=function(t,r){var e=this.channelMessagesMap.get(t),i=new Array;if(e){for(var s=0,f=e;s<f.length;s++){var o=f[s];i.push(o)}var p=r;i.length<r&&(p=i.length);for(var a=0;a<p;a++)for(var o=i[a],l=0;l<e.length;l++){var S=e[l];if(o.clientMsgNo===S.clientMsgNo){e.splice(l,1);break}}}},n.prototype.flushLoop=function(){var t=this;this.channelMessagesMap.forEach(function(r,e){t.flush(e)})},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyListeners=function(t,r){this.listeners&&this.listeners.forEach(function(e){e&&e(t,r)})},n}(),Pa=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var e=Array(n),i=0,t=0;t<r;t++)for(var s=arguments[t],f=0,o=s.length;f<o;f++,i++)e[i]=s[f];return e},La=function(){function n(){}return n.shared=function(){return this.instance||(this.instance=new n,this.instance.init()),this.instance},n.prototype.init=function(){var t=this;this.config=new Ua,this.taskManager=new _a,this.messageContentManager=wi.shared(),this.connectManager=da.shared(),this.chatManager=mi.shared(),this.channelManager=Fa.shared(),this.conversationManager=rn.shared(),this.securityManager=it.shared(),this.reminderManager=Ma.shared(),this.receiptManager=Na.shared(),this.registerFactor(function(r){if(t.isSystemMessage(r))return new Ca;if(r===nt.cmd)return new Sa}),this.register(nt.text,function(){return new I0}),this.register(nt.signalMessage,function(){return new ma})},n.prototype.register=function(t,r){this.messageContentManager.register(t,r)},n.prototype.registerFactor=function(t){this.messageContentManager.registerFactor(t)},n.prototype.getMessageContent=function(t){return this.messageContentManager.getMessageContent(t)},n.prototype.isSystemMessage=function(t){return t>=1e3&&t<=2e3},n.prototype.connect=function(){this.connectManager.connect()},n.prototype.disconnect=function(){this.connectManager.disconnect()},n.prototype.onSubscribe=function(t,r){for(var e,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];(e=this.channelManager).onSubscribe.apply(e,Pa([t,r],i))},n.prototype.onUnsubscribe=function(t,r){this.channelManager.onUnsubscribe(t,r)},n.prototype.newMessageText=function(t){return new I0(t)},n.prototype.newChannel=function(t,r){return new rt(t,r)},n.prototype.newMessage=function(){return new en},n.prototype.newChannelInfo=function(){return new ga},n.prototype.newMediaMessageContent=function(){return new bi},n.prototype.newMessageContent=function(){return new xt},n}();const ne=La;export{sr as A,ht as B,rt as C,en as M,k0 as P,gt as S,ne as W,Gt as a,It as b,va as c,Be as d,Wa as e,I0 as f,za as g};
