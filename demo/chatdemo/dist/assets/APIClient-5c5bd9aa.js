var so=Object.defineProperty;var ao=(n,t,r)=>t in n?so(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r;var Ge=(n,t,r)=>(ao(n,typeof t!="symbol"?t+"":t,r),r);function ci(n,t){return function(){return n.apply(t,arguments)}}const{toString:fo}=Object.prototype,{getPrototypeOf:_n}=Object,fr=(n=>t=>{const r=fo.call(t);return n[r]||(n[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ot=n=>(n=n.toLowerCase(),t=>fr(t)===n),cr=n=>t=>typeof t===n,{isArray:Lt}=Array,Wt=cr("undefined");function co(n){return n!==null&&!Wt(n)&&n.constructor!==null&&!Wt(n.constructor)&&ze(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ui=ot("ArrayBuffer");function uo(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&ui(n.buffer),t}const ho=cr("string"),ze=cr("function"),hi=cr("number"),ur=n=>n!==null&&typeof n=="object",lo=n=>n===!0||n===!1,rr=n=>{if(fr(n)!=="object")return!1;const t=_n(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},xo=ot("Date"),po=ot("File"),yo=ot("Blob"),go=ot("FileList"),vo=n=>ur(n)&&ze(n.pipe),wo=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||ze(n.append)&&((t=fr(n))==="formdata"||t==="object"&&ze(n.toString)&&n.toString()==="[object FormData]"))},mo=ot("URLSearchParams"),bo=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vt(n,t,{allOwnKeys:r=!1}={}){if(n===null||typeof n>"u")return;let e,o;if(typeof n!="object"&&(n=[n]),Lt(n))for(e=0,o=n.length;e<o;e++)t.call(null,n[e],e,n);else{const a=r?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let f;for(e=0;e<u;e++)f=a[e],t.call(null,n[f],f,n)}}function li(n,t){t=t.toLowerCase();const r=Object.keys(n);let e=r.length,o;for(;e-- >0;)if(o=r[e],t===o.toLowerCase())return o;return null}const xi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),pi=n=>!Wt(n)&&n!==xi;function yn(){const{caseless:n}=pi(this)&&this||{},t={},r=(e,o)=>{const a=n&&li(t,o)||o;rr(t[a])&&rr(e)?t[a]=yn(t[a],e):rr(e)?t[a]=yn({},e):Lt(e)?t[a]=e.slice():t[a]=e};for(let e=0,o=arguments.length;e<o;e++)arguments[e]&&Vt(arguments[e],r);return t}const Eo=(n,t,r,{allOwnKeys:e}={})=>(Vt(t,(o,a)=>{r&&ze(o)?n[a]=ci(o,r):n[a]=o},{allOwnKeys:e}),n),Bo=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),So=(n,t,r,e)=>{n.prototype=Object.create(t.prototype,e),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),r&&Object.assign(n.prototype,r)},Co=(n,t,r,e)=>{let o,a,u;const f={};if(t=t||{},n==null)return t;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!e||e(u,n,t))&&!f[u]&&(t[u]=n[u],f[u]=!0);n=r!==!1&&_n(n)}while(n&&(!r||r(n,t))&&n!==Object.prototype);return t},Ao=(n,t,r)=>{n=String(n),(r===void 0||r>n.length)&&(r=n.length),r-=t.length;const e=n.indexOf(t,r);return e!==-1&&e===r},_o=n=>{if(!n)return null;if(Lt(n))return n;let t=n.length;if(!hi(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=n[t];return r},Io=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&_n(Uint8Array)),Fo=(n,t)=>{const e=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=e.next())&&!o.done;){const a=o.value;t.call(n,a[0],a[1])}},ko=(n,t)=>{let r;const e=[];for(;(r=n.exec(t))!==null;)e.push(r);return e},To=ot("HTMLFormElement"),Ro=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,e,o){return e.toUpperCase()+o}),jn=(({hasOwnProperty:n})=>(t,r)=>n.call(t,r))(Object.prototype),Do=ot("RegExp"),di=(n,t)=>{const r=Object.getOwnPropertyDescriptors(n),e={};Vt(r,(o,a)=>{t(o,a,n)!==!1&&(e[a]=o)}),Object.defineProperties(n,e)},No=n=>{di(n,(t,r)=>{if(ze(n)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const e=n[r];if(ze(e)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Oo=(n,t)=>{const r={},e=o=>{o.forEach(a=>{r[a]=!0})};return Lt(n)?e(n):e(String(n).split(t)),r},Uo=()=>{},Mo=(n,t)=>(n=+n,Number.isFinite(n)?n:t),mr="abcdefghijklmnopqrstuvwxyz",Kn="0123456789",yi={DIGIT:Kn,ALPHA:mr,ALPHA_DIGIT:mr+mr.toUpperCase()+Kn},Lo=(n=16,t=yi.ALPHA_DIGIT)=>{let r="";const{length:e}=t;for(;n--;)r+=t[Math.random()*e|0];return r};function Po(n){return!!(n&&ze(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Ho=n=>{const t=new Array(10),r=(e,o)=>{if(ur(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[o]=e;const a=Lt(e)?[]:{};return Vt(e,(u,f)=>{const B=r(u,o+1);!Wt(B)&&(a[f]=B)}),t[o]=void 0,a}}return e};return r(n,0)},qo=ot("AsyncFunction"),zo=n=>n&&(ur(n)||ze(n))&&ze(n.then)&&ze(n.catch),X={isArray:Lt,isArrayBuffer:ui,isBuffer:co,isFormData:wo,isArrayBufferView:uo,isString:ho,isNumber:hi,isBoolean:lo,isObject:ur,isPlainObject:rr,isUndefined:Wt,isDate:xo,isFile:po,isBlob:yo,isRegExp:Do,isFunction:ze,isStream:vo,isURLSearchParams:mo,isTypedArray:Io,isFileList:go,forEach:Vt,merge:yn,extend:Eo,trim:bo,stripBOM:Bo,inherits:So,toFlatObject:Co,kindOf:fr,kindOfTest:ot,endsWith:Ao,toArray:_o,forEachEntry:Fo,matchAll:ko,isHTMLForm:To,hasOwnProperty:jn,hasOwnProp:jn,reduceDescriptors:di,freezeMethods:No,toObjectSet:Oo,toCamelCase:Ro,noop:Uo,toFiniteNumber:Mo,findKey:li,global:xi,isContextDefined:pi,ALPHABET:yi,generateString:Lo,isSpecCompliantForm:Po,toJSONObject:Ho,isAsyncFn:qo,isThenable:zo};function me(n,t,r,e,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),e&&(this.request=e),o&&(this.response=o)}X.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gi=me.prototype,vi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{vi[n]={value:n}});Object.defineProperties(me,vi);Object.defineProperty(gi,"isAxiosError",{value:!0});me.from=(n,t,r,e,o,a)=>{const u=Object.create(gi);return X.toFlatObject(n,u,function(B){return B!==Error.prototype},f=>f!=="isAxiosError"),me.call(u,n.message,t,r,e,o),u.cause=n,u.name=n.name,a&&Object.assign(u,a),u};const $o=null;function gn(n){return X.isPlainObject(n)||X.isArray(n)}function wi(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function Vn(n,t,r){return n?n.concat(t).map(function(o,a){return o=wi(o),!r&&a?"["+o+"]":o}).join(r?".":""):t}function Wo(n){return X.isArray(n)&&!n.some(gn)}const Go=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function hr(n,t,r){if(!X.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,P){return!X.isUndefined(P[O])});const e=r.metaTokens,o=r.visitor||w,a=r.dots,u=r.indexes,B=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function l(F){if(F===null)return"";if(X.isDate(F))return F.toISOString();if(!B&&X.isBlob(F))throw new me("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(F)||X.isTypedArray(F)?B&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function w(F,O,P){let N=F;if(F&&!P&&typeof F=="object"){if(X.endsWith(O,"{}"))O=e?O:O.slice(0,-2),F=JSON.stringify(F);else if(X.isArray(F)&&Wo(F)||(X.isFileList(F)||X.endsWith(O,"[]"))&&(N=X.toArray(F)))return O=wi(O),N.forEach(function(M,H){!(X.isUndefined(M)||M===null)&&t.append(u===!0?Vn([O],H,a):u===null?O:O+"[]",l(M))}),!1}return gn(F)?!0:(t.append(Vn(P,O,a),l(F)),!1)}const k=[],I=Object.assign(Go,{defaultVisitor:w,convertValue:l,isVisitable:gn});function T(F,O){if(!X.isUndefined(F)){if(k.indexOf(F)!==-1)throw Error("Circular reference detected in "+O.join("."));k.push(F),X.forEach(F,function(N,A){(!(X.isUndefined(N)||N===null)&&o.call(t,N,X.isString(A)?A.trim():A,O,I))===!0&&T(N,O?O.concat(A):[A])}),k.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return T(n),t}function Xn(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function In(n,t){this._pairs=[],n&&hr(n,this,t)}const mi=In.prototype;mi.append=function(t,r){this._pairs.push([t,r])};mi.toString=function(t){const r=t?function(e){return t.call(this,e,Xn)}:Xn;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function jo(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bi(n,t,r){if(!t)return n;const e=r&&r.encode||jo,o=r&&r.serialize;let a;if(o?a=o(t,r):a=X.isURLSearchParams(t)?t.toString():new In(t,r).toString(e),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Ko{constructor(){this.handlers=[]}use(t,r,e){return this.handlers.push({fulfilled:t,rejected:r,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(e){e!==null&&t(e)})}}const Yn=Ko,Ei={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vo=typeof URLSearchParams<"u"?URLSearchParams:In,Xo=typeof FormData<"u"?FormData:null,Yo=typeof Blob<"u"?Blob:null,Jo=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Qo=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),it={isBrowser:!0,classes:{URLSearchParams:Vo,FormData:Xo,Blob:Yo},isStandardBrowserEnv:Jo,isStandardBrowserWebWorkerEnv:Qo,protocols:["http","https","file","blob","url","data"]};function Zo(n,t){return hr(n,new it.classes.URLSearchParams,Object.assign({visitor:function(r,e,o,a){return it.isNode&&X.isBuffer(r)?(this.append(e,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function es(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ts(n){const t={},r=Object.keys(n);let e;const o=r.length;let a;for(e=0;e<o;e++)a=r[e],t[a]=n[a];return t}function Bi(n){function t(r,e,o,a){let u=r[a++];const f=Number.isFinite(+u),B=a>=r.length;return u=!u&&X.isArray(o)?o.length:u,B?(X.hasOwnProp(o,u)?o[u]=[o[u],e]:o[u]=e,!f):((!o[u]||!X.isObject(o[u]))&&(o[u]=[]),t(r,e,o[u],a)&&X.isArray(o[u])&&(o[u]=ts(o[u])),!f)}if(X.isFormData(n)&&X.isFunction(n.entries)){const r={};return X.forEachEntry(n,(e,o)=>{t(es(e),o,r,0)}),r}return null}const rs={"Content-Type":void 0};function ns(n,t,r){if(X.isString(n))try{return(t||JSON.parse)(n),X.trim(n)}catch(e){if(e.name!=="SyntaxError")throw e}return(r||JSON.stringify)(n)}const lr={transitional:Ei,adapter:["xhr","http"],transformRequest:[function(t,r){const e=r.getContentType()||"",o=e.indexOf("application/json")>-1,a=X.isObject(t);if(a&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return o&&o?JSON.stringify(Bi(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(a){if(e.indexOf("application/x-www-form-urlencoded")>-1)return Zo(t,this.formSerializer).toString();if((f=X.isFileList(t))||e.indexOf("multipart/form-data")>-1){const B=this.env&&this.env.FormData;return hr(f?{"files[]":t}:t,B&&new B,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),ns(t)):t}],transformResponse:[function(t){const r=this.transitional||lr.transitional,e=r&&r.forcedJSONParsing,o=this.responseType==="json";if(t&&X.isString(t)&&(e&&!this.responseType||o)){const u=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(f){if(u)throw f.name==="SyntaxError"?me.from(f,me.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:it.classes.FormData,Blob:it.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};X.forEach(["delete","get","head"],function(t){lr.headers[t]={}});X.forEach(["post","put","patch"],function(t){lr.headers[t]=X.merge(rs)});const Fn=lr,is=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),os=n=>{const t={};let r,e,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),r=u.substring(0,o).trim().toLowerCase(),e=u.substring(o+1).trim(),!(!r||t[r]&&is[r])&&(r==="set-cookie"?t[r]?t[r].push(e):t[r]=[e]:t[r]=t[r]?t[r]+", "+e:e)}),t},Jn=Symbol("internals");function qt(n){return n&&String(n).trim().toLowerCase()}function nr(n){return n===!1||n==null?n:X.isArray(n)?n.map(nr):String(n)}function ss(n){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=r.exec(n);)t[e[1]]=e[2];return t}const as=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function br(n,t,r,e,o){if(X.isFunction(e))return e.call(this,t,r);if(o&&(t=r),!!X.isString(t)){if(X.isString(e))return t.indexOf(e)!==-1;if(X.isRegExp(e))return e.test(t)}}function fs(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,e)=>r.toUpperCase()+e)}function cs(n,t){const r=X.toCamelCase(" "+t);["get","set","has"].forEach(e=>{Object.defineProperty(n,e+r,{value:function(o,a,u){return this[e].call(this,t,o,a,u)},configurable:!0})})}class xr{constructor(t){t&&this.set(t)}set(t,r,e){const o=this;function a(f,B,l){const w=qt(B);if(!w)throw new Error("header name must be a non-empty string");const k=X.findKey(o,w);(!k||o[k]===void 0||l===!0||l===void 0&&o[k]!==!1)&&(o[k||B]=nr(f))}const u=(f,B)=>X.forEach(f,(l,w)=>a(l,w,B));return X.isPlainObject(t)||t instanceof this.constructor?u(t,r):X.isString(t)&&(t=t.trim())&&!as(t)?u(os(t),r):t!=null&&a(r,t,e),this}get(t,r){if(t=qt(t),t){const e=X.findKey(this,t);if(e){const o=this[e];if(!r)return o;if(r===!0)return ss(o);if(X.isFunction(r))return r.call(this,o,e);if(X.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=qt(t),t){const e=X.findKey(this,t);return!!(e&&this[e]!==void 0&&(!r||br(this,this[e],e,r)))}return!1}delete(t,r){const e=this;let o=!1;function a(u){if(u=qt(u),u){const f=X.findKey(e,u);f&&(!r||br(e,e[f],f,r))&&(delete e[f],o=!0)}}return X.isArray(t)?t.forEach(a):a(t),o}clear(t){const r=Object.keys(this);let e=r.length,o=!1;for(;e--;){const a=r[e];(!t||br(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const r=this,e={};return X.forEach(this,(o,a)=>{const u=X.findKey(e,a);if(u){r[u]=nr(o),delete r[a];return}const f=t?fs(a):String(a).trim();f!==a&&delete r[a],r[f]=nr(o),e[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return X.forEach(this,(e,o)=>{e!=null&&e!==!1&&(r[o]=t&&X.isArray(e)?e.join(", "):e)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const e=new this(t);return r.forEach(o=>e.set(o)),e}static accessor(t){const e=(this[Jn]=this[Jn]={accessors:{}}).accessors,o=this.prototype;function a(u){const f=qt(u);e[f]||(cs(o,u),e[f]=!0)}return X.isArray(t)?t.forEach(a):a(t),this}}xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.freezeMethods(xr.prototype);X.freezeMethods(xr);const lt=xr;function Er(n,t){const r=this||Fn,e=t||r,o=lt.from(e.headers);let a=e.data;return X.forEach(n,function(f){a=f.call(r,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function Si(n){return!!(n&&n.__CANCEL__)}function Xt(n,t,r){me.call(this,n??"canceled",me.ERR_CANCELED,t,r),this.name="CanceledError"}X.inherits(Xt,me,{__CANCEL__:!0});function us(n,t,r){const e=r.config.validateStatus;!r.status||!e||e(r.status)?n(r):t(new me("Request failed with status code "+r.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const hs=it.isStandardBrowserEnv?function(){return{write:function(r,e,o,a,u,f){const B=[];B.push(r+"="+encodeURIComponent(e)),X.isNumber(o)&&B.push("expires="+new Date(o).toGMTString()),X.isString(a)&&B.push("path="+a),X.isString(u)&&B.push("domain="+u),f===!0&&B.push("secure"),document.cookie=B.join("; ")},read:function(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ls(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function xs(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}function Ci(n,t){return n&&!ls(t)?xs(n,t):t}const ps=it.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let e;function o(a){let u=a;return t&&(r.setAttribute("href",u),u=r.href),r.setAttribute("href",u),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(u){const f=X.isString(u)?o(u):u;return f.protocol===e.protocol&&f.host===e.host}}():function(){return function(){return!0}}();function ds(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function ys(n,t){n=n||10;const r=new Array(n),e=new Array(n);let o=0,a=0,u;return t=t!==void 0?t:1e3,function(B){const l=Date.now(),w=e[a];u||(u=l),r[o]=B,e[o]=l;let k=a,I=0;for(;k!==o;)I+=r[k++],k=k%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),l-u<t)return;const T=w&&l-w;return T?Math.round(I*1e3/T):void 0}}function Qn(n,t){let r=0;const e=ys(50,250);return o=>{const a=o.loaded,u=o.lengthComputable?o.total:void 0,f=a-r,B=e(f),l=a<=u;r=a;const w={loaded:a,total:u,progress:u?a/u:void 0,bytes:f,rate:B||void 0,estimated:B&&u&&l?(u-a)/B:void 0,event:o};w[t?"download":"upload"]=!0,n(w)}}const gs=typeof XMLHttpRequest<"u",vs=gs&&function(n){return new Promise(function(r,e){let o=n.data;const a=lt.from(n.headers).normalize(),u=n.responseType;let f;function B(){n.cancelToken&&n.cancelToken.unsubscribe(f),n.signal&&n.signal.removeEventListener("abort",f)}X.isFormData(o)&&(it.isStandardBrowserEnv||it.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(n.auth){const T=n.auth.username||"",F=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";a.set("Authorization","Basic "+btoa(T+":"+F))}const w=Ci(n.baseURL,n.url);l.open(n.method.toUpperCase(),bi(w,n.params,n.paramsSerializer),!0),l.timeout=n.timeout;function k(){if(!l)return;const T=lt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),O={data:!u||u==="text"||u==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:T,config:n,request:l};us(function(N){r(N),B()},function(N){e(N),B()},O),l=null}if("onloadend"in l?l.onloadend=k:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(k)},l.onabort=function(){l&&(e(new me("Request aborted",me.ECONNABORTED,n,l)),l=null)},l.onerror=function(){e(new me("Network Error",me.ERR_NETWORK,n,l)),l=null},l.ontimeout=function(){let F=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const O=n.transitional||Ei;n.timeoutErrorMessage&&(F=n.timeoutErrorMessage),e(new me(F,O.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,n,l)),l=null},it.isStandardBrowserEnv){const T=(n.withCredentials||ps(w))&&n.xsrfCookieName&&hs.read(n.xsrfCookieName);T&&a.set(n.xsrfHeaderName,T)}o===void 0&&a.setContentType(null),"setRequestHeader"in l&&X.forEach(a.toJSON(),function(F,O){l.setRequestHeader(O,F)}),X.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),u&&u!=="json"&&(l.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&l.addEventListener("progress",Qn(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Qn(n.onUploadProgress)),(n.cancelToken||n.signal)&&(f=T=>{l&&(e(!T||T.type?new Xt(null,n,l):T),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(f),n.signal&&(n.signal.aborted?f():n.signal.addEventListener("abort",f)));const I=ds(w);if(I&&it.protocols.indexOf(I)===-1){e(new me("Unsupported protocol "+I+":",me.ERR_BAD_REQUEST,n));return}l.send(o||null)})},ir={http:$o,xhr:vs};X.forEach(ir,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const ws={getAdapter:n=>{n=X.isArray(n)?n:[n];const{length:t}=n;let r,e;for(let o=0;o<t&&(r=n[o],!(e=X.isString(r)?ir[r.toLowerCase()]:r));o++);if(!e)throw e===!1?new me(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(X.hasOwnProp(ir,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!X.isFunction(e))throw new TypeError("adapter is not a function");return e},adapters:ir};function Br(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Xt(null,n)}function Zn(n){return Br(n),n.headers=lt.from(n.headers),n.data=Er.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ws.getAdapter(n.adapter||Fn.adapter)(n).then(function(e){return Br(n),e.data=Er.call(n,n.transformResponse,e),e.headers=lt.from(e.headers),e},function(e){return Si(e)||(Br(n),e&&e.response&&(e.response.data=Er.call(n,n.transformResponse,e.response),e.response.headers=lt.from(e.response.headers))),Promise.reject(e)})}const e0=n=>n instanceof lt?n.toJSON():n;function Ot(n,t){t=t||{};const r={};function e(l,w,k){return X.isPlainObject(l)&&X.isPlainObject(w)?X.merge.call({caseless:k},l,w):X.isPlainObject(w)?X.merge({},w):X.isArray(w)?w.slice():w}function o(l,w,k){if(X.isUndefined(w)){if(!X.isUndefined(l))return e(void 0,l,k)}else return e(l,w,k)}function a(l,w){if(!X.isUndefined(w))return e(void 0,w)}function u(l,w){if(X.isUndefined(w)){if(!X.isUndefined(l))return e(void 0,l)}else return e(void 0,w)}function f(l,w,k){if(k in t)return e(l,w);if(k in n)return e(void 0,l)}const B={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(l,w)=>o(e0(l),e0(w),!0)};return X.forEach(Object.keys(Object.assign({},n,t)),function(w){const k=B[w]||o,I=k(n[w],t[w],w);X.isUndefined(I)&&k!==f||(r[w]=I)}),r}const Ai="1.4.0",kn={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{kn[n]=function(e){return typeof e===n||"a"+(t<1?"n ":" ")+n}});const t0={};kn.transitional=function(t,r,e){function o(a,u){return"[Axios v"+Ai+"] Transitional option '"+a+"'"+u+(e?". "+e:"")}return(a,u,f)=>{if(t===!1)throw new me(o(u," has been removed"+(r?" in "+r:"")),me.ERR_DEPRECATED);return r&&!t0[u]&&(t0[u]=!0,console.warn(o(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,u,f):!0}};function ms(n,t,r){if(typeof n!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const e=Object.keys(n);let o=e.length;for(;o-- >0;){const a=e[o],u=t[a];if(u){const f=n[a],B=f===void 0||u(f,a,n);if(B!==!0)throw new me("option "+a+" must be "+B,me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new me("Unknown option "+a,me.ERR_BAD_OPTION)}}const vn={assertOptions:ms,validators:kn},yt=vn.validators;class sr{constructor(t){this.defaults=t,this.interceptors={request:new Yn,response:new Yn}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ot(this.defaults,r);const{transitional:e,paramsSerializer:o,headers:a}=r;e!==void 0&&vn.assertOptions(e,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),o!=null&&(X.isFunction(o)?r.paramsSerializer={serialize:o}:vn.assertOptions(o,{encode:yt.function,serialize:yt.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u;u=a&&X.merge(a.common,a[r.method]),u&&X.forEach(["delete","get","head","post","put","patch","common"],F=>{delete a[F]}),r.headers=lt.concat(u,a);const f=[];let B=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(r)===!1||(B=B&&O.synchronous,f.unshift(O.fulfilled,O.rejected))});const l=[];this.interceptors.response.forEach(function(O){l.push(O.fulfilled,O.rejected)});let w,k=0,I;if(!B){const F=[Zn.bind(this),void 0];for(F.unshift.apply(F,f),F.push.apply(F,l),I=F.length,w=Promise.resolve(r);k<I;)w=w.then(F[k++],F[k++]);return w}I=f.length;let T=r;for(k=0;k<I;){const F=f[k++],O=f[k++];try{T=F(T)}catch(P){O.call(this,P);break}}try{w=Zn.call(this,T)}catch(F){return Promise.reject(F)}for(k=0,I=l.length;k<I;)w=w.then(l[k++],l[k++]);return w}getUri(t){t=Ot(this.defaults,t);const r=Ci(t.baseURL,t.url);return bi(r,t.params,t.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(t){sr.prototype[t]=function(r,e){return this.request(Ot(e||{},{method:t,url:r,data:(e||{}).data}))}});X.forEach(["post","put","patch"],function(t){function r(e){return function(a,u,f){return this.request(Ot(f||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}sr.prototype[t]=r(),sr.prototype[t+"Form"]=r(!0)});const or=sr;class Tn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const e=this;this.promise.then(o=>{if(!e._listeners)return;let a=e._listeners.length;for(;a-- >0;)e._listeners[a](o);e._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(f=>{e.subscribe(f),a=f}).then(o);return u.cancel=function(){e.unsubscribe(a)},u},t(function(a,u,f){e.reason||(e.reason=new Xt(a,u,f),r(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Tn(function(o){t=o}),cancel:t}}}const bs=Tn;function Es(n){return function(r){return n.apply(null,r)}}function Bs(n){return X.isObject(n)&&n.isAxiosError===!0}const wn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wn).forEach(([n,t])=>{wn[t]=n});const Ss=wn;function _i(n){const t=new or(n),r=ci(or.prototype.request,t);return X.extend(r,or.prototype,t,{allOwnKeys:!0}),X.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return _i(Ot(n,o))},r}const Ce=_i(Fn);Ce.Axios=or;Ce.CanceledError=Xt;Ce.CancelToken=bs;Ce.isCancel=Si;Ce.VERSION=Ai;Ce.toFormData=hr;Ce.AxiosError=me;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=Es;Ce.isAxiosError=Bs;Ce.mergeConfig=Ot;Ce.AxiosHeaders=lt;Ce.formToJSON=n=>Bi(X.isHTMLForm(n)?new FormData(n):n);Ce.HttpStatusCode=Ss;Ce.default=Ce;const Ct=Ce;var xt=function(){function n(){}return n.unknown=0,n.text=1,n.image=2,n.stream=98,n.cmd=99,n.signalMessage=21e3,n}(),Cs=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Sr=Math.ceil,et=Math.floor,Re="[BigNumber Error] ",r0=Re+"Number primitive has more than 15 significant digits: ",je=1e14,xe=14,Cr=9007199254740991,Ar=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],gt=1e7,Ae=1e9;function Ii(n){var t,r,e,o=N.prototype={constructor:N,toString:null,valueOf:null},a=new N(1),u=20,f=4,B=-7,l=21,w=-1e7,k=1e7,I=!1,T=1,F=0,O={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz";function N(E,h){var p,x,d,g,v,b,m,C,_=this;if(!(_ instanceof N))return new N(E,h);if(h==null){if(E&&E._isBigNumber===!0){_.s=E.s,!E.c||E.e>k?_.c=_.e=null:E.e<w?_.c=[_.e=0]:(_.e=E.e,_.c=E.c.slice());return}if((b=typeof E=="number")&&E*0==0){if(_.s=1/E<0?(E=-E,-1):1,E===~~E){for(g=0,v=E;v>=10;v/=10,g++);g>k?_.c=_.e=null:(_.e=g,_.c=[E]);return}C=String(E)}else{if(!Cs.test(C=String(E)))return e(_,C,b);_.s=C.charCodeAt(0)==45?(C=C.slice(1),-1):1}(g=C.indexOf("."))>-1&&(C=C.replace(".","")),(v=C.search(/e/i))>0?(g<0&&(g=v),g+=+C.slice(v+1),C=C.substring(0,v)):g<0&&(g=C.length)}else{if(be(h,2,P.length,"Base"),h==10)return _=new N(E),G(_,u+_.e+1,f);if(C=String(E),b=typeof E=="number"){if(E*0!=0)return e(_,C,b,h);if(_.s=1/E<0?(C=C.slice(1),-1):1,N.DEBUG&&C.replace(/^0\.0*|\./,"").length>15)throw Error(r0+E)}else _.s=C.charCodeAt(0)===45?(C=C.slice(1),-1):1;for(p=P.slice(0,h),g=v=0,m=C.length;v<m;v++)if(p.indexOf(x=C.charAt(v))<0){if(x=="."){if(v>g){g=m;continue}}else if(!d&&(C==C.toUpperCase()&&(C=C.toLowerCase())||C==C.toLowerCase()&&(C=C.toUpperCase()))){d=!0,v=-1,g=0;continue}return e(_,String(E),b,h)}b=!1,C=r(C,h,10,_.s),(g=C.indexOf("."))>-1?C=C.replace(".",""):g=C.length}for(v=0;C.charCodeAt(v)===48;v++);for(m=C.length;C.charCodeAt(--m)===48;);if(C=C.slice(v,++m)){if(m-=v,b&&N.DEBUG&&m>15&&(E>Cr||E!==et(E)))throw Error(r0+_.s*E);if((g=g-v-1)>k)_.c=_.e=null;else if(g<w)_.c=[_.e=0];else{if(_.e=g,_.c=[],v=(g+1)%xe,g<0&&(v+=xe),v<m){for(v&&_.c.push(+C.slice(0,v)),m-=xe;v<m;)_.c.push(+C.slice(v,v+=xe));v=xe-(C=C.slice(v)).length}else v-=m;for(;v--;C+="0");_.c.push(+C)}}else _.c=[_.e=0]}N.clone=Ii,N.ROUND_UP=0,N.ROUND_DOWN=1,N.ROUND_CEIL=2,N.ROUND_FLOOR=3,N.ROUND_HALF_UP=4,N.ROUND_HALF_DOWN=5,N.ROUND_HALF_EVEN=6,N.ROUND_HALF_CEIL=7,N.ROUND_HALF_FLOOR=8,N.EUCLID=9,N.config=N.set=function(E){var h,p;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(h="DECIMAL_PLACES")&&(p=E[h],be(p,0,Ae,h),u=p),E.hasOwnProperty(h="ROUNDING_MODE")&&(p=E[h],be(p,0,8,h),f=p),E.hasOwnProperty(h="EXPONENTIAL_AT")&&(p=E[h],p&&p.pop?(be(p[0],-Ae,0,h),be(p[1],0,Ae,h),B=p[0],l=p[1]):(be(p,-Ae,Ae,h),B=-(l=p<0?-p:p))),E.hasOwnProperty(h="RANGE"))if(p=E[h],p&&p.pop)be(p[0],-Ae,-1,h),be(p[1],1,Ae,h),w=p[0],k=p[1];else if(be(p,-Ae,Ae,h),p)w=-(k=p<0?-p:p);else throw Error(Re+h+" cannot be zero: "+p);if(E.hasOwnProperty(h="CRYPTO"))if(p=E[h],p===!!p)if(p)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))I=p;else throw I=!p,Error(Re+"crypto unavailable");else I=p;else throw Error(Re+h+" not true or false: "+p);if(E.hasOwnProperty(h="MODULO_MODE")&&(p=E[h],be(p,0,9,h),T=p),E.hasOwnProperty(h="POW_PRECISION")&&(p=E[h],be(p,0,Ae,h),F=p),E.hasOwnProperty(h="FORMAT"))if(p=E[h],typeof p=="object")O=p;else throw Error(Re+h+" not an object: "+p);if(E.hasOwnProperty(h="ALPHABET"))if(p=E[h],typeof p=="string"&&!/^.$|[+-.\s]|(.).*\1/.test(p))P=p;else throw Error(Re+h+" invalid: "+p)}else throw Error(Re+"Object expected: "+E);return{DECIMAL_PLACES:u,ROUNDING_MODE:f,EXPONENTIAL_AT:[B,l],RANGE:[w,k],CRYPTO:I,MODULO_MODE:T,POW_PRECISION:F,FORMAT:O,ALPHABET:P}},N.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!N.DEBUG)return!0;var h,p,x=E.c,d=E.e,g=E.s;e:if({}.toString.call(x)=="[object Array]"){if((g===1||g===-1)&&d>=-Ae&&d<=Ae&&d===et(d)){if(x[0]===0){if(d===0&&x.length===1)return!0;break e}if(h=(d+1)%xe,h<1&&(h+=xe),String(x[0]).length==h){for(h=0;h<x.length;h++)if(p=x[h],p<0||p>=je||p!==et(p))break e;if(p!==0)return!0}}}else if(x===null&&d===null&&(g===null||g===1||g===-1))return!0;throw Error(Re+"Invalid BigNumber: "+E)},N.maximum=N.max=function(){return M(arguments,o.lt)},N.minimum=N.min=function(){return M(arguments,o.gt)},N.random=function(){var E=9007199254740992,h=Math.random()*E&2097151?function(){return et(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(p){var x,d,g,v,b,m=0,C=[],_=new N(a);if(p==null?p=u:be(p,0,Ae),v=Sr(p/xe),I)if(crypto.getRandomValues){for(x=crypto.getRandomValues(new Uint32Array(v*=2));m<v;)b=x[m]*131072+(x[m+1]>>>11),b>=9e15?(d=crypto.getRandomValues(new Uint32Array(2)),x[m]=d[0],x[m+1]=d[1]):(C.push(b%1e14),m+=2);m=v/2}else if(crypto.randomBytes){for(x=crypto.randomBytes(v*=7);m<v;)b=(x[m]&31)*281474976710656+x[m+1]*1099511627776+x[m+2]*4294967296+x[m+3]*16777216+(x[m+4]<<16)+(x[m+5]<<8)+x[m+6],b>=9e15?crypto.randomBytes(7).copy(x,m):(C.push(b%1e14),m+=7);m=v/7}else throw I=!1,Error(Re+"crypto unavailable");if(!I)for(;m<v;)b=h(),b<9e15&&(C[m++]=b%1e14);for(v=C[--m],p%=xe,v&&p&&(b=Ar[xe-p],C[m]=et(v/b)*b);C[m]===0;C.pop(),m--);if(m<0)C=[g=0];else{for(g=-1;C[0]===0;C.splice(0,1),g-=xe);for(m=1,b=C[0];b>=10;b/=10,m++);m<xe&&(g-=xe-m)}return _.e=g,_.c=C,_}}(),N.sum=function(){for(var E=1,h=arguments,p=new N(h[0]);E<h.length;)p=p.plus(h[E++]);return p},r=function(){var E="0123456789";function h(p,x,d,g){for(var v,b=[0],m,C=0,_=p.length;C<_;){for(m=b.length;m--;b[m]*=x);for(b[0]+=g.indexOf(p.charAt(C++)),v=0;v<b.length;v++)b[v]>d-1&&(b[v+1]==null&&(b[v+1]=0),b[v+1]+=b[v]/d|0,b[v]%=d)}return b.reverse()}return function(p,x,d,g,v){var b,m,C,_,R,z,j,U,q=p.indexOf("."),K=u,W=f;for(q>=0&&(_=F,F=0,p=p.replace(".",""),U=new N(x),z=U.pow(p.length-q),F=_,U.c=h(ft(Ue(z.c),z.e,"0"),10,d,E),U.e=U.c.length),j=h(p,x,d,v?(b=P,E):(b=E,P)),C=_=j.length;j[--_]==0;j.pop());if(!j[0])return b.charAt(0);if(q<0?--C:(z.c=j,z.e=C,z.s=g,z=t(z,U,K,W,d),j=z.c,R=z.r,C=z.e),m=C+K+1,q=j[m],_=d/2,R=R||m<0||j[m+1]!=null,R=W<4?(q!=null||R)&&(W==0||W==(z.s<0?3:2)):q>_||q==_&&(W==4||R||W==6&&j[m-1]&1||W==(z.s<0?8:7)),m<1||!j[0])p=R?ft(b.charAt(1),-K,b.charAt(0)):b.charAt(0);else{if(j.length=m,R)for(--d;++j[--m]>d;)j[m]=0,m||(++C,j=[1].concat(j));for(_=j.length;!j[--_];);for(q=0,p="";q<=_;p+=b.charAt(j[q++]));p=ft(p,C,b.charAt(0))}return p}}(),t=function(){function E(x,d,g){var v,b,m,C,_=0,R=x.length,z=d%gt,j=d/gt|0;for(x=x.slice();R--;)m=x[R]%gt,C=x[R]/gt|0,v=j*m+C*z,b=z*m+v%gt*gt+_,_=(b/g|0)+(v/gt|0)+j*C,x[R]=b%g;return _&&(x=[_].concat(x)),x}function h(x,d,g,v){var b,m;if(g!=v)m=g>v?1:-1;else for(b=m=0;b<g;b++)if(x[b]!=d[b]){m=x[b]>d[b]?1:-1;break}return m}function p(x,d,g,v){for(var b=0;g--;)x[g]-=b,b=x[g]<d[g]?1:0,x[g]=b*v+x[g]-d[g];for(;!x[0]&&x.length>1;x.splice(0,1));}return function(x,d,g,v,b){var m,C,_,R,z,j,U,q,K,W,V,Y,te,J,le,se,ue,ae=x.s==d.s?1:-1,ee=x.c,Q=d.c;if(!ee||!ee[0]||!Q||!Q[0])return new N(!x.s||!d.s||(ee?Q&&ee[0]==Q[0]:!Q)?NaN:ee&&ee[0]==0||!Q?ae*0:ae/0);for(q=new N(ae),K=q.c=[],C=x.e-d.e,ae=g+C+1,b||(b=je,C=Le(x.e/xe)-Le(d.e/xe),ae=ae/xe|0),_=0;Q[_]==(ee[_]||0);_++);if(Q[_]>(ee[_]||0)&&C--,ae<0)K.push(1),R=!0;else{for(J=ee.length,se=Q.length,_=0,ae+=2,z=et(b/(Q[0]+1)),z>1&&(Q=E(Q,z,b),ee=E(ee,z,b),se=Q.length,J=ee.length),te=se,W=ee.slice(0,se),V=W.length;V<se;W[V++]=0);ue=Q.slice(),ue=[0].concat(ue),le=Q[0],Q[1]>=b/2&&le++;do{if(z=0,m=h(Q,W,se,V),m<0){if(Y=W[0],se!=V&&(Y=Y*b+(W[1]||0)),z=et(Y/le),z>1)for(z>=b&&(z=b-1),j=E(Q,z,b),U=j.length,V=W.length;h(j,W,U,V)==1;)z--,p(j,se<U?ue:Q,U,b),U=j.length,m=1;else z==0&&(m=z=1),j=Q.slice(),U=j.length;if(U<V&&(j=[0].concat(j)),p(W,j,V,b),V=W.length,m==-1)for(;h(Q,W,se,V)<1;)z++,p(W,se<V?ue:Q,V,b),V=W.length}else m===0&&(z++,W=[0]);K[_++]=z,W[0]?W[V++]=ee[te]||0:(W=[ee[te]],V=1)}while((te++<J||W[0]!=null)&&ae--);R=W[0]!=null,K[0]||K.splice(0,1)}if(b==je){for(_=1,ae=K[0];ae>=10;ae/=10,_++);G(q,g+(q.e=_+C*xe-1)+1,v,R)}else q.e=C,q.r=+R;return q}}();function A(E,h,p,x){var d,g,v,b,m;if(p==null?p=f:be(p,0,8),!E.c)return E.toString();if(d=E.c[0],v=E.e,h==null)m=Ue(E.c),m=x==1||x==2&&(v<=B||v>=l)?Jt(m,v):ft(m,v,"0");else if(E=G(new N(E),h,p),g=E.e,m=Ue(E.c),b=m.length,x==1||x==2&&(h<=g||g<=B)){for(;b<h;m+="0",b++);m=Jt(m,g)}else if(h-=v,m=ft(m,g,"0"),g+1>b){if(--h>0)for(m+=".";h--;m+="0");}else if(h+=g-b,h>0)for(g+1==b&&(m+=".");h--;m+="0");return E.s<0&&d?"-"+m:m}function M(E,h){for(var p,x=1,d=new N(E[0]);x<E.length;x++)if(p=new N(E[x]),p.s)h.call(d,p)&&(d=p);else{d=p;break}return d}function H(E,h,p){for(var x=1,d=h.length;!h[--d];h.pop());for(d=h[0];d>=10;d/=10,x++);return(p=x+p*xe-1)>k?E.c=E.e=null:p<w?E.c=[E.e=0]:(E.e=p,E.c=h),E}e=function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,h=/^([^.]+)\.$/,p=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(g,v,b,m){var C,_=b?v:v.replace(d,"");if(x.test(_))g.s=isNaN(_)?null:_<0?-1:1;else{if(!b&&(_=_.replace(E,function(R,z,j){return C=(j=j.toLowerCase())=="x"?16:j=="b"?2:8,!m||m==C?z:R}),m&&(C=m,_=_.replace(h,"$1").replace(p,"0.$1")),v!=_))return new N(_,C);if(N.DEBUG)throw Error(Re+"Not a"+(m?" base "+m:"")+" number: "+v);g.s=null}g.c=g.e=null}}();function G(E,h,p,x){var d,g,v,b,m,C,_,R=E.c,z=Ar;if(R){e:{for(d=1,b=R[0];b>=10;b/=10,d++);if(g=h-d,g<0)g+=xe,v=h,m=R[C=0],_=m/z[d-v-1]%10|0;else if(C=Sr((g+1)/xe),C>=R.length)if(x){for(;R.length<=C;R.push(0));m=_=0,d=1,g%=xe,v=g-xe+1}else break e;else{for(m=b=R[C],d=1;b>=10;b/=10,d++);g%=xe,v=g-xe+d,_=v<0?0:m/z[d-v-1]%10|0}if(x=x||h<0||R[C+1]!=null||(v<0?m:m%z[d-v-1]),x=p<4?(_||x)&&(p==0||p==(E.s<0?3:2)):_>5||_==5&&(p==4||x||p==6&&(g>0?v>0?m/z[d-v]:0:R[C-1])%10&1||p==(E.s<0?8:7)),h<1||!R[0])return R.length=0,x?(h-=E.e+1,R[0]=z[(xe-h%xe)%xe],E.e=-h||0):R[0]=E.e=0,E;if(g==0?(R.length=C,b=1,C--):(R.length=C+1,b=z[xe-g],R[C]=v>0?et(m/z[d-v]%z[v])*b:0),x)for(;;)if(C==0){for(g=1,v=R[0];v>=10;v/=10,g++);for(v=R[0]+=b,b=1;v>=10;v/=10,b++);g!=b&&(E.e++,R[0]==je&&(R[0]=1));break}else{if(R[C]+=b,R[C]!=je)break;R[C--]=0,b=1}for(g=R.length;R[--g]===0;R.pop());}E.e>k?E.c=E.e=null:E.e<w&&(E.c=[E.e=0])}return E}function $(E){var h,p=E.e;return p===null?E.toString():(h=Ue(E.c),h=p<=B||p>=l?Jt(h,p):ft(h,p,"0"),E.s<0?"-"+h:h)}return o.absoluteValue=o.abs=function(){var E=new N(this);return E.s<0&&(E.s=1),E},o.comparedTo=function(E,h){return kt(this,new N(E,h))},o.decimalPlaces=o.dp=function(E,h){var p,x,d,g=this;if(E!=null)return be(E,0,Ae),h==null?h=f:be(h,0,8),G(new N(g),E+g.e+1,h);if(!(p=g.c))return null;if(x=((d=p.length-1)-Le(this.e/xe))*xe,d=p[d])for(;d%10==0;d/=10,x--);return x<0&&(x=0),x},o.dividedBy=o.div=function(E,h){return t(this,new N(E,h),u,f)},o.dividedToIntegerBy=o.idiv=function(E,h){return t(this,new N(E,h),0,1)},o.exponentiatedBy=o.pow=function(E,h){var p,x,d,g,v,b,m,C,_,R=this;if(E=new N(E),E.c&&!E.isInteger())throw Error(Re+"Exponent not an integer: "+$(E));if(h!=null&&(h=new N(h)),b=E.e>14,!R.c||!R.c[0]||R.c[0]==1&&!R.e&&R.c.length==1||!E.c||!E.c[0])return _=new N(Math.pow(+$(R),b?2-Yt(E):+$(E))),h?_.mod(h):_;if(m=E.s<0,h){if(h.c?!h.c[0]:!h.s)return new N(NaN);x=!m&&R.isInteger()&&h.isInteger(),x&&(R=R.mod(h))}else{if(E.e>9&&(R.e>0||R.e<-1||(R.e==0?R.c[0]>1||b&&R.c[1]>=24e7:R.c[0]<8e13||b&&R.c[0]<=9999975e7)))return g=R.s<0&&Yt(E)?-0:0,R.e>-1&&(g=1/g),new N(m?1/g:g);F&&(g=Sr(F/xe+2))}for(b?(p=new N(.5),m&&(E.s=1),C=Yt(E)):(d=Math.abs(+$(E)),C=d%2),_=new N(a);;){if(C){if(_=_.times(R),!_.c)break;g?_.c.length>g&&(_.c.length=g):x&&(_=_.mod(h))}if(d){if(d=et(d/2),d===0)break;C=d%2}else if(E=E.times(p),G(E,E.e+1,1),E.e>14)C=Yt(E);else{if(d=+$(E),d===0)break;C=d%2}R=R.times(R),g?R.c&&R.c.length>g&&(R.c.length=g):x&&(R=R.mod(h))}return x?_:(m&&(_=a.div(_)),h?_.mod(h):g?G(_,F,f,v):_)},o.integerValue=function(E){var h=new N(this);return E==null?E=f:be(E,0,8),G(h,h.e+1,E)},o.isEqualTo=o.eq=function(E,h){return kt(this,new N(E,h))===0},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(E,h){return kt(this,new N(E,h))>0},o.isGreaterThanOrEqualTo=o.gte=function(E,h){return(h=kt(this,new N(E,h)))===1||h===0},o.isInteger=function(){return!!this.c&&Le(this.e/xe)>this.c.length-2},o.isLessThan=o.lt=function(E,h){return kt(this,new N(E,h))<0},o.isLessThanOrEqualTo=o.lte=function(E,h){return(h=kt(this,new N(E,h)))===-1||h===0},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&this.c[0]==0},o.minus=function(E,h){var p,x,d,g,v=this,b=v.s;if(E=new N(E,h),h=E.s,!b||!h)return new N(NaN);if(b!=h)return E.s=-h,v.plus(E);var m=v.e/xe,C=E.e/xe,_=v.c,R=E.c;if(!m||!C){if(!_||!R)return _?(E.s=-h,E):new N(R?v:NaN);if(!_[0]||!R[0])return R[0]?(E.s=-h,E):new N(_[0]?v:f==3?-0:0)}if(m=Le(m),C=Le(C),_=_.slice(),b=m-C){for((g=b<0)?(b=-b,d=_):(C=m,d=R),d.reverse(),h=b;h--;d.push(0));d.reverse()}else for(x=(g=(b=_.length)<(h=R.length))?b:h,b=h=0;h<x;h++)if(_[h]!=R[h]){g=_[h]<R[h];break}if(g&&(d=_,_=R,R=d,E.s=-E.s),h=(x=R.length)-(p=_.length),h>0)for(;h--;_[p++]=0);for(h=je-1;x>b;){if(_[--x]<R[x]){for(p=x;p&&!_[--p];_[p]=h);--_[p],_[x]+=je}_[x]-=R[x]}for(;_[0]==0;_.splice(0,1),--C);return _[0]?H(E,_,C):(E.s=f==3?-1:1,E.c=[E.e=0],E)},o.modulo=o.mod=function(E,h){var p,x,d=this;return E=new N(E,h),!d.c||!E.s||E.c&&!E.c[0]?new N(NaN):!E.c||d.c&&!d.c[0]?new N(d):(T==9?(x=E.s,E.s=1,p=t(d,E,0,3),E.s=x,p.s*=x):p=t(d,E,0,T),E=d.minus(p.times(E)),!E.c[0]&&T==1&&(E.s=d.s),E)},o.multipliedBy=o.times=function(E,h){var p,x,d,g,v,b,m,C,_,R,z,j,U,q,K,W=this,V=W.c,Y=(E=new N(E,h)).c;if(!V||!Y||!V[0]||!Y[0])return!W.s||!E.s||V&&!V[0]&&!Y||Y&&!Y[0]&&!V?E.c=E.e=E.s=null:(E.s*=W.s,!V||!Y?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(x=Le(W.e/xe)+Le(E.e/xe),E.s*=W.s,m=V.length,R=Y.length,m<R&&(U=V,V=Y,Y=U,d=m,m=R,R=d),d=m+R,U=[];d--;U.push(0));for(q=je,K=gt,d=R;--d>=0;){for(p=0,z=Y[d]%K,j=Y[d]/K|0,v=m,g=d+v;g>d;)C=V[--v]%K,_=V[v]/K|0,b=j*C+_*z,C=z*C+b%K*K+U[g]+p,p=(C/q|0)+(b/K|0)+j*_,U[g--]=C%q;U[g]=p}return p?++x:U.splice(0,1),H(E,U,x)},o.negated=function(){var E=new N(this);return E.s=-E.s||null,E},o.plus=function(E,h){var p,x=this,d=x.s;if(E=new N(E,h),h=E.s,!d||!h)return new N(NaN);if(d!=h)return E.s=-h,x.minus(E);var g=x.e/xe,v=E.e/xe,b=x.c,m=E.c;if(!g||!v){if(!b||!m)return new N(d/0);if(!b[0]||!m[0])return m[0]?E:new N(b[0]?x:d*0)}if(g=Le(g),v=Le(v),b=b.slice(),d=g-v){for(d>0?(v=g,p=m):(d=-d,p=b),p.reverse();d--;p.push(0));p.reverse()}for(d=b.length,h=m.length,d-h<0&&(p=m,m=b,b=p,h=d),d=0;h;)d=(b[--h]=b[h]+m[h]+d)/je|0,b[h]=je===b[h]?0:b[h]%je;return d&&(b=[d].concat(b),++v),H(E,b,v)},o.precision=o.sd=function(E,h){var p,x,d,g=this;if(E!=null&&E!==!!E)return be(E,1,Ae),h==null?h=f:be(h,0,8),G(new N(g),E,h);if(!(p=g.c))return null;if(d=p.length-1,x=d*xe+1,d=p[d]){for(;d%10==0;d/=10,x--);for(d=p[0];d>=10;d/=10,x++);}return E&&g.e+1>x&&(x=g.e+1),x},o.shiftedBy=function(E){return be(E,-Cr,Cr),this.times("1e"+E)},o.squareRoot=o.sqrt=function(){var E,h,p,x,d,g=this,v=g.c,b=g.s,m=g.e,C=u+4,_=new N("0.5");if(b!==1||!v||!v[0])return new N(!b||b<0&&(!v||v[0])?NaN:v?g:1/0);if(b=Math.sqrt(+$(g)),b==0||b==1/0?(h=Ue(v),(h.length+m)%2==0&&(h+="0"),b=Math.sqrt(+h),m=Le((m+1)/2)-(m<0||m%2),b==1/0?h="5e"+m:(h=b.toExponential(),h=h.slice(0,h.indexOf("e")+1)+m),p=new N(h)):p=new N(b+""),p.c[0]){for(m=p.e,b=m+C,b<3&&(b=0);;)if(d=p,p=_.times(d.plus(t(g,d,C,1))),Ue(d.c).slice(0,b)===(h=Ue(p.c)).slice(0,b))if(p.e<m&&--b,h=h.slice(b-3,b+1),h=="9999"||!x&&h=="4999"){if(!x&&(G(d,d.e+u+2,0),d.times(d).eq(g))){p=d;break}C+=4,b+=4,x=1}else{(!+h||!+h.slice(1)&&h.charAt(0)=="5")&&(G(p,p.e+u+2,1),E=!p.times(p).eq(g));break}}return G(p,p.e+u+1,f,E)},o.toExponential=function(E,h){return E!=null&&(be(E,0,Ae),E++),A(this,E,h,1)},o.toFixed=function(E,h){return E!=null&&(be(E,0,Ae),E=E+this.e+1),A(this,E,h)},o.toFormat=function(E,h,p){var x,d=this;if(p==null)E!=null&&h&&typeof h=="object"?(p=h,h=null):E&&typeof E=="object"?(p=E,E=h=null):p=O;else if(typeof p!="object")throw Error(Re+"Argument not an object: "+p);if(x=d.toFixed(E,h),d.c){var g,v=x.split("."),b=+p.groupSize,m=+p.secondaryGroupSize,C=p.groupSeparator||"",_=v[0],R=v[1],z=d.s<0,j=z?_.slice(1):_,U=j.length;if(m&&(g=b,b=m,m=g,U-=g),b>0&&U>0){for(g=U%b||b,_=j.substr(0,g);g<U;g+=b)_+=C+j.substr(g,b);m>0&&(_+=C+j.slice(g)),z&&(_="-"+_)}x=R?_+(p.decimalSeparator||"")+((m=+p.fractionGroupSize)?R.replace(new RegExp("\\d{"+m+"}\\B","g"),"$&"+(p.fractionGroupSeparator||"")):R):_}return(p.prefix||"")+x+(p.suffix||"")},o.toFraction=function(E){var h,p,x,d,g,v,b,m,C,_,R,z,j=this,U=j.c;if(E!=null&&(b=new N(E),!b.isInteger()&&(b.c||b.s!==1)||b.lt(a)))throw Error(Re+"Argument "+(b.isInteger()?"out of range: ":"not an integer: ")+$(b));if(!U)return new N(j);for(h=new N(a),C=p=new N(a),x=m=new N(a),z=Ue(U),g=h.e=z.length-j.e-1,h.c[0]=Ar[(v=g%xe)<0?xe+v:v],E=!E||b.comparedTo(h)>0?g>0?h:C:b,v=k,k=1/0,b=new N(z),m.c[0]=0;_=t(b,h,0,1),d=p.plus(_.times(x)),d.comparedTo(E)!=1;)p=x,x=d,C=m.plus(_.times(d=C)),m=d,h=b.minus(_.times(d=h)),b=d;return d=t(E.minus(p),x,0,1),m=m.plus(d.times(C)),p=p.plus(d.times(x)),m.s=C.s=j.s,g=g*2,R=t(C,x,g,f).minus(j).abs().comparedTo(t(m,p,g,f).minus(j).abs())<1?[C,x]:[m,p],k=v,R},o.toNumber=function(){return+$(this)},o.toPrecision=function(E,h){return E!=null&&be(E,1,Ae),A(this,E,h,2)},o.toString=function(E){var h,p=this,x=p.s,d=p.e;return d===null?x?(h="Infinity",x<0&&(h="-"+h)):h="NaN":(E==null?h=d<=B||d>=l?Jt(Ue(p.c),d):ft(Ue(p.c),d,"0"):E===10?(p=G(new N(p),u+d+1,f),h=ft(Ue(p.c),p.e,"0")):(be(E,2,P.length,"Base"),h=r(ft(Ue(p.c),d,"0"),10,E,x,!0)),x<0&&p.c[0]&&(h="-"+h)),h},o.valueOf=o.toJSON=function(){return $(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,n!=null&&N.set(n),N}function Le(n){var t=n|0;return n>0||n===t?t:t-1}function Ue(n){for(var t,r,e=1,o=n.length,a=n[0]+"";e<o;){for(t=n[e++]+"",r=xe-t.length;r--;t="0"+t);a+=t}for(o=a.length;a.charCodeAt(--o)===48;);return a.slice(0,o+1||1)}function kt(n,t){var r,e,o=n.c,a=t.c,u=n.s,f=t.s,B=n.e,l=t.e;if(!u||!f)return null;if(r=o&&!o[0],e=a&&!a[0],r||e)return r?e?0:-f:u;if(u!=f)return u;if(r=u<0,e=B==l,!o||!a)return e?0:!o^r?1:-1;if(!e)return B>l^r?1:-1;for(f=(B=o.length)<(l=a.length)?B:l,u=0;u<f;u++)if(o[u]!=a[u])return o[u]>a[u]^r?1:-1;return B==l?0:B>l^r?1:-1}function be(n,t,r,e){if(n<t||n>r||n!==et(n))throw Error(Re+(e||"Argument")+(typeof n=="number"?n<t||n>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function Yt(n){var t=n.c.length-1;return Le(n.e/xe)==t&&n.c[t]%2!=0}function Jt(n,t){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(t<0?"e":"e+")+t}function ft(n,t,r){var e,o;if(t<0){for(o=r+".";++t;o+=r);n=o+n}else if(e=n.length,++t>e){for(o=r,t-=e;--t;o+=r);n+=o}else t<e&&(n=n.slice(0,t)+"."+n.slice(t));return n}var _t=Ii(),zt=function(){function n(){this.w=new Array,this.d32=new _t(4294967296)}return n.prototype.writeByte=function(t){this.w.push(t)},n.prototype.writeBytes=function(t){var r;(r=this.w).push.apply(r,t)},n.prototype.writeInt64=function(t){var r=t.div(this.d32).toNumber(),e=t.mod(this.d32).toNumber();this.w.push(r>>24&255),this.w.push(r>>16&255),this.w.push(r>>8&255),this.w.push(r&255),this.w.push(e>>24&255),this.w.push(e>>16&255),this.w.push(e>>8&255),this.w.push(e&255)},n.prototype.writeInt32=function(t){this.w.push(t>>24),this.w.push(t>>16),this.w.push(t>>8),this.w.push(t&255)},n.prototype.writeUint8=function(t){this.w.push(t)},n.prototype.writeInt16=function(t){this.w.push(t>>8),this.w.push(t&255)},n.prototype.writeString=function(t){var r;if(t&&t.length>0){var e=this.stringToUint(t);this.writeInt16(e.length),(r=this.w).push.apply(r,e)}else this.writeInt16(0)},n.prototype.stringToUint=function(t){for(var r=unescape(encodeURIComponent(t)),e=r.split(""),o=new Array,a=0;a<e.length;a++)o.push(e[a].charCodeAt(0));return o},n.prototype.toUint8Array=function(){return new Uint8Array(this.w)},n}(),As=function(){function n(t){this.offset=0,this.data=t}return n.prototype.readByte=function(){var t=this.data[this.offset];return this.offset++,t},n.prototype.readNum=function(t){var r=this.data.slice(this.offset,this.offset+t);this.offset+=t;for(var e=new _t(0),o=0;o<r.length;o++){var a=new _t(2).pow(new _t((r.length-o-1)*8));e=e.plus(new _t(r[o]).multipliedBy(a))}return e},n.prototype.readInt64=function(){return this.readNum(8)},n.prototype.readInt16=function(){return Number(this.readNum(2))},n.prototype.readInt32=function(){return Number(this.readNum(4))},n.prototype.readString=function(){var t=this.readInt16();if(t<=0)return"";var r=this.data.slice(this.offset,this.offset+t);return this.offset+=t,this.uintToString(Array.from(r))},n.prototype.readRemaining=function(){var t=this.data.slice(this.offset);return this.offset=this.data.length,t},n.prototype.uintToString=function(t){var r=String.fromCharCode.apply(null,t),e=decodeURIComponent(escape(r));return e},n.prototype.readVariableLength=function(){for(var t=0,r=0;t<27;){var e=this.readByte();if(r=r|(e&127)<<t,!(e&128))break;t+=7}return r},n}(),de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Is(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var r=function e(){if(this instanceof e){var o=[null];o.push.apply(o,arguments);var a=Function.bind.apply(t,o);return new a}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(e){var o=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(r,e,o.get?o:{enumerable:!0,get:function(){return n[e]}})}),r}var Fi={exports:{}};function Fs(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _r={exports:{}};const ks={},Ts=Object.freeze(Object.defineProperty({__proto__:null,default:ks},Symbol.toStringTag,{value:"Module"})),Rs=Is(Ts);var n0;function we(){return n0||(n0=1,function(n,t){(function(r,e){n.exports=e()})(de,function(){var r=r||function(e,o){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof de<"u"&&de.crypto&&(a=de.crypto),!a&&typeof Fs=="function")try{a=Rs}catch{}var u=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},f=Object.create||function(){function A(){}return function(M){var H;return A.prototype=M,H=new A,A.prototype=null,H}}(),B={},l=B.lib={},w=l.Base=function(){return{extend:function(A){var M=f(this);return A&&M.mixIn(A),(!M.hasOwnProperty("init")||this.init===M.init)&&(M.init=function(){M.$super.init.apply(this,arguments)}),M.init.prototype=M,M.$super=this,M},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var M in A)A.hasOwnProperty(M)&&(this[M]=A[M]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),k=l.WordArray=w.extend({init:function(A,M){A=this.words=A||[],M!=o?this.sigBytes=M:this.sigBytes=A.length*4},toString:function(A){return(A||T).stringify(this)},concat:function(A){var M=this.words,H=A.words,G=this.sigBytes,$=A.sigBytes;if(this.clamp(),G%4)for(var E=0;E<$;E++){var h=H[E>>>2]>>>24-E%4*8&255;M[G+E>>>2]|=h<<24-(G+E)%4*8}else for(var p=0;p<$;p+=4)M[G+p>>>2]=H[p>>>2];return this.sigBytes+=$,this},clamp:function(){var A=this.words,M=this.sigBytes;A[M>>>2]&=4294967295<<32-M%4*8,A.length=e.ceil(M/4)},clone:function(){var A=w.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var M=[],H=0;H<A;H+=4)M.push(u());return new k.init(M,A)}}),I=B.enc={},T=I.Hex={stringify:function(A){for(var M=A.words,H=A.sigBytes,G=[],$=0;$<H;$++){var E=M[$>>>2]>>>24-$%4*8&255;G.push((E>>>4).toString(16)),G.push((E&15).toString(16))}return G.join("")},parse:function(A){for(var M=A.length,H=[],G=0;G<M;G+=2)H[G>>>3]|=parseInt(A.substr(G,2),16)<<24-G%8*4;return new k.init(H,M/2)}},F=I.Latin1={stringify:function(A){for(var M=A.words,H=A.sigBytes,G=[],$=0;$<H;$++){var E=M[$>>>2]>>>24-$%4*8&255;G.push(String.fromCharCode(E))}return G.join("")},parse:function(A){for(var M=A.length,H=[],G=0;G<M;G++)H[G>>>2]|=(A.charCodeAt(G)&255)<<24-G%4*8;return new k.init(H,M)}},O=I.Utf8={stringify:function(A){try{return decodeURIComponent(escape(F.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(A){return F.parse(unescape(encodeURIComponent(A)))}},P=l.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new k.init,this._nDataBytes=0},_append:function(A){typeof A=="string"&&(A=O.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var M,H=this._data,G=H.words,$=H.sigBytes,E=this.blockSize,h=E*4,p=$/h;A?p=e.ceil(p):p=e.max((p|0)-this._minBufferSize,0);var x=p*E,d=e.min(x*4,$);if(x){for(var g=0;g<x;g+=E)this._doProcessBlock(G,g);M=G.splice(0,x),H.sigBytes-=d}return new k.init(M,d)},clone:function(){var A=w.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0});l.Hasher=P.extend({cfg:w.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){P.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){A&&this._append(A);var M=this._doFinalize();return M},blockSize:16,_createHelper:function(A){return function(M,H){return new A.init(H).finalize(M)}},_createHmacHelper:function(A){return function(M,H){return new N.HMAC.init(A,H).finalize(M)}}});var N=B.algo={};return B}(Math);return r})}(_r)),_r.exports}var Ir={exports:{}},i0;function pr(){return i0||(i0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(e){var o=r,a=o.lib,u=a.Base,f=a.WordArray,B=o.x64={};B.Word=u.extend({init:function(l,w){this.high=l,this.low=w}}),B.WordArray=u.extend({init:function(l,w){l=this.words=l||[],w!=e?this.sigBytes=w:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,w=l.length,k=[],I=0;I<w;I++){var T=l[I];k.push(T.high),k.push(T.low)}return f.create(k,this.sigBytes)},clone:function(){for(var l=u.clone.call(this),w=l.words=this.words.slice(0),k=w.length,I=0;I<k;I++)w[I]=w[I].clone();return l}})}(),r})}(Ir)),Ir.exports}var Fr={exports:{}},o0;function Ds(){return o0||(o0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(){if(typeof ArrayBuffer=="function"){var e=r,o=e.lib,a=o.WordArray,u=a.init,f=a.init=function(B){if(B instanceof ArrayBuffer&&(B=new Uint8Array(B)),(B instanceof Int8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)&&(B=new Uint8Array(B.buffer,B.byteOffset,B.byteLength)),B instanceof Uint8Array){for(var l=B.byteLength,w=[],k=0;k<l;k++)w[k>>>2]|=B[k]<<24-k%4*8;u.call(this,w,l)}else u.apply(this,arguments)};f.prototype=a}}(),r.lib.WordArray})}(Fr)),Fr.exports}var kr={exports:{}},s0;function Ns(){return s0||(s0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(){var e=r,o=e.lib,a=o.WordArray,u=e.enc;u.Utf16=u.Utf16BE={stringify:function(B){for(var l=B.words,w=B.sigBytes,k=[],I=0;I<w;I+=2){var T=l[I>>>2]>>>16-I%4*8&65535;k.push(String.fromCharCode(T))}return k.join("")},parse:function(B){for(var l=B.length,w=[],k=0;k<l;k++)w[k>>>1]|=B.charCodeAt(k)<<16-k%2*16;return a.create(w,l*2)}},u.Utf16LE={stringify:function(B){for(var l=B.words,w=B.sigBytes,k=[],I=0;I<w;I+=2){var T=f(l[I>>>2]>>>16-I%4*8&65535);k.push(String.fromCharCode(T))}return k.join("")},parse:function(B){for(var l=B.length,w=[],k=0;k<l;k++)w[k>>>1]|=f(B.charCodeAt(k)<<16-k%2*16);return a.create(w,l*2)}};function f(B){return B<<8&4278255360|B>>>8&16711935}}(),r.enc.Utf16})}(kr)),kr.exports}var Tr={exports:{}},a0;function Pt(){return a0||(a0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(){var e=r,o=e.lib,a=o.WordArray,u=e.enc;u.Base64={stringify:function(B){var l=B.words,w=B.sigBytes,k=this._map;B.clamp();for(var I=[],T=0;T<w;T+=3)for(var F=l[T>>>2]>>>24-T%4*8&255,O=l[T+1>>>2]>>>24-(T+1)%4*8&255,P=l[T+2>>>2]>>>24-(T+2)%4*8&255,N=F<<16|O<<8|P,A=0;A<4&&T+A*.75<w;A++)I.push(k.charAt(N>>>6*(3-A)&63));var M=k.charAt(64);if(M)for(;I.length%4;)I.push(M);return I.join("")},parse:function(B){var l=B.length,w=this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var I=0;I<w.length;I++)k[w.charCodeAt(I)]=I}var T=w.charAt(64);if(T){var F=B.indexOf(T);F!==-1&&(l=F)}return f(B,l,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function f(B,l,w){for(var k=[],I=0,T=0;T<l;T++)if(T%4){var F=w[B.charCodeAt(T-1)]<<T%4*2,O=w[B.charCodeAt(T)]>>>6-T%4*2,P=F|O;k[I>>>2]|=P<<24-I%4*8,I++}return a.create(k,I)}}(),r.enc.Base64})}(Tr)),Tr.exports}var Rr={exports:{}},f0;function Os(){return f0||(f0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(){var e=r,o=e.lib,a=o.WordArray,u=e.enc;u.Base64url={stringify:function(B,l=!0){var w=B.words,k=B.sigBytes,I=l?this._safe_map:this._map;B.clamp();for(var T=[],F=0;F<k;F+=3)for(var O=w[F>>>2]>>>24-F%4*8&255,P=w[F+1>>>2]>>>24-(F+1)%4*8&255,N=w[F+2>>>2]>>>24-(F+2)%4*8&255,A=O<<16|P<<8|N,M=0;M<4&&F+M*.75<k;M++)T.push(I.charAt(A>>>6*(3-M)&63));var H=I.charAt(64);if(H)for(;T.length%4;)T.push(H);return T.join("")},parse:function(B,l=!0){var w=B.length,k=l?this._safe_map:this._map,I=this._reverseMap;if(!I){I=this._reverseMap=[];for(var T=0;T<k.length;T++)I[k.charCodeAt(T)]=T}var F=k.charAt(64);if(F){var O=B.indexOf(F);O!==-1&&(w=O)}return f(B,w,I)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function f(B,l,w){for(var k=[],I=0,T=0;T<l;T++)if(T%4){var F=w[B.charCodeAt(T-1)]<<T%4*2,O=w[B.charCodeAt(T)]>>>6-T%4*2,P=F|O;k[I>>>2]|=P<<24-I%4*8,I++}return a.create(k,I)}}(),r.enc.Base64url})}(Rr)),Rr.exports}var Dr={exports:{}},c0;function Ht(){return c0||(c0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(e){var o=r,a=o.lib,u=a.WordArray,f=a.Hasher,B=o.algo,l=[];(function(){for(var O=0;O<64;O++)l[O]=e.abs(e.sin(O+1))*4294967296|0})();var w=B.MD5=f.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(O,P){for(var N=0;N<16;N++){var A=P+N,M=O[A];O[A]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var H=this._hash.words,G=O[P+0],$=O[P+1],E=O[P+2],h=O[P+3],p=O[P+4],x=O[P+5],d=O[P+6],g=O[P+7],v=O[P+8],b=O[P+9],m=O[P+10],C=O[P+11],_=O[P+12],R=O[P+13],z=O[P+14],j=O[P+15],U=H[0],q=H[1],K=H[2],W=H[3];U=k(U,q,K,W,G,7,l[0]),W=k(W,U,q,K,$,12,l[1]),K=k(K,W,U,q,E,17,l[2]),q=k(q,K,W,U,h,22,l[3]),U=k(U,q,K,W,p,7,l[4]),W=k(W,U,q,K,x,12,l[5]),K=k(K,W,U,q,d,17,l[6]),q=k(q,K,W,U,g,22,l[7]),U=k(U,q,K,W,v,7,l[8]),W=k(W,U,q,K,b,12,l[9]),K=k(K,W,U,q,m,17,l[10]),q=k(q,K,W,U,C,22,l[11]),U=k(U,q,K,W,_,7,l[12]),W=k(W,U,q,K,R,12,l[13]),K=k(K,W,U,q,z,17,l[14]),q=k(q,K,W,U,j,22,l[15]),U=I(U,q,K,W,$,5,l[16]),W=I(W,U,q,K,d,9,l[17]),K=I(K,W,U,q,C,14,l[18]),q=I(q,K,W,U,G,20,l[19]),U=I(U,q,K,W,x,5,l[20]),W=I(W,U,q,K,m,9,l[21]),K=I(K,W,U,q,j,14,l[22]),q=I(q,K,W,U,p,20,l[23]),U=I(U,q,K,W,b,5,l[24]),W=I(W,U,q,K,z,9,l[25]),K=I(K,W,U,q,h,14,l[26]),q=I(q,K,W,U,v,20,l[27]),U=I(U,q,K,W,R,5,l[28]),W=I(W,U,q,K,E,9,l[29]),K=I(K,W,U,q,g,14,l[30]),q=I(q,K,W,U,_,20,l[31]),U=T(U,q,K,W,x,4,l[32]),W=T(W,U,q,K,v,11,l[33]),K=T(K,W,U,q,C,16,l[34]),q=T(q,K,W,U,z,23,l[35]),U=T(U,q,K,W,$,4,l[36]),W=T(W,U,q,K,p,11,l[37]),K=T(K,W,U,q,g,16,l[38]),q=T(q,K,W,U,m,23,l[39]),U=T(U,q,K,W,R,4,l[40]),W=T(W,U,q,K,G,11,l[41]),K=T(K,W,U,q,h,16,l[42]),q=T(q,K,W,U,d,23,l[43]),U=T(U,q,K,W,b,4,l[44]),W=T(W,U,q,K,_,11,l[45]),K=T(K,W,U,q,j,16,l[46]),q=T(q,K,W,U,E,23,l[47]),U=F(U,q,K,W,G,6,l[48]),W=F(W,U,q,K,g,10,l[49]),K=F(K,W,U,q,z,15,l[50]),q=F(q,K,W,U,x,21,l[51]),U=F(U,q,K,W,_,6,l[52]),W=F(W,U,q,K,h,10,l[53]),K=F(K,W,U,q,m,15,l[54]),q=F(q,K,W,U,$,21,l[55]),U=F(U,q,K,W,v,6,l[56]),W=F(W,U,q,K,j,10,l[57]),K=F(K,W,U,q,d,15,l[58]),q=F(q,K,W,U,R,21,l[59]),U=F(U,q,K,W,p,6,l[60]),W=F(W,U,q,K,C,10,l[61]),K=F(K,W,U,q,E,15,l[62]),q=F(q,K,W,U,b,21,l[63]),H[0]=H[0]+U|0,H[1]=H[1]+q|0,H[2]=H[2]+K|0,H[3]=H[3]+W|0},_doFinalize:function(){var O=this._data,P=O.words,N=this._nDataBytes*8,A=O.sigBytes*8;P[A>>>5]|=128<<24-A%32;var M=e.floor(N/4294967296),H=N;P[(A+64>>>9<<4)+15]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,P[(A+64>>>9<<4)+14]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,O.sigBytes=(P.length+1)*4,this._process();for(var G=this._hash,$=G.words,E=0;E<4;E++){var h=$[E];$[E]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360}return G},clone:function(){var O=f.clone.call(this);return O._hash=this._hash.clone(),O}});function k(O,P,N,A,M,H,G){var $=O+(P&N|~P&A)+M+G;return($<<H|$>>>32-H)+P}function I(O,P,N,A,M,H,G){var $=O+(P&A|N&~A)+M+G;return($<<H|$>>>32-H)+P}function T(O,P,N,A,M,H,G){var $=O+(P^N^A)+M+G;return($<<H|$>>>32-H)+P}function F(O,P,N,A,M,H,G){var $=O+(N^(P|~A))+M+G;return($<<H|$>>>32-H)+P}o.MD5=f._createHelper(w),o.HmacMD5=f._createHmacHelper(w)}(Math),r.MD5})}(Dr)),Dr.exports}var Nr={exports:{}},u0;function Rn(){return u0||(u0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(){var e=r,o=e.lib,a=o.WordArray,u=o.Hasher,f=e.algo,B=[],l=f.SHA1=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,k){for(var I=this._hash.words,T=I[0],F=I[1],O=I[2],P=I[3],N=I[4],A=0;A<80;A++){if(A<16)B[A]=w[k+A]|0;else{var M=B[A-3]^B[A-8]^B[A-14]^B[A-16];B[A]=M<<1|M>>>31}var H=(T<<5|T>>>27)+N+B[A];A<20?H+=(F&O|~F&P)+1518500249:A<40?H+=(F^O^P)+1859775393:A<60?H+=(F&O|F&P|O&P)-1894007588:H+=(F^O^P)-899497514,N=P,P=O,O=F<<30|F>>>2,F=T,T=H}I[0]=I[0]+T|0,I[1]=I[1]+F|0,I[2]=I[2]+O|0,I[3]=I[3]+P|0,I[4]=I[4]+N|0},_doFinalize:function(){var w=this._data,k=w.words,I=this._nDataBytes*8,T=w.sigBytes*8;return k[T>>>5]|=128<<24-T%32,k[(T+64>>>9<<4)+14]=Math.floor(I/4294967296),k[(T+64>>>9<<4)+15]=I,w.sigBytes=k.length*4,this._process(),this._hash},clone:function(){var w=u.clone.call(this);return w._hash=this._hash.clone(),w}});e.SHA1=u._createHelper(l),e.HmacSHA1=u._createHmacHelper(l)}(),r.SHA1})}(Nr)),Nr.exports}var Or={exports:{}},h0;function ki(){return h0||(h0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){return function(e){var o=r,a=o.lib,u=a.WordArray,f=a.Hasher,B=o.algo,l=[],w=[];(function(){function T(N){for(var A=e.sqrt(N),M=2;M<=A;M++)if(!(N%M))return!1;return!0}function F(N){return(N-(N|0))*4294967296|0}for(var O=2,P=0;P<64;)T(O)&&(P<8&&(l[P]=F(e.pow(O,1/2))),w[P]=F(e.pow(O,1/3)),P++),O++})();var k=[],I=B.SHA256=f.extend({_doReset:function(){this._hash=new u.init(l.slice(0))},_doProcessBlock:function(T,F){for(var O=this._hash.words,P=O[0],N=O[1],A=O[2],M=O[3],H=O[4],G=O[5],$=O[6],E=O[7],h=0;h<64;h++){if(h<16)k[h]=T[F+h]|0;else{var p=k[h-15],x=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,d=k[h-2],g=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;k[h]=x+k[h-7]+g+k[h-16]}var v=H&G^~H&$,b=P&N^P&A^N&A,m=(P<<30|P>>>2)^(P<<19|P>>>13)^(P<<10|P>>>22),C=(H<<26|H>>>6)^(H<<21|H>>>11)^(H<<7|H>>>25),_=E+C+v+w[h]+k[h],R=m+b;E=$,$=G,G=H,H=M+_|0,M=A,A=N,N=P,P=_+R|0}O[0]=O[0]+P|0,O[1]=O[1]+N|0,O[2]=O[2]+A|0,O[3]=O[3]+M|0,O[4]=O[4]+H|0,O[5]=O[5]+G|0,O[6]=O[6]+$|0,O[7]=O[7]+E|0},_doFinalize:function(){var T=this._data,F=T.words,O=this._nDataBytes*8,P=T.sigBytes*8;return F[P>>>5]|=128<<24-P%32,F[(P+64>>>9<<4)+14]=e.floor(O/4294967296),F[(P+64>>>9<<4)+15]=O,T.sigBytes=F.length*4,this._process(),this._hash},clone:function(){var T=f.clone.call(this);return T._hash=this._hash.clone(),T}});o.SHA256=f._createHelper(I),o.HmacSHA256=f._createHmacHelper(I)}(Math),r.SHA256})}(Or)),Or.exports}var Ur={exports:{}},l0;function Us(){return l0||(l0=1,function(n,t){(function(r,e,o){n.exports=e(we(),ki())})(de,function(r){return function(){var e=r,o=e.lib,a=o.WordArray,u=e.algo,f=u.SHA256,B=u.SHA224=f.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=f._doFinalize.call(this);return l.sigBytes-=4,l}});e.SHA224=f._createHelper(B),e.HmacSHA224=f._createHmacHelper(B)}(),r.SHA224})}(Ur)),Ur.exports}var Mr={exports:{}},x0;function Ti(){return x0||(x0=1,function(n,t){(function(r,e,o){n.exports=e(we(),pr())})(de,function(r){return function(){var e=r,o=e.lib,a=o.Hasher,u=e.x64,f=u.Word,B=u.WordArray,l=e.algo;function w(){return f.create.apply(f,arguments)}var k=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],I=[];(function(){for(var F=0;F<80;F++)I[F]=w()})();var T=l.SHA512=a.extend({_doReset:function(){this._hash=new B.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(F,O){for(var P=this._hash.words,N=P[0],A=P[1],M=P[2],H=P[3],G=P[4],$=P[5],E=P[6],h=P[7],p=N.high,x=N.low,d=A.high,g=A.low,v=M.high,b=M.low,m=H.high,C=H.low,_=G.high,R=G.low,z=$.high,j=$.low,U=E.high,q=E.low,K=h.high,W=h.low,V=p,Y=x,te=d,J=g,le=v,se=b,ue=m,ae=C,ee=_,Q=R,fe=z,st=j,Oe=U,at=q,St=K,We=W,Be=0;Be<80;Be++){var ve,Fe,pt=I[Be];if(Be<16)Fe=pt.high=F[O+Be*2]|0,ve=pt.low=F[O+Be*2+1]|0;else{var Se=I[Be-15],Ze=Se.high,c=Se.low,i=(Ze>>>1|c<<31)^(Ze>>>8|c<<24)^Ze>>>7,s=(c>>>1|Ze<<31)^(c>>>8|Ze<<24)^(c>>>7|Ze<<25),y=I[Be-2],S=y.high,D=y.low,L=(S>>>19|D<<13)^(S<<3|D>>>29)^S>>>6,Z=(D>>>19|S<<13)^(D<<3|S>>>29)^(D>>>6|S<<26),ce=I[Be-7],ie=ce.high,he=ce.low,ne=I[Be-16],Ji=ne.high,Hn=ne.low;ve=s+he,Fe=i+ie+(ve>>>0<s>>>0?1:0),ve=ve+Z,Fe=Fe+L+(ve>>>0<Z>>>0?1:0),ve=ve+Hn,Fe=Fe+Ji+(ve>>>0<Hn>>>0?1:0),pt.high=Fe,pt.low=ve}var Qi=ee&fe^~ee&Oe,qn=Q&st^~Q&at,Zi=V&te^V&le^te&le,eo=Y&J^Y&se^J&se,to=(V>>>28|Y<<4)^(V<<30|Y>>>2)^(V<<25|Y>>>7),zn=(Y>>>28|V<<4)^(Y<<30|V>>>2)^(Y<<25|V>>>7),ro=(ee>>>14|Q<<18)^(ee>>>18|Q<<14)^(ee<<23|Q>>>9),no=(Q>>>14|ee<<18)^(Q>>>18|ee<<14)^(Q<<23|ee>>>9),$n=k[Be],io=$n.high,Wn=$n.low,Ne=We+no,dt=St+ro+(Ne>>>0<We>>>0?1:0),Ne=Ne+qn,dt=dt+Qi+(Ne>>>0<qn>>>0?1:0),Ne=Ne+Wn,dt=dt+io+(Ne>>>0<Wn>>>0?1:0),Ne=Ne+ve,dt=dt+Fe+(Ne>>>0<ve>>>0?1:0),Gn=zn+eo,oo=to+Zi+(Gn>>>0<zn>>>0?1:0);St=Oe,We=at,Oe=fe,at=st,fe=ee,st=Q,Q=ae+Ne|0,ee=ue+dt+(Q>>>0<ae>>>0?1:0)|0,ue=le,ae=se,le=te,se=J,te=V,J=Y,Y=Ne+Gn|0,V=dt+oo+(Y>>>0<Ne>>>0?1:0)|0}x=N.low=x+Y,N.high=p+V+(x>>>0<Y>>>0?1:0),g=A.low=g+J,A.high=d+te+(g>>>0<J>>>0?1:0),b=M.low=b+se,M.high=v+le+(b>>>0<se>>>0?1:0),C=H.low=C+ae,H.high=m+ue+(C>>>0<ae>>>0?1:0),R=G.low=R+Q,G.high=_+ee+(R>>>0<Q>>>0?1:0),j=$.low=j+st,$.high=z+fe+(j>>>0<st>>>0?1:0),q=E.low=q+at,E.high=U+Oe+(q>>>0<at>>>0?1:0),W=h.low=W+We,h.high=K+St+(W>>>0<We>>>0?1:0)},_doFinalize:function(){var F=this._data,O=F.words,P=this._nDataBytes*8,N=F.sigBytes*8;O[N>>>5]|=128<<24-N%32,O[(N+128>>>10<<5)+30]=Math.floor(P/4294967296),O[(N+128>>>10<<5)+31]=P,F.sigBytes=O.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var F=a.clone.call(this);return F._hash=this._hash.clone(),F},blockSize:1024/32});e.SHA512=a._createHelper(T),e.HmacSHA512=a._createHmacHelper(T)}(),r.SHA512})}(Mr)),Mr.exports}var Lr={exports:{}},p0;function Ms(){return p0||(p0=1,function(n,t){(function(r,e,o){n.exports=e(we(),pr(),Ti())})(de,function(r){return function(){var e=r,o=e.x64,a=o.Word,u=o.WordArray,f=e.algo,B=f.SHA512,l=f.SHA384=B.extend({_doReset:function(){this._hash=new u.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var w=B._doFinalize.call(this);return w.sigBytes-=16,w}});e.SHA384=B._createHelper(l),e.HmacSHA384=B._createHmacHelper(l)}(),r.SHA384})}(Lr)),Lr.exports}var Pr={exports:{}},d0;function Ls(){return d0||(d0=1,function(n,t){(function(r,e,o){n.exports=e(we(),pr())})(de,function(r){return function(e){var o=r,a=o.lib,u=a.WordArray,f=a.Hasher,B=o.x64,l=B.Word,w=o.algo,k=[],I=[],T=[];(function(){for(var P=1,N=0,A=0;A<24;A++){k[P+5*N]=(A+1)*(A+2)/2%64;var M=N%5,H=(2*P+3*N)%5;P=M,N=H}for(var P=0;P<5;P++)for(var N=0;N<5;N++)I[P+5*N]=N+(2*P+3*N)%5*5;for(var G=1,$=0;$<24;$++){for(var E=0,h=0,p=0;p<7;p++){if(G&1){var x=(1<<p)-1;x<32?h^=1<<x:E^=1<<x-32}G&128?G=G<<1^113:G<<=1}T[$]=l.create(E,h)}})();var F=[];(function(){for(var P=0;P<25;P++)F[P]=l.create()})();var O=w.SHA3=f.extend({cfg:f.cfg.extend({outputLength:512}),_doReset:function(){for(var P=this._state=[],N=0;N<25;N++)P[N]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(P,N){for(var A=this._state,M=this.blockSize/2,H=0;H<M;H++){var G=P[N+2*H],$=P[N+2*H+1];G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360,$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360;var E=A[H];E.high^=$,E.low^=G}for(var h=0;h<24;h++){for(var p=0;p<5;p++){for(var x=0,d=0,g=0;g<5;g++){var E=A[p+5*g];x^=E.high,d^=E.low}var v=F[p];v.high=x,v.low=d}for(var p=0;p<5;p++)for(var b=F[(p+4)%5],m=F[(p+1)%5],C=m.high,_=m.low,x=b.high^(C<<1|_>>>31),d=b.low^(_<<1|C>>>31),g=0;g<5;g++){var E=A[p+5*g];E.high^=x,E.low^=d}for(var R=1;R<25;R++){var x,d,E=A[R],z=E.high,j=E.low,U=k[R];U<32?(x=z<<U|j>>>32-U,d=j<<U|z>>>32-U):(x=j<<U-32|z>>>64-U,d=z<<U-32|j>>>64-U);var q=F[I[R]];q.high=x,q.low=d}var K=F[0],W=A[0];K.high=W.high,K.low=W.low;for(var p=0;p<5;p++)for(var g=0;g<5;g++){var R=p+5*g,E=A[R],V=F[R],Y=F[(p+1)%5+5*g],te=F[(p+2)%5+5*g];E.high=V.high^~Y.high&te.high,E.low=V.low^~Y.low&te.low}var E=A[0],J=T[h];E.high^=J.high,E.low^=J.low}},_doFinalize:function(){var P=this._data,N=P.words;this._nDataBytes*8;var A=P.sigBytes*8,M=this.blockSize*32;N[A>>>5]|=1<<24-A%32,N[(e.ceil((A+1)/M)*M>>>5)-1]|=128,P.sigBytes=N.length*4,this._process();for(var H=this._state,G=this.cfg.outputLength/8,$=G/8,E=[],h=0;h<$;h++){var p=H[h],x=p.high,d=p.low;x=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,d=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,E.push(d),E.push(x)}return new u.init(E,G)},clone:function(){for(var P=f.clone.call(this),N=P._state=this._state.slice(0),A=0;A<25;A++)N[A]=N[A].clone();return P}});o.SHA3=f._createHelper(O),o.HmacSHA3=f._createHmacHelper(O)}(Math),r.SHA3})}(Pr)),Pr.exports}var Hr={exports:{}},y0;function Ps(){return y0||(y0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(e){var o=r,a=o.lib,u=a.WordArray,f=a.Hasher,B=o.algo,l=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),k=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),I=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=u.create([0,1518500249,1859775393,2400959708,2840853838]),F=u.create([1352829926,1548603684,1836072691,2053994217,0]),O=B.RIPEMD160=f.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function($,E){for(var h=0;h<16;h++){var p=E+h,x=$[p];$[p]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var d=this._hash.words,g=T.words,v=F.words,b=l.words,m=w.words,C=k.words,_=I.words,R,z,j,U,q,K,W,V,Y,te;K=R=d[0],W=z=d[1],V=j=d[2],Y=U=d[3],te=q=d[4];for(var J,h=0;h<80;h+=1)J=R+$[E+b[h]]|0,h<16?J+=P(z,j,U)+g[0]:h<32?J+=N(z,j,U)+g[1]:h<48?J+=A(z,j,U)+g[2]:h<64?J+=M(z,j,U)+g[3]:J+=H(z,j,U)+g[4],J=J|0,J=G(J,C[h]),J=J+q|0,R=q,q=U,U=G(j,10),j=z,z=J,J=K+$[E+m[h]]|0,h<16?J+=H(W,V,Y)+v[0]:h<32?J+=M(W,V,Y)+v[1]:h<48?J+=A(W,V,Y)+v[2]:h<64?J+=N(W,V,Y)+v[3]:J+=P(W,V,Y)+v[4],J=J|0,J=G(J,_[h]),J=J+te|0,K=te,te=Y,Y=G(V,10),V=W,W=J;J=d[1]+j+Y|0,d[1]=d[2]+U+te|0,d[2]=d[3]+q+K|0,d[3]=d[4]+R+W|0,d[4]=d[0]+z+V|0,d[0]=J},_doFinalize:function(){var $=this._data,E=$.words,h=this._nDataBytes*8,p=$.sigBytes*8;E[p>>>5]|=128<<24-p%32,E[(p+64>>>9<<4)+14]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,$.sigBytes=(E.length+1)*4,this._process();for(var x=this._hash,d=x.words,g=0;g<5;g++){var v=d[g];d[g]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}return x},clone:function(){var $=f.clone.call(this);return $._hash=this._hash.clone(),$}});function P($,E,h){return $^E^h}function N($,E,h){return $&E|~$&h}function A($,E,h){return($|~E)^h}function M($,E,h){return $&h|E&~h}function H($,E,h){return $^(E|~h)}function G($,E){return $<<E|$>>>32-E}o.RIPEMD160=f._createHelper(O),o.HmacRIPEMD160=f._createHmacHelper(O)}(),r.RIPEMD160})}(Hr)),Hr.exports}var qr={exports:{}},g0;function Dn(){return g0||(g0=1,function(n,t){(function(r,e){n.exports=e(we())})(de,function(r){(function(){var e=r,o=e.lib,a=o.Base,u=e.enc,f=u.Utf8,B=e.algo;B.HMAC=a.extend({init:function(l,w){l=this._hasher=new l.init,typeof w=="string"&&(w=f.parse(w));var k=l.blockSize,I=k*4;w.sigBytes>I&&(w=l.finalize(w)),w.clamp();for(var T=this._oKey=w.clone(),F=this._iKey=w.clone(),O=T.words,P=F.words,N=0;N<k;N++)O[N]^=1549556828,P[N]^=909522486;T.sigBytes=F.sigBytes=I,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var w=this._hasher,k=w.finalize(l);w.reset();var I=w.finalize(this._oKey.clone().concat(k));return I}})})()})}(qr)),qr.exports}var zr={exports:{}},v0;function Hs(){return v0||(v0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Rn(),Dn())})(de,function(r){return function(){var e=r,o=e.lib,a=o.Base,u=o.WordArray,f=e.algo,B=f.SHA1,l=f.HMAC,w=f.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:B,iterations:1}),init:function(k){this.cfg=this.cfg.extend(k)},compute:function(k,I){for(var T=this.cfg,F=l.create(T.hasher,k),O=u.create(),P=u.create([1]),N=O.words,A=P.words,M=T.keySize,H=T.iterations;N.length<M;){var G=F.update(I).finalize(P);F.reset();for(var $=G.words,E=$.length,h=G,p=1;p<H;p++){h=F.finalize(h),F.reset();for(var x=h.words,d=0;d<E;d++)$[d]^=x[d]}O.concat(G),A[0]++}return O.sigBytes=M*4,O}});e.PBKDF2=function(k,I,T){return w.create(T).compute(k,I)}}(),r.PBKDF2})}(zr)),zr.exports}var $r={exports:{}},w0;function It(){return w0||(w0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Rn(),Dn())})(de,function(r){return function(){var e=r,o=e.lib,a=o.Base,u=o.WordArray,f=e.algo,B=f.MD5,l=f.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:B,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,k){for(var I,T=this.cfg,F=T.hasher.create(),O=u.create(),P=O.words,N=T.keySize,A=T.iterations;P.length<N;){I&&F.update(I),I=F.update(w).finalize(k),F.reset();for(var M=1;M<A;M++)I=F.finalize(I),F.reset();O.concat(I)}return O.sigBytes=N*4,O}});e.EvpKDF=function(w,k,I){return l.create(I).compute(w,k)}}(),r.EvpKDF})}($r)),$r.exports}var Wr={exports:{}},m0;function Ie(){return m0||(m0=1,function(n,t){(function(r,e,o){n.exports=e(we(),It())})(de,function(r){r.lib.Cipher||function(e){var o=r,a=o.lib,u=a.Base,f=a.WordArray,B=a.BufferedBlockAlgorithm,l=o.enc;l.Utf8;var w=l.Base64,k=o.algo,I=k.EvpKDF,T=a.Cipher=B.extend({cfg:u.extend(),createEncryptor:function(x,d){return this.create(this._ENC_XFORM_MODE,x,d)},createDecryptor:function(x,d){return this.create(this._DEC_XFORM_MODE,x,d)},init:function(x,d,g){this.cfg=this.cfg.extend(g),this._xformMode=x,this._key=d,this.reset()},reset:function(){B.reset.call(this),this._doReset()},process:function(x){return this._append(x),this._process()},finalize:function(x){x&&this._append(x);var d=this._doFinalize();return d},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function x(d){return typeof d=="string"?p:$}return function(d){return{encrypt:function(g,v,b){return x(v).encrypt(d,g,v,b)},decrypt:function(g,v,b){return x(v).decrypt(d,g,v,b)}}}}()});a.StreamCipher=T.extend({_doFinalize:function(){var x=this._process(!0);return x},blockSize:1});var F=o.mode={},O=a.BlockCipherMode=u.extend({createEncryptor:function(x,d){return this.Encryptor.create(x,d)},createDecryptor:function(x,d){return this.Decryptor.create(x,d)},init:function(x,d){this._cipher=x,this._iv=d}}),P=F.CBC=function(){var x=O.extend();x.Encryptor=x.extend({processBlock:function(g,v){var b=this._cipher,m=b.blockSize;d.call(this,g,v,m),b.encryptBlock(g,v),this._prevBlock=g.slice(v,v+m)}}),x.Decryptor=x.extend({processBlock:function(g,v){var b=this._cipher,m=b.blockSize,C=g.slice(v,v+m);b.decryptBlock(g,v),d.call(this,g,v,m),this._prevBlock=C}});function d(g,v,b){var m,C=this._iv;C?(m=C,this._iv=e):m=this._prevBlock;for(var _=0;_<b;_++)g[v+_]^=m[_]}return x}(),N=o.pad={},A=N.Pkcs7={pad:function(x,d){for(var g=d*4,v=g-x.sigBytes%g,b=v<<24|v<<16|v<<8|v,m=[],C=0;C<v;C+=4)m.push(b);var _=f.create(m,v);x.concat(_)},unpad:function(x){var d=x.words[x.sigBytes-1>>>2]&255;x.sigBytes-=d}};a.BlockCipher=T.extend({cfg:T.cfg.extend({mode:P,padding:A}),reset:function(){var x;T.reset.call(this);var d=this.cfg,g=d.iv,v=d.mode;this._xformMode==this._ENC_XFORM_MODE?x=v.createEncryptor:(x=v.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==x?this._mode.init(this,g&&g.words):(this._mode=x.call(v,this,g&&g.words),this._mode.__creator=x)},_doProcessBlock:function(x,d){this._mode.processBlock(x,d)},_doFinalize:function(){var x,d=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(d.pad(this._data,this.blockSize),x=this._process(!0)):(x=this._process(!0),d.unpad(x)),x},blockSize:128/32});var M=a.CipherParams=u.extend({init:function(x){this.mixIn(x)},toString:function(x){return(x||this.formatter).stringify(this)}}),H=o.format={},G=H.OpenSSL={stringify:function(x){var d,g=x.ciphertext,v=x.salt;return v?d=f.create([1398893684,1701076831]).concat(v).concat(g):d=g,d.toString(w)},parse:function(x){var d,g=w.parse(x),v=g.words;return v[0]==1398893684&&v[1]==1701076831&&(d=f.create(v.slice(2,4)),v.splice(0,4),g.sigBytes-=16),M.create({ciphertext:g,salt:d})}},$=a.SerializableCipher=u.extend({cfg:u.extend({format:G}),encrypt:function(x,d,g,v){v=this.cfg.extend(v);var b=x.createEncryptor(g,v),m=b.finalize(d),C=b.cfg;return M.create({ciphertext:m,key:g,iv:C.iv,algorithm:x,mode:C.mode,padding:C.padding,blockSize:x.blockSize,formatter:v.format})},decrypt:function(x,d,g,v){v=this.cfg.extend(v),d=this._parse(d,v.format);var b=x.createDecryptor(g,v).finalize(d.ciphertext);return b},_parse:function(x,d){return typeof x=="string"?d.parse(x,this):x}}),E=o.kdf={},h=E.OpenSSL={execute:function(x,d,g,v){v||(v=f.random(64/8));var b=I.create({keySize:d+g}).compute(x,v),m=f.create(b.words.slice(d),g*4);return b.sigBytes=d*4,M.create({key:b,iv:m,salt:v})}},p=a.PasswordBasedCipher=$.extend({cfg:$.cfg.extend({kdf:h}),encrypt:function(x,d,g,v){v=this.cfg.extend(v);var b=v.kdf.execute(g,x.keySize,x.ivSize);v.iv=b.iv;var m=$.encrypt.call(this,x,d,b.key,v);return m.mixIn(b),m},decrypt:function(x,d,g,v){v=this.cfg.extend(v),d=this._parse(d,v.format);var b=v.kdf.execute(g,x.keySize,x.ivSize,d.salt);v.iv=b.iv;var m=$.decrypt.call(this,x,d,b.key,v);return m}})}()})}(Wr)),Wr.exports}var Gr={exports:{}},b0;function qs(){return b0||(b0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(a,u){var f=this._cipher,B=f.blockSize;o.call(this,a,u,B,f),this._prevBlock=a.slice(u,u+B)}}),e.Decryptor=e.extend({processBlock:function(a,u){var f=this._cipher,B=f.blockSize,l=a.slice(u,u+B);o.call(this,a,u,B,f),this._prevBlock=l}});function o(a,u,f,B){var l,w=this._iv;w?(l=w.slice(0),this._iv=void 0):l=this._prevBlock,B.encryptBlock(l,0);for(var k=0;k<f;k++)a[u+k]^=l[k]}return e}(),r.mode.CFB})}(Gr)),Gr.exports}var jr={exports:{}},E0;function zs(){return E0||(E0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.mode.CTR=function(){var e=r.lib.BlockCipherMode.extend(),o=e.Encryptor=e.extend({processBlock:function(a,u){var f=this._cipher,B=f.blockSize,l=this._iv,w=this._counter;l&&(w=this._counter=l.slice(0),this._iv=void 0);var k=w.slice(0);f.encryptBlock(k,0),w[B-1]=w[B-1]+1|0;for(var I=0;I<B;I++)a[u+I]^=k[I]}});return e.Decryptor=o,e}(),r.mode.CTR})}(jr)),jr.exports}var Kr={exports:{}},B0;function $s(){return B0||(B0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function o(f){if((f>>24&255)===255){var B=f>>16&255,l=f>>8&255,w=f&255;B===255?(B=0,l===255?(l=0,w===255?w=0:++w):++l):++B,f=0,f+=B<<16,f+=l<<8,f+=w}else f+=1<<24;return f}function a(f){return(f[0]=o(f[0]))===0&&(f[1]=o(f[1])),f}var u=e.Encryptor=e.extend({processBlock:function(f,B){var l=this._cipher,w=l.blockSize,k=this._iv,I=this._counter;k&&(I=this._counter=k.slice(0),this._iv=void 0),a(I);var T=I.slice(0);l.encryptBlock(T,0);for(var F=0;F<w;F++)f[B+F]^=T[F]}});return e.Decryptor=u,e}(),r.mode.CTRGladman})}(Kr)),Kr.exports}var Vr={exports:{}},S0;function Ws(){return S0||(S0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.mode.OFB=function(){var e=r.lib.BlockCipherMode.extend(),o=e.Encryptor=e.extend({processBlock:function(a,u){var f=this._cipher,B=f.blockSize,l=this._iv,w=this._keystream;l&&(w=this._keystream=l.slice(0),this._iv=void 0),f.encryptBlock(w,0);for(var k=0;k<B;k++)a[u+k]^=w[k]}});return e.Decryptor=o,e}(),r.mode.OFB})}(Vr)),Vr.exports}var Xr={exports:{}},C0;function Gs(){return C0||(C0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.mode.ECB=function(){var e=r.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(o,a){this._cipher.encryptBlock(o,a)}}),e.Decryptor=e.extend({processBlock:function(o,a){this._cipher.decryptBlock(o,a)}}),e}(),r.mode.ECB})}(Xr)),Xr.exports}var Yr={exports:{}},A0;function js(){return A0||(A0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.pad.AnsiX923={pad:function(e,o){var a=e.sigBytes,u=o*4,f=u-a%u,B=a+f-1;e.clamp(),e.words[B>>>2]|=f<<24-B%4*8,e.sigBytes+=f},unpad:function(e){var o=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=o}},r.pad.Ansix923})}(Yr)),Yr.exports}var Jr={exports:{}},_0;function Ks(){return _0||(_0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.pad.Iso10126={pad:function(e,o){var a=o*4,u=a-e.sigBytes%a;e.concat(r.lib.WordArray.random(u-1)).concat(r.lib.WordArray.create([u<<24],1))},unpad:function(e){var o=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=o}},r.pad.Iso10126})}(Jr)),Jr.exports}var Qr={exports:{}},I0;function Vs(){return I0||(I0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.pad.Iso97971={pad:function(e,o){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,o)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971})}(Qr)),Qr.exports}var Zr={exports:{}},F0;function Xs(){return F0||(F0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.pad.ZeroPadding={pad:function(e,o){var a=o*4;e.clamp(),e.sigBytes+=a-(e.sigBytes%a||a)},unpad:function(e){for(var o=e.words,a=e.sigBytes-1,a=e.sigBytes-1;a>=0;a--)if(o[a>>>2]>>>24-a%4*8&255){e.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(Zr)),Zr.exports}var en={exports:{}},k0;function Ys(){return k0||(k0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(en)),en.exports}var tn={exports:{}},T0;function Js(){return T0||(T0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Ie())})(de,function(r){return function(e){var o=r,a=o.lib,u=a.CipherParams,f=o.enc,B=f.Hex,l=o.format;l.Hex={stringify:function(w){return w.ciphertext.toString(B)},parse:function(w){var k=B.parse(w);return u.create({ciphertext:k})}}}(),r.format.Hex})}(tn)),tn.exports}var rn={exports:{}},R0;function Qs(){return R0||(R0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Pt(),Ht(),It(),Ie())})(de,function(r){return function(){var e=r,o=e.lib,a=o.BlockCipher,u=e.algo,f=[],B=[],l=[],w=[],k=[],I=[],T=[],F=[],O=[],P=[];(function(){for(var M=[],H=0;H<256;H++)H<128?M[H]=H<<1:M[H]=H<<1^283;for(var G=0,$=0,H=0;H<256;H++){var E=$^$<<1^$<<2^$<<3^$<<4;E=E>>>8^E&255^99,f[G]=E,B[E]=G;var h=M[G],p=M[h],x=M[p],d=M[E]*257^E*16843008;l[G]=d<<24|d>>>8,w[G]=d<<16|d>>>16,k[G]=d<<8|d>>>24,I[G]=d;var d=x*16843009^p*65537^h*257^G*16843008;T[E]=d<<24|d>>>8,F[E]=d<<16|d>>>16,O[E]=d<<8|d>>>24,P[E]=d,G?(G=h^M[M[M[x^h]]],$^=M[M[$]]):G=$=1}})();var N=[0,1,2,4,8,16,32,64,128,27,54],A=u.AES=a.extend({_doReset:function(){var M;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var H=this._keyPriorReset=this._key,G=H.words,$=H.sigBytes/4,E=this._nRounds=$+6,h=(E+1)*4,p=this._keySchedule=[],x=0;x<h;x++)x<$?p[x]=G[x]:(M=p[x-1],x%$?$>6&&x%$==4&&(M=f[M>>>24]<<24|f[M>>>16&255]<<16|f[M>>>8&255]<<8|f[M&255]):(M=M<<8|M>>>24,M=f[M>>>24]<<24|f[M>>>16&255]<<16|f[M>>>8&255]<<8|f[M&255],M^=N[x/$|0]<<24),p[x]=p[x-$]^M);for(var d=this._invKeySchedule=[],g=0;g<h;g++){var x=h-g;if(g%4)var M=p[x];else var M=p[x-4];g<4||x<=4?d[g]=M:d[g]=T[f[M>>>24]]^F[f[M>>>16&255]]^O[f[M>>>8&255]]^P[f[M&255]]}}},encryptBlock:function(M,H){this._doCryptBlock(M,H,this._keySchedule,l,w,k,I,f)},decryptBlock:function(M,H){var G=M[H+1];M[H+1]=M[H+3],M[H+3]=G,this._doCryptBlock(M,H,this._invKeySchedule,T,F,O,P,B);var G=M[H+1];M[H+1]=M[H+3],M[H+3]=G},_doCryptBlock:function(M,H,G,$,E,h,p,x){for(var d=this._nRounds,g=M[H]^G[0],v=M[H+1]^G[1],b=M[H+2]^G[2],m=M[H+3]^G[3],C=4,_=1;_<d;_++){var R=$[g>>>24]^E[v>>>16&255]^h[b>>>8&255]^p[m&255]^G[C++],z=$[v>>>24]^E[b>>>16&255]^h[m>>>8&255]^p[g&255]^G[C++],j=$[b>>>24]^E[m>>>16&255]^h[g>>>8&255]^p[v&255]^G[C++],U=$[m>>>24]^E[g>>>16&255]^h[v>>>8&255]^p[b&255]^G[C++];g=R,v=z,b=j,m=U}var R=(x[g>>>24]<<24|x[v>>>16&255]<<16|x[b>>>8&255]<<8|x[m&255])^G[C++],z=(x[v>>>24]<<24|x[b>>>16&255]<<16|x[m>>>8&255]<<8|x[g&255])^G[C++],j=(x[b>>>24]<<24|x[m>>>16&255]<<16|x[g>>>8&255]<<8|x[v&255])^G[C++],U=(x[m>>>24]<<24|x[g>>>16&255]<<16|x[v>>>8&255]<<8|x[b&255])^G[C++];M[H]=R,M[H+1]=z,M[H+2]=j,M[H+3]=U},keySize:256/32});e.AES=a._createHelper(A)}(),r.AES})}(rn)),rn.exports}var nn={exports:{}},D0;function Zs(){return D0||(D0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Pt(),Ht(),It(),Ie())})(de,function(r){return function(){var e=r,o=e.lib,a=o.WordArray,u=o.BlockCipher,f=e.algo,B=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],k=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],I=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=f.DES=u.extend({_doReset:function(){for(var N=this._key,A=N.words,M=[],H=0;H<56;H++){var G=B[H]-1;M[H]=A[G>>>5]>>>31-G%32&1}for(var $=this._subKeys=[],E=0;E<16;E++){for(var h=$[E]=[],p=w[E],H=0;H<24;H++)h[H/6|0]|=M[(l[H]-1+p)%28]<<31-H%6,h[4+(H/6|0)]|=M[28+(l[H+24]-1+p)%28]<<31-H%6;h[0]=h[0]<<1|h[0]>>>31;for(var H=1;H<7;H++)h[H]=h[H]>>>(H-1)*4+3;h[7]=h[7]<<5|h[7]>>>27}for(var x=this._invSubKeys=[],H=0;H<16;H++)x[H]=$[15-H]},encryptBlock:function(N,A){this._doCryptBlock(N,A,this._subKeys)},decryptBlock:function(N,A){this._doCryptBlock(N,A,this._invSubKeys)},_doCryptBlock:function(N,A,M){this._lBlock=N[A],this._rBlock=N[A+1],F.call(this,4,252645135),F.call(this,16,65535),O.call(this,2,858993459),O.call(this,8,16711935),F.call(this,1,1431655765);for(var H=0;H<16;H++){for(var G=M[H],$=this._lBlock,E=this._rBlock,h=0,p=0;p<8;p++)h|=k[p][((E^G[p])&I[p])>>>0];this._lBlock=E,this._rBlock=$^h}var x=this._lBlock;this._lBlock=this._rBlock,this._rBlock=x,F.call(this,1,1431655765),O.call(this,8,16711935),O.call(this,2,858993459),F.call(this,16,65535),F.call(this,4,252645135),N[A]=this._lBlock,N[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function F(N,A){var M=(this._lBlock>>>N^this._rBlock)&A;this._rBlock^=M,this._lBlock^=M<<N}function O(N,A){var M=(this._rBlock>>>N^this._lBlock)&A;this._lBlock^=M,this._rBlock^=M<<N}e.DES=u._createHelper(T);var P=f.TripleDES=u.extend({_doReset:function(){var N=this._key,A=N.words;if(A.length!==2&&A.length!==4&&A.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var M=A.slice(0,2),H=A.length<4?A.slice(0,2):A.slice(2,4),G=A.length<6?A.slice(0,2):A.slice(4,6);this._des1=T.createEncryptor(a.create(M)),this._des2=T.createEncryptor(a.create(H)),this._des3=T.createEncryptor(a.create(G))},encryptBlock:function(N,A){this._des1.encryptBlock(N,A),this._des2.decryptBlock(N,A),this._des3.encryptBlock(N,A)},decryptBlock:function(N,A){this._des3.decryptBlock(N,A),this._des2.encryptBlock(N,A),this._des1.decryptBlock(N,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=u._createHelper(P)}(),r.TripleDES})}(nn)),nn.exports}var on={exports:{}},N0;function ea(){return N0||(N0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Pt(),Ht(),It(),Ie())})(de,function(r){return function(){var e=r,o=e.lib,a=o.StreamCipher,u=e.algo,f=u.RC4=a.extend({_doReset:function(){for(var w=this._key,k=w.words,I=w.sigBytes,T=this._S=[],F=0;F<256;F++)T[F]=F;for(var F=0,O=0;F<256;F++){var P=F%I,N=k[P>>>2]>>>24-P%4*8&255;O=(O+T[F]+N)%256;var A=T[F];T[F]=T[O],T[O]=A}this._i=this._j=0},_doProcessBlock:function(w,k){w[k]^=B.call(this)},keySize:256/32,ivSize:0});function B(){for(var w=this._S,k=this._i,I=this._j,T=0,F=0;F<4;F++){k=(k+1)%256,I=(I+w[k])%256;var O=w[k];w[k]=w[I],w[I]=O,T|=w[(w[k]+w[I])%256]<<24-F*8}return this._i=k,this._j=I,T}e.RC4=a._createHelper(f);var l=u.RC4Drop=f.extend({cfg:f.cfg.extend({drop:192}),_doReset:function(){f._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)B.call(this)}});e.RC4Drop=a._createHelper(l)}(),r.RC4})}(on)),on.exports}var sn={exports:{}},O0;function ta(){return O0||(O0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Pt(),Ht(),It(),Ie())})(de,function(r){return function(){var e=r,o=e.lib,a=o.StreamCipher,u=e.algo,f=[],B=[],l=[],w=u.Rabbit=a.extend({_doReset:function(){for(var I=this._key.words,T=this.cfg.iv,F=0;F<4;F++)I[F]=(I[F]<<8|I[F]>>>24)&16711935|(I[F]<<24|I[F]>>>8)&4278255360;var O=this._X=[I[0],I[3]<<16|I[2]>>>16,I[1],I[0]<<16|I[3]>>>16,I[2],I[1]<<16|I[0]>>>16,I[3],I[2]<<16|I[1]>>>16],P=this._C=[I[2]<<16|I[2]>>>16,I[0]&4294901760|I[1]&65535,I[3]<<16|I[3]>>>16,I[1]&4294901760|I[2]&65535,I[0]<<16|I[0]>>>16,I[2]&4294901760|I[3]&65535,I[1]<<16|I[1]>>>16,I[3]&4294901760|I[0]&65535];this._b=0;for(var F=0;F<4;F++)k.call(this);for(var F=0;F<8;F++)P[F]^=O[F+4&7];if(T){var N=T.words,A=N[0],M=N[1],H=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,G=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,$=H>>>16|G&4294901760,E=G<<16|H&65535;P[0]^=H,P[1]^=$,P[2]^=G,P[3]^=E,P[4]^=H,P[5]^=$,P[6]^=G,P[7]^=E;for(var F=0;F<4;F++)k.call(this)}},_doProcessBlock:function(I,T){var F=this._X;k.call(this),f[0]=F[0]^F[5]>>>16^F[3]<<16,f[1]=F[2]^F[7]>>>16^F[5]<<16,f[2]=F[4]^F[1]>>>16^F[7]<<16,f[3]=F[6]^F[3]>>>16^F[1]<<16;for(var O=0;O<4;O++)f[O]=(f[O]<<8|f[O]>>>24)&16711935|(f[O]<<24|f[O]>>>8)&4278255360,I[T+O]^=f[O]},blockSize:128/32,ivSize:64/32});function k(){for(var I=this._X,T=this._C,F=0;F<8;F++)B[F]=T[F];T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<B[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<B[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<B[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<B[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<B[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<B[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<B[6]>>>0?1:0)|0,this._b=T[7]>>>0<B[7]>>>0?1:0;for(var F=0;F<8;F++){var O=I[F]+T[F],P=O&65535,N=O>>>16,A=((P*P>>>17)+P*N>>>15)+N*N,M=((O&4294901760)*O|0)+((O&65535)*O|0);l[F]=A^M}I[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,I[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,I[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,I[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,I[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,I[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,I[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,I[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}e.Rabbit=a._createHelper(w)}(),r.Rabbit})}(sn)),sn.exports}var an={exports:{}},U0;function ra(){return U0||(U0=1,function(n,t){(function(r,e,o){n.exports=e(we(),Pt(),Ht(),It(),Ie())})(de,function(r){return function(){var e=r,o=e.lib,a=o.StreamCipher,u=e.algo,f=[],B=[],l=[],w=u.RabbitLegacy=a.extend({_doReset:function(){var I=this._key.words,T=this.cfg.iv,F=this._X=[I[0],I[3]<<16|I[2]>>>16,I[1],I[0]<<16|I[3]>>>16,I[2],I[1]<<16|I[0]>>>16,I[3],I[2]<<16|I[1]>>>16],O=this._C=[I[2]<<16|I[2]>>>16,I[0]&4294901760|I[1]&65535,I[3]<<16|I[3]>>>16,I[1]&4294901760|I[2]&65535,I[0]<<16|I[0]>>>16,I[2]&4294901760|I[3]&65535,I[1]<<16|I[1]>>>16,I[3]&4294901760|I[0]&65535];this._b=0;for(var P=0;P<4;P++)k.call(this);for(var P=0;P<8;P++)O[P]^=F[P+4&7];if(T){var N=T.words,A=N[0],M=N[1],H=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,G=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,$=H>>>16|G&4294901760,E=G<<16|H&65535;O[0]^=H,O[1]^=$,O[2]^=G,O[3]^=E,O[4]^=H,O[5]^=$,O[6]^=G,O[7]^=E;for(var P=0;P<4;P++)k.call(this)}},_doProcessBlock:function(I,T){var F=this._X;k.call(this),f[0]=F[0]^F[5]>>>16^F[3]<<16,f[1]=F[2]^F[7]>>>16^F[5]<<16,f[2]=F[4]^F[1]>>>16^F[7]<<16,f[3]=F[6]^F[3]>>>16^F[1]<<16;for(var O=0;O<4;O++)f[O]=(f[O]<<8|f[O]>>>24)&16711935|(f[O]<<24|f[O]>>>8)&4278255360,I[T+O]^=f[O]},blockSize:128/32,ivSize:64/32});function k(){for(var I=this._X,T=this._C,F=0;F<8;F++)B[F]=T[F];T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<B[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<B[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<B[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<B[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<B[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<B[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<B[6]>>>0?1:0)|0,this._b=T[7]>>>0<B[7]>>>0?1:0;for(var F=0;F<8;F++){var O=I[F]+T[F],P=O&65535,N=O>>>16,A=((P*P>>>17)+P*N>>>15)+N*N,M=((O&4294901760)*O|0)+((O&65535)*O|0);l[F]=A^M}I[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,I[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,I[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,I[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,I[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,I[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,I[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,I[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}e.RabbitLegacy=a._createHelper(w)}(),r.RabbitLegacy})}(an)),an.exports}(function(n,t){(function(r,e,o){n.exports=e(we(),pr(),Ds(),Ns(),Pt(),Os(),Ht(),Rn(),ki(),Us(),Ti(),Ms(),Ls(),Ps(),Dn(),Hs(),It(),Ie(),qs(),zs(),$s(),Ws(),Gs(),js(),Ks(),Vs(),Xs(),Ys(),Js(),Qs(),Zs(),ea(),ta(),ra())})(de,function(r){return r})})(Fi);var na=Fi.exports;const Te=_s(na);var $t={},dr={};dr.byteLength=sa;dr.toByteArray=fa;dr.fromByteArray=ha;var rt=[],He=[],ia=typeof Uint8Array<"u"?Uint8Array:Array,fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tt=0,oa=fn.length;Tt<oa;++Tt)rt[Tt]=fn[Tt],He[fn.charCodeAt(Tt)]=Tt;He["-".charCodeAt(0)]=62;He["_".charCodeAt(0)]=63;function Ri(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=t);var e=r===t?0:4-r%4;return[r,e]}function sa(n){var t=Ri(n),r=t[0],e=t[1];return(r+e)*3/4-e}function aa(n,t,r){return(t+r)*3/4-r}function fa(n){var t,r=Ri(n),e=r[0],o=r[1],a=new ia(aa(n,e,o)),u=0,f=o>0?e-4:e,B;for(B=0;B<f;B+=4)t=He[n.charCodeAt(B)]<<18|He[n.charCodeAt(B+1)]<<12|He[n.charCodeAt(B+2)]<<6|He[n.charCodeAt(B+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=t&255;return o===2&&(t=He[n.charCodeAt(B)]<<2|He[n.charCodeAt(B+1)]>>4,a[u++]=t&255),o===1&&(t=He[n.charCodeAt(B)]<<10|He[n.charCodeAt(B+1)]<<4|He[n.charCodeAt(B+2)]>>2,a[u++]=t>>8&255,a[u++]=t&255),a}function ca(n){return rt[n>>18&63]+rt[n>>12&63]+rt[n>>6&63]+rt[n&63]}function ua(n,t,r){for(var e,o=[],a=t;a<r;a+=3)e=(n[a]<<16&16711680)+(n[a+1]<<8&65280)+(n[a+2]&255),o.push(ca(e));return o.join("")}function ha(n){for(var t,r=n.length,e=r%3,o=[],a=16383,u=0,f=r-e;u<f;u+=a)o.push(ua(n,u,u+a>f?f:u+a));return e===1?(t=n[r-1],o.push(rt[t>>2]+rt[t<<4&63]+"==")):e===2&&(t=(n[r-2]<<8)+n[r-1],o.push(rt[t>>10]+rt[t>>4&63]+rt[t<<2&63]+"=")),o.join("")}var Nn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Nn.read=function(n,t,r,e,o){var a,u,f=o*8-e-1,B=(1<<f)-1,l=B>>1,w=-7,k=r?o-1:0,I=r?-1:1,T=n[t+k];for(k+=I,a=T&(1<<-w)-1,T>>=-w,w+=f;w>0;a=a*256+n[t+k],k+=I,w-=8);for(u=a&(1<<-w)-1,a>>=-w,w+=e;w>0;u=u*256+n[t+k],k+=I,w-=8);if(a===0)a=1-l;else{if(a===B)return u?NaN:(T?-1:1)*(1/0);u=u+Math.pow(2,e),a=a-l}return(T?-1:1)*u*Math.pow(2,a-e)};Nn.write=function(n,t,r,e,o,a){var u,f,B,l=a*8-o-1,w=(1<<l)-1,k=w>>1,I=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=e?0:a-1,F=e?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,u=w):(u=Math.floor(Math.log(t)/Math.LN2),t*(B=Math.pow(2,-u))<1&&(u--,B*=2),u+k>=1?t+=I/B:t+=I*Math.pow(2,1-k),t*B>=2&&(u++,B/=2),u+k>=w?(f=0,u=w):u+k>=1?(f=(t*B-1)*Math.pow(2,o),u=u+k):(f=t*Math.pow(2,k-1)*Math.pow(2,o),u=0));o>=8;n[r+T]=f&255,T+=F,f/=256,o-=8);for(u=u<<o|f,l+=o;l>0;n[r+T]=u&255,T+=F,u/=256,l-=8);n[r+T-F]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=dr,r=Nn,e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=A,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,f.TYPED_ARRAY_SUPPORT=a(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const c=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(c,i),c.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(c){if(c>o)throw new RangeError('The value "'+c+'" is invalid for option "size"');const i=new Uint8Array(c);return Object.setPrototypeOf(i,f.prototype),i}function f(c,i,s){if(typeof c=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(c)}return B(c,i,s)}f.poolSize=8192;function B(c,i,s){if(typeof c=="string")return I(c,i);if(ArrayBuffer.isView(c))return F(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(ve(c,ArrayBuffer)||c&&ve(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(c,SharedArrayBuffer)||c&&ve(c.buffer,SharedArrayBuffer)))return O(c,i,s);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=c.valueOf&&c.valueOf();if(y!=null&&y!==c)return f.from(y,i,s);const S=P(c);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return f.from(c[Symbol.toPrimitive]("string"),i,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}f.from=function(c,i,s){return B(c,i,s)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function l(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function w(c,i,s){return l(c),c<=0?u(c):i!==void 0?typeof s=="string"?u(c).fill(i,s):u(c).fill(i):u(c)}f.alloc=function(c,i,s){return w(c,i,s)};function k(c){return l(c),u(c<0?0:N(c)|0)}f.allocUnsafe=function(c){return k(c)},f.allocUnsafeSlow=function(c){return k(c)};function I(c,i){if((typeof i!="string"||i==="")&&(i="utf8"),!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const s=M(c,i)|0;let y=u(s);const S=y.write(c,i);return S!==s&&(y=y.slice(0,S)),y}function T(c){const i=c.length<0?0:N(c.length)|0,s=u(i);for(let y=0;y<i;y+=1)s[y]=c[y]&255;return s}function F(c){if(ve(c,Uint8Array)){const i=new Uint8Array(c);return O(i.buffer,i.byteOffset,i.byteLength)}return T(c)}function O(c,i,s){if(i<0||c.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<i+(s||0))throw new RangeError('"length" is outside of buffer bounds');let y;return i===void 0&&s===void 0?y=new Uint8Array(c):s===void 0?y=new Uint8Array(c,i):y=new Uint8Array(c,i,s),Object.setPrototypeOf(y,f.prototype),y}function P(c){if(f.isBuffer(c)){const i=N(c.length)|0,s=u(i);return s.length===0||c.copy(s,0,0,i),s}if(c.length!==void 0)return typeof c.length!="number"||Fe(c.length)?u(0):T(c);if(c.type==="Buffer"&&Array.isArray(c.data))return T(c.data)}function N(c){if(c>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return c|0}function A(c){return+c!=c&&(c=0),f.alloc(+c)}f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,s){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),ve(s,Uint8Array)&&(s=f.from(s,s.offset,s.byteLength)),!f.isBuffer(i)||!f.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===s)return 0;let y=i.length,S=s.length;for(let D=0,L=Math.min(y,S);D<L;++D)if(i[D]!==s[D]){y=i[D],S=s[D];break}return y<S?-1:S<y?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,s){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);let y;if(s===void 0)for(s=0,y=0;y<i.length;++y)s+=i[y].length;const S=f.allocUnsafe(s);let D=0;for(y=0;y<i.length;++y){let L=i[y];if(ve(L,Uint8Array))D+L.length>S.length?(f.isBuffer(L)||(L=f.from(L)),L.copy(S,D)):Uint8Array.prototype.set.call(S,L,D);else if(f.isBuffer(L))L.copy(S,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=L.length}return S};function M(c,i){if(f.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||ve(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const s=c.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&s===0)return 0;let S=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return Oe(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return We(c).length;default:if(S)return y?-1:Oe(c).length;i=(""+i).toLowerCase(),S=!0}}f.byteLength=M;function H(c,i,s){let y=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,i>>>=0,s<=i))return"";for(c||(c="utf8");;)switch(c){case"hex":return z(this,i,s);case"utf8":case"utf-8":return b(this,i,s);case"ascii":return _(this,i,s);case"latin1":case"binary":return R(this,i,s);case"base64":return v(this,i,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,i,s);default:if(y)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),y=!0}}f.prototype._isBuffer=!0;function G(c,i,s){const y=c[i];c[i]=c[s],c[s]=y}f.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<i;s+=2)G(this,s,s+1);return this},f.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<i;s+=4)G(this,s,s+3),G(this,s+1,s+2);return this},f.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<i;s+=8)G(this,s,s+7),G(this,s+1,s+6),G(this,s+2,s+5),G(this,s+3,s+4);return this},f.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?b(this,0,i):H.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:f.compare(this,i)===0},f.prototype.inspect=function(){let i="";const s=n.INSPECT_MAX_BYTES;return i=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(i+=" ... "),"<Buffer "+i+">"},e&&(f.prototype[e]=f.prototype.inspect),f.prototype.compare=function(i,s,y,S,D){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(s===void 0&&(s=0),y===void 0&&(y=i?i.length:0),S===void 0&&(S=0),D===void 0&&(D=this.length),s<0||y>i.length||S<0||D>this.length)throw new RangeError("out of range index");if(S>=D&&s>=y)return 0;if(S>=D)return-1;if(s>=y)return 1;if(s>>>=0,y>>>=0,S>>>=0,D>>>=0,this===i)return 0;let L=D-S,Z=y-s;const ce=Math.min(L,Z),ie=this.slice(S,D),he=i.slice(s,y);for(let ne=0;ne<ce;++ne)if(ie[ne]!==he[ne]){L=ie[ne],Z=he[ne];break}return L<Z?-1:Z<L?1:0};function $(c,i,s,y,S){if(c.length===0)return-1;if(typeof s=="string"?(y=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,Fe(s)&&(s=S?0:c.length-1),s<0&&(s=c.length+s),s>=c.length){if(S)return-1;s=c.length-1}else if(s<0)if(S)s=0;else return-1;if(typeof i=="string"&&(i=f.from(i,y)),f.isBuffer(i))return i.length===0?-1:E(c,i,s,y,S);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(c,i,s):Uint8Array.prototype.lastIndexOf.call(c,i,s):E(c,[i],s,y,S);throw new TypeError("val must be string, number or Buffer")}function E(c,i,s,y,S){let D=1,L=c.length,Z=i.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(c.length<2||i.length<2)return-1;D=2,L/=2,Z/=2,s/=2}function ce(he,ne){return D===1?he[ne]:he.readUInt16BE(ne*D)}let ie;if(S){let he=-1;for(ie=s;ie<L;ie++)if(ce(c,ie)===ce(i,he===-1?0:ie-he)){if(he===-1&&(he=ie),ie-he+1===Z)return he*D}else he!==-1&&(ie-=ie-he),he=-1}else for(s+Z>L&&(s=L-Z),ie=s;ie>=0;ie--){let he=!0;for(let ne=0;ne<Z;ne++)if(ce(c,ie+ne)!==ce(i,ne)){he=!1;break}if(he)return ie}return-1}f.prototype.includes=function(i,s,y){return this.indexOf(i,s,y)!==-1},f.prototype.indexOf=function(i,s,y){return $(this,i,s,y,!0)},f.prototype.lastIndexOf=function(i,s,y){return $(this,i,s,y,!1)};function h(c,i,s,y){s=Number(s)||0;const S=c.length-s;y?(y=Number(y),y>S&&(y=S)):y=S;const D=i.length;y>D/2&&(y=D/2);let L;for(L=0;L<y;++L){const Z=parseInt(i.substr(L*2,2),16);if(Fe(Z))return L;c[s+L]=Z}return L}function p(c,i,s,y){return Be(Oe(i,c.length-s),c,s,y)}function x(c,i,s,y){return Be(at(i),c,s,y)}function d(c,i,s,y){return Be(We(i),c,s,y)}function g(c,i,s,y){return Be(St(i,c.length-s),c,s,y)}f.prototype.write=function(i,s,y,S){if(s===void 0)S="utf8",y=this.length,s=0;else if(y===void 0&&typeof s=="string")S=s,y=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(y)?(y=y>>>0,S===void 0&&(S="utf8")):(S=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-s;if((y===void 0||y>D)&&(y=D),i.length>0&&(y<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let L=!1;for(;;)switch(S){case"hex":return h(this,i,s,y);case"utf8":case"utf-8":return p(this,i,s,y);case"ascii":case"latin1":case"binary":return x(this,i,s,y);case"base64":return d(this,i,s,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,i,s,y);default:if(L)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),L=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(c,i,s){return i===0&&s===c.length?t.fromByteArray(c):t.fromByteArray(c.slice(i,s))}function b(c,i,s){s=Math.min(c.length,s);const y=[];let S=i;for(;S<s;){const D=c[S];let L=null,Z=D>239?4:D>223?3:D>191?2:1;if(S+Z<=s){let ce,ie,he,ne;switch(Z){case 1:D<128&&(L=D);break;case 2:ce=c[S+1],(ce&192)===128&&(ne=(D&31)<<6|ce&63,ne>127&&(L=ne));break;case 3:ce=c[S+1],ie=c[S+2],(ce&192)===128&&(ie&192)===128&&(ne=(D&15)<<12|(ce&63)<<6|ie&63,ne>2047&&(ne<55296||ne>57343)&&(L=ne));break;case 4:ce=c[S+1],ie=c[S+2],he=c[S+3],(ce&192)===128&&(ie&192)===128&&(he&192)===128&&(ne=(D&15)<<18|(ce&63)<<12|(ie&63)<<6|he&63,ne>65535&&ne<1114112&&(L=ne))}}L===null?(L=65533,Z=1):L>65535&&(L-=65536,y.push(L>>>10&1023|55296),L=56320|L&1023),y.push(L),S+=Z}return C(y)}const m=4096;function C(c){const i=c.length;if(i<=m)return String.fromCharCode.apply(String,c);let s="",y=0;for(;y<i;)s+=String.fromCharCode.apply(String,c.slice(y,y+=m));return s}function _(c,i,s){let y="";s=Math.min(c.length,s);for(let S=i;S<s;++S)y+=String.fromCharCode(c[S]&127);return y}function R(c,i,s){let y="";s=Math.min(c.length,s);for(let S=i;S<s;++S)y+=String.fromCharCode(c[S]);return y}function z(c,i,s){const y=c.length;(!i||i<0)&&(i=0),(!s||s<0||s>y)&&(s=y);let S="";for(let D=i;D<s;++D)S+=pt[c[D]];return S}function j(c,i,s){const y=c.slice(i,s);let S="";for(let D=0;D<y.length-1;D+=2)S+=String.fromCharCode(y[D]+y[D+1]*256);return S}f.prototype.slice=function(i,s){const y=this.length;i=~~i,s=s===void 0?y:~~s,i<0?(i+=y,i<0&&(i=0)):i>y&&(i=y),s<0?(s+=y,s<0&&(s=0)):s>y&&(s=y),s<i&&(s=i);const S=this.subarray(i,s);return Object.setPrototypeOf(S,f.prototype),S};function U(c,i,s){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+i>s)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=this[i],D=1,L=0;for(;++L<s&&(D*=256);)S+=this[i+L]*D;return S},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=this[i+--s],D=1;for(;s>0&&(D*=256);)S+=this[i+--s]*D;return S},f.prototype.readUint8=f.prototype.readUInt8=function(i,s){return i=i>>>0,s||U(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,s){return i=i>>>0,s||U(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,s){return i=i>>>0,s||U(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,s){return i=i>>>0,s||U(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,s){return i=i>>>0,s||U(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readBigUInt64LE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=s+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,D=this[++i]+this[++i]*2**8+this[++i]*2**16+y*2**24;return BigInt(S)+(BigInt(D)<<BigInt(32))}),f.prototype.readBigUInt64BE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=s*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],D=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+y;return(BigInt(S)<<BigInt(32))+BigInt(D)}),f.prototype.readIntLE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=this[i],D=1,L=0;for(;++L<s&&(D*=256);)S+=this[i+L]*D;return D*=128,S>=D&&(S-=Math.pow(2,8*s)),S},f.prototype.readIntBE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=s,D=1,L=this[i+--S];for(;S>0&&(D*=256);)L+=this[i+--S]*D;return D*=128,L>=D&&(L-=Math.pow(2,8*s)),L},f.prototype.readInt8=function(i,s){return i=i>>>0,s||U(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},f.prototype.readInt16LE=function(i,s){i=i>>>0,s||U(i,2,this.length);const y=this[i]|this[i+1]<<8;return y&32768?y|4294901760:y},f.prototype.readInt16BE=function(i,s){i=i>>>0,s||U(i,2,this.length);const y=this[i+1]|this[i]<<8;return y&32768?y|4294901760:y},f.prototype.readInt32LE=function(i,s){return i=i>>>0,s||U(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,s){return i=i>>>0,s||U(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readBigInt64LE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(y<<24);return(BigInt(S)<<BigInt(32))+BigInt(s+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),f.prototype.readBigInt64BE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=(s<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(S)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+y)}),f.prototype.readFloatLE=function(i,s){return i=i>>>0,s||U(i,4,this.length),r.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,s){return i=i>>>0,s||U(i,4,this.length),r.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,s){return i=i>>>0,s||U(i,8,this.length),r.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,s){return i=i>>>0,s||U(i,8,this.length),r.read(this,i,!1,52,8)};function q(c,i,s,y,S,D){if(!f.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>S||i<D)throw new RangeError('"value" argument is out of bounds');if(s+y>c.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,s,y,S){if(i=+i,s=s>>>0,y=y>>>0,!S){const Z=Math.pow(2,8*y)-1;q(this,i,s,y,Z,0)}let D=1,L=0;for(this[s]=i&255;++L<y&&(D*=256);)this[s+L]=i/D&255;return s+y},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,s,y,S){if(i=+i,s=s>>>0,y=y>>>0,!S){const Z=Math.pow(2,8*y)-1;q(this,i,s,y,Z,0)}let D=y-1,L=1;for(this[s+D]=i&255;--D>=0&&(L*=256);)this[s+D]=i/L&255;return s+y},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,1,255,0),this[s]=i&255,s+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,65535,0),this[s]=i&255,this[s+1]=i>>>8,s+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,65535,0),this[s]=i>>>8,this[s+1]=i&255,s+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,4294967295,0),this[s+3]=i>>>24,this[s+2]=i>>>16,this[s+1]=i>>>8,this[s]=i&255,s+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,4294967295,0),this[s]=i>>>24,this[s+1]=i>>>16,this[s+2]=i>>>8,this[s+3]=i&255,s+4};function K(c,i,s,y,S){ae(i,y,S,c,s,7);let D=Number(i&BigInt(4294967295));c[s++]=D,D=D>>8,c[s++]=D,D=D>>8,c[s++]=D,D=D>>8,c[s++]=D;let L=Number(i>>BigInt(32)&BigInt(4294967295));return c[s++]=L,L=L>>8,c[s++]=L,L=L>>8,c[s++]=L,L=L>>8,c[s++]=L,s}function W(c,i,s,y,S){ae(i,y,S,c,s,7);let D=Number(i&BigInt(4294967295));c[s+7]=D,D=D>>8,c[s+6]=D,D=D>>8,c[s+5]=D,D=D>>8,c[s+4]=D;let L=Number(i>>BigInt(32)&BigInt(4294967295));return c[s+3]=L,L=L>>8,c[s+2]=L,L=L>>8,c[s+1]=L,L=L>>8,c[s]=L,s+8}f.prototype.writeBigUInt64LE=Se(function(i,s=0){return K(this,i,s,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Se(function(i,s=0){return W(this,i,s,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(i,s,y,S){if(i=+i,s=s>>>0,!S){const ce=Math.pow(2,8*y-1);q(this,i,s,y,ce-1,-ce)}let D=0,L=1,Z=0;for(this[s]=i&255;++D<y&&(L*=256);)i<0&&Z===0&&this[s+D-1]!==0&&(Z=1),this[s+D]=(i/L>>0)-Z&255;return s+y},f.prototype.writeIntBE=function(i,s,y,S){if(i=+i,s=s>>>0,!S){const ce=Math.pow(2,8*y-1);q(this,i,s,y,ce-1,-ce)}let D=y-1,L=1,Z=0;for(this[s+D]=i&255;--D>=0&&(L*=256);)i<0&&Z===0&&this[s+D+1]!==0&&(Z=1),this[s+D]=(i/L>>0)-Z&255;return s+y},f.prototype.writeInt8=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,1,127,-128),i<0&&(i=255+i+1),this[s]=i&255,s+1},f.prototype.writeInt16LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,32767,-32768),this[s]=i&255,this[s+1]=i>>>8,s+2},f.prototype.writeInt16BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,32767,-32768),this[s]=i>>>8,this[s+1]=i&255,s+2},f.prototype.writeInt32LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,2147483647,-2147483648),this[s]=i&255,this[s+1]=i>>>8,this[s+2]=i>>>16,this[s+3]=i>>>24,s+4},f.prototype.writeInt32BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[s]=i>>>24,this[s+1]=i>>>16,this[s+2]=i>>>8,this[s+3]=i&255,s+4},f.prototype.writeBigInt64LE=Se(function(i,s=0){return K(this,i,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Se(function(i,s=0){return W(this,i,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(c,i,s,y,S,D){if(s+y>c.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function Y(c,i,s,y,S){return i=+i,s=s>>>0,S||V(c,i,s,4),r.write(c,i,s,y,23,4),s+4}f.prototype.writeFloatLE=function(i,s,y){return Y(this,i,s,!0,y)},f.prototype.writeFloatBE=function(i,s,y){return Y(this,i,s,!1,y)};function te(c,i,s,y,S){return i=+i,s=s>>>0,S||V(c,i,s,8),r.write(c,i,s,y,52,8),s+8}f.prototype.writeDoubleLE=function(i,s,y){return te(this,i,s,!0,y)},f.prototype.writeDoubleBE=function(i,s,y){return te(this,i,s,!1,y)},f.prototype.copy=function(i,s,y,S){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(y||(y=0),!S&&S!==0&&(S=this.length),s>=i.length&&(s=i.length),s||(s=0),S>0&&S<y&&(S=y),S===y||i.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),i.length-s<S-y&&(S=i.length-s+y);const D=S-y;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,y,S):Uint8Array.prototype.set.call(i,this.subarray(y,S),s),D},f.prototype.fill=function(i,s,y,S){if(typeof i=="string"){if(typeof s=="string"?(S=s,s=0,y=this.length):typeof y=="string"&&(S=y,y=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!f.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(i.length===1){const L=i.charCodeAt(0);(S==="utf8"&&L<128||S==="latin1")&&(i=L)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(s<0||this.length<s||this.length<y)throw new RangeError("Out of range index");if(y<=s)return this;s=s>>>0,y=y===void 0?this.length:y>>>0,i||(i=0);let D;if(typeof i=="number")for(D=s;D<y;++D)this[D]=i;else{const L=f.isBuffer(i)?i:f.from(i,S),Z=L.length;if(Z===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(D=0;D<y-s;++D)this[D+s]=L[D%Z]}return this};const J={};function le(c,i,s){J[c]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(c,i){return`The "${c}" argument must be of type number. Received type ${typeof i}`},TypeError),le("ERR_OUT_OF_RANGE",function(c,i,s){let y=`The value of "${c}" is out of range.`,S=s;return Number.isInteger(s)&&Math.abs(s)>2**32?S=se(String(s)):typeof s=="bigint"&&(S=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(S=se(S)),S+="n"),y+=` It must be ${i}. Received ${S}`,y},RangeError);function se(c){let i="",s=c.length;const y=c[0]==="-"?1:0;for(;s>=y+4;s-=3)i=`_${c.slice(s-3,s)}${i}`;return`${c.slice(0,s)}${i}`}function ue(c,i,s){ee(i,"offset"),(c[i]===void 0||c[i+s]===void 0)&&Q(i,c.length-(s+1))}function ae(c,i,s,y,S,D){if(c>s||c<i){const L=typeof i=="bigint"?"n":"";let Z;throw D>3?i===0||i===BigInt(0)?Z=`>= 0${L} and < 2${L} ** ${(D+1)*8}${L}`:Z=`>= -(2${L} ** ${(D+1)*8-1}${L}) and < 2 ** ${(D+1)*8-1}${L}`:Z=`>= ${i}${L} and <= ${s}${L}`,new J.ERR_OUT_OF_RANGE("value",Z,c)}ue(y,S,D)}function ee(c,i){if(typeof c!="number")throw new J.ERR_INVALID_ARG_TYPE(i,"number",c)}function Q(c,i,s){throw Math.floor(c)!==c?(ee(c,s),new J.ERR_OUT_OF_RANGE(s||"offset","an integer",c)):i<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${i}`,c)}const fe=/[^+/0-9A-Za-z-_]/g;function st(c){if(c=c.split("=")[0],c=c.trim().replace(fe,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function Oe(c,i){i=i||1/0;let s;const y=c.length;let S=null;const D=[];for(let L=0;L<y;++L){if(s=c.charCodeAt(L),s>55295&&s<57344){if(!S){if(s>56319){(i-=3)>-1&&D.push(239,191,189);continue}else if(L+1===y){(i-=3)>-1&&D.push(239,191,189);continue}S=s;continue}if(s<56320){(i-=3)>-1&&D.push(239,191,189),S=s;continue}s=(S-55296<<10|s-56320)+65536}else S&&(i-=3)>-1&&D.push(239,191,189);if(S=null,s<128){if((i-=1)<0)break;D.push(s)}else if(s<2048){if((i-=2)<0)break;D.push(s>>6|192,s&63|128)}else if(s<65536){if((i-=3)<0)break;D.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((i-=4)<0)break;D.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return D}function at(c){const i=[];for(let s=0;s<c.length;++s)i.push(c.charCodeAt(s)&255);return i}function St(c,i){let s,y,S;const D=[];for(let L=0;L<c.length&&!((i-=2)<0);++L)s=c.charCodeAt(L),y=s>>8,S=s%256,D.push(S),D.push(y);return D}function We(c){return t.toByteArray(st(c))}function Be(c,i,s,y){let S;for(S=0;S<y&&!(S+s>=i.length||S>=c.length);++S)i[S+s]=c[S];return S}function ve(c,i){return c instanceof i||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===i.name}function Fe(c){return c!==c}const pt=function(){const c="0123456789abcdef",i=new Array(256);for(let s=0;s<16;++s){const y=s*16;for(let S=0;S<16;++S)i[y+S]=c[s]+c[S]}return i}();function Se(c){return typeof BigInt>"u"?Ze:c}function Ze(){throw new Error("BigInt not supported")}})($t);var M0=globalThis&&globalThis.__awaiter||function(n,t,r,e){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(w){try{l(e.next(w))}catch(k){u(k)}}function B(w){try{l(e.throw(w))}catch(k){u(k)}}function l(w){w.done?a(w.value):o(w.value).then(f,B)}l((e=e.apply(n,t||[])).next())})},L0=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(l){return function(w){return B([l,w])}}function B(l){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(n,r)}catch(w){l=[6,w],o=0}finally{e=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},mt=function(){function n(){this.deviceID=2}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.signalDecrypt=function(t,r){return M0(this,void 0,void 0,function(){return L0(this,function(e){return[2,r.buffer]})})},n.prototype.signalEncrypt=function(t,r){return M0(this,void 0,void 0,function(){return L0(this,function(e){return[2,r]})})},n.prototype.stringToUint=function(t){for(var r=t.split(""),e=new Array,o=0,a=r;o<a.length;o++){var u=a[o];e.push(u.charCodeAt(0))}return e},n.prototype.encryption=function(t){var r=Te.AES.encrypt(Te.enc.Utf8.parse(t),Te.enc.Utf8.parse(this.aesKey),{keySize:16,iv:Te.enc.Utf8.parse(this.aesIV),mode:Te.mode.CBC,padding:Te.pad.Pkcs7}),e=r.toString();return e},n.prototype.decryption=function(t){var r=this.uintToString(Array.from(t)),e=Te.enc.Base64.parse(r),o=Te.AES.decrypt(Te.enc.Base64.stringify(e),Te.enc.Utf8.parse(this.aesKey),{keySize:128/8,iv:Te.enc.Utf8.parse(this.aesIV),mode:Te.mode.CBC,padding:Te.pad.Pkcs7});return Uint8Array.from($t.Buffer.from(o.toString(Te.enc.Utf8)))},n.prototype.encryption2=function(t){var r=String.fromCharCode.apply(null,Array.from(t)),e=decodeURIComponent(escape(r));return this.encryption(e)},n.prototype.uintToString=function(t){var r=String.fromCharCode.apply(null,t);return r},n}(),On=function(){function n(){}return n.AddUnsigned=function(t,r){var e,o,a,u,f;return a=t&2147483648,u=r&2147483648,e=t&1073741824,o=r&1073741824,f=(t&1073741823)+(r&1073741823),e&o?f^2147483648^a^u:e|o?f&1073741824?f^3221225472^a^u:f^1073741824^a^u:f^a^u},n.FF=function(t,r,e,o,a,u,f){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.F(r,e,o),a),f)),this.AddUnsigned(this.RotateLeft(t,u),r)},n.GG=function(t,r,e,o,a,u,f){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.G(r,e,o),a),f)),this.AddUnsigned(this.RotateLeft(t,u),r)},n.HH=function(t,r,e,o,a,u,f){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.H(r,e,o),a),f)),this.AddUnsigned(this.RotateLeft(t,u),r)},n.II=function(t,r,e,o,a,u,f){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.I(r,e,o),a),f)),this.AddUnsigned(this.RotateLeft(t,u),r)},n.ConvertToWordArray=function(t){for(var r,e=t.length,o=e+8,a=(o-o%64)/64,u=(a+1)*16,f=Array(u-1),B=0,l=0;l<e;)r=(l-l%4)/4,B=l%4*8,f[r]=f[r]|t.charCodeAt(l)<<B,l++;return r=(l-l%4)/4,B=l%4*8,f[r]=f[r]|128<<B,f[u-2]=e<<3,f[u-1]=e>>>29,f},n.WordToHex=function(t){var r="",e="",o,a;for(a=0;a<=3;a++)o=t>>>a*8&255,e="0"+o.toString(16),r=r+e.substr(e.length-2,2);return r},n.Utf8Encode=function(t){var r="",e;t=t.replace(/\r\n/g,`
`);for(var o=0;o<t.length;o++)e=t.charCodeAt(o),e<128?r+=String.fromCharCode(e):e>127&&e<2048?(r+=String.fromCharCode(e>>6|192),r+=String.fromCharCode(e&63|128)):(r+=String.fromCharCode(e>>12|224),r+=String.fromCharCode(e>>6&63|128),r+=String.fromCharCode(e&63|128));return r},n.init=function(t){var r;for(typeof t!="string"&&(t=JSON.stringify(t)),this._string=this.Utf8Encode(t),this.x=this.ConvertToWordArray(this._string),this.a=1732584193,this.b=4023233417,this.c=2562383102,this.d=271733878,this.k=0;this.k<this.x.length;this.k+=16)this.AA=this.a,this.BB=this.b,this.CC=this.c,this.DD=this.d,this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k],this.S11,3614090360),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+1],this.S12,3905402710),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S13,606105819),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+3],this.S14,3250441966),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S11,4118548399),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+5],this.S12,1200080426),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S13,2821735955),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+7],this.S14,4249261313),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S11,1770035416),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+9],this.S12,2336552879),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S13,4294925233),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+11],this.S14,2304563134),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S11,1804603682),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+13],this.S12,4254626195),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S13,2792965006),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+15],this.S14,1236535329),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S21,4129170786),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+6],this.S22,3225465664),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S23,643717713),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k],this.S24,3921069994),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S21,3593408605),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+10],this.S22,38016083),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S23,3634488961),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+4],this.S24,3889429448),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S21,568446438),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+14],this.S22,3275163606),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S23,4107603335),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+8],this.S24,1163531501),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S21,2850285829),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+2],this.S22,4243563512),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S23,1735328473),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+12],this.S24,2368359562),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S31,4294588738),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+8],this.S32,2272392833),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S33,1839030562),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+14],this.S34,4259657740),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S31,2763975236),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+4],this.S32,1272893353),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S33,4139469664),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+10],this.S34,3200236656),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S31,681279174),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k],this.S32,3936430074),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S33,3572445317),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+6],this.S34,76029189),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S31,3654602809),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+12],this.S32,3873151461),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S33,530742520),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+2],this.S34,3299628645),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k],this.S41,4096336452),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+7],this.S42,1126891415),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S43,2878612391),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+5],this.S44,4237533241),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S41,1700485571),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+3],this.S42,2399980690),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S43,4293915773),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+1],this.S44,2240044497),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S41,1873313359),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+15],this.S42,4264355552),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S43,2734768916),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+13],this.S44,1309151649),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S41,4149444226),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+11],this.S42,3174756917),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S43,718787259),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+9],this.S44,3951481745),this.a=this.AddUnsigned(this.a,this.AA),this.b=this.AddUnsigned(this.b,this.BB),this.c=this.AddUnsigned(this.c,this.CC),this.d=this.AddUnsigned(this.d,this.DD);return r=this.WordToHex(this.a)+this.WordToHex(this.b)+this.WordToHex(this.c)+this.WordToHex(this.d),r.toLowerCase()},n.x=Array(),n.S11=7,n.S12=12,n.S13=17,n.S14=22,n.S21=5,n.S22=9,n.S23=14,n.S24=20,n.S31=4,n.S32=11,n.S33=16,n.S34=23,n.S41=6,n.S42=10,n.S43=15,n.S44=21,n.RotateLeft=function(t,r){return t<<r|t>>>32-r},n.F=function(t,r,e){return t&r|~t&e},n.G=function(t,r,e){return t&e|r&~e},n.H=function(t,r,e){return t^r^e},n.I=function(t,r,e){return r^(t|~e)},n}(),Qe=globalThis&&globalThis.__extends||function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])},n(t,r)};return function(t,r){n(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),ye;(function(n){n[n.Reserved=0]="Reserved",n[n.CONNECT=1]="CONNECT",n[n.CONNACK=2]="CONNACK",n[n.SEND=3]="SEND",n[n.SENDACK=4]="SENDACK",n[n.RECV=5]="RECV",n[n.RECVACK=6]="RECVACK",n[n.PING=7]="PING",n[n.PONG=8]="PONG",n[n.DISCONNECT=9]="DISCONNECT",n[n.SUB=10]="SUB",n[n.SUBACK=11]="SUBACK"})(ye||(ye={}));var yr=function(){function n(){this.receiptEnabled=!1,this.topic=!1,this._streamOn=!1,this._streamNo=""}return Object.defineProperty(n.prototype,"streamNo",{get:function(){return this._streamNo},set:function(t){t&&t!==""?this._streamOn=!0:this._streamOn=!1,this._streamNo=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streamOn",{get:function(){return this._streamOn},enumerable:!0,configurable:!0}),n.prototype.toUint8=function(){return this.boolToInt(this.receiptEnabled)<<7|this.boolToInt(this.topic)<<3|this.boolToInt(this.streamOn)<<2},n.fromUint8=function(t){var r=new n;return r.receiptEnabled=(t>>7&1)>0,r.topic=(t>>3&1)>0,r._streamOn=(t>>2&1)>0,r},n.prototype.boolToInt=function(t){return t?1:0},n}(),$e=function(){function n(){this._packetType=ye.Reserved}return n.prototype.from=function(t){this.noPersist=t.noPersist,this.reddot=t.reddot,this.syncOnce=t.syncOnce,this.dup=t.dup,this.remainingLength=t.remainingLength,this._packetType=t._packetType},Object.defineProperty(n.prototype,"packetType",{get:function(){return this._packetType},set:function(t){this._packetType=t},enumerable:!0,configurable:!0}),n}(),la=function(n){Qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.CONNECT},enumerable:!0,configurable:!0}),t}($e),xa=function(n){Qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.reasonCode=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.CONNACK},enumerable:!0,configurable:!0}),t}($e),pa=function(n){Qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.reasonCode=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.DISCONNECT},enumerable:!0,configurable:!0}),t}($e),da=function(n){Qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.SEND},enumerable:!0,configurable:!0}),t.prototype.veritifyString=function(r){var e,o=this.uint8ArrayToString(r);return""+this.clientSeq+this.clientMsgNo+((e=this.channelID)!==null&&e!==void 0?e:"")+this.channelType+o},t.prototype.uint8ArrayToString=function(r){var e=String.fromCharCode.apply(null,Array.from(r)),o=decodeURIComponent(escape(e));return o},t}($e),P0;(function(n){n[n.START=0]="START",n[n.ING=1]="ING",n[n.END=2]="END"})(P0||(P0={}));var Di=function(n){Qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.RECV},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"veritifyString",{get:function(){var r,e,o=this.uint8ArrayToString(this.payload);return""+this.messageID+this.messageSeq+this.clientMsgNo+this.timestamp+((r=this.fromUID)!==null&&r!==void 0?r:"")+((e=this.channelID)!==null&&e!==void 0?e:"")+this.channelType+o},enumerable:!0,configurable:!0}),t.prototype.uint8ArrayToString=function(r){var e=String.fromCharCode.apply(null,Array.from(r)),o=decodeURIComponent(escape(e));return o},t}($e),Ni=function(n){Qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.PING},enumerable:!0,configurable:!0}),t}($e),ya=function(n){Qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.PONG},enumerable:!0,configurable:!0}),t}($e),Oi=function(n){Qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.SENDACK},enumerable:!0,configurable:!0}),t}($e),Ui=function(n){Qe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.RECVACK},enumerable:!0,configurable:!0}),t}($e),ga=function(n){Qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.action=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.SUB},enumerable:!0,configurable:!0}),t}($e),va=function(n){Qe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.action=0,r}return Object.defineProperty(t.prototype,"packetType",{get:function(){return ye.SUBACK},enumerable:!0,configurable:!0}),t}($e),wa=function(){function n(){this.packetEncodeMap={},this.packetDecodeMap={},this.packetEncodeMap[ye.CONNECT]=this.encodeConnect,this.packetEncodeMap[ye.SEND]=this.encodeSend,this.packetEncodeMap[ye.RECVACK]=this.encodeRecvack,this.packetEncodeMap[ye.SUB]=this.encodeSub,this.packetDecodeMap[ye.CONNACK]=this.decodeConnect,this.packetDecodeMap[ye.RECV]=this.decodeRecvPacket,this.packetDecodeMap[ye.SENDACK]=this.decodeSendackPacket,this.packetDecodeMap[ye.DISCONNECT]=this.decodeDisconnect,this.packetDecodeMap[ye.SUBACK]=this.decodeSuback}return n.prototype.encode=function(t){var r=new zt,e;if(t.packetType!==ye.PING&&t.packetType!==ye.PONG){var o=this.packetEncodeMap[t.packetType];e=o(t);var a=this.encodeFramer(t,e.length);r.writeBytes(a),r.writeBytes(e)}else{var a=this.encodeFramer(t,0);r.writeBytes(a)}return r.toUint8Array()},n.prototype.decode=function(t){var r=new As(t),e=this.decodeFramer(r);if(e.packetType===ye.PING)return new Ni;if(e.packetType===ye.PONG)return new ya;var o=this.packetDecodeMap[e.packetType];return o==null&&console.log("不支持的协议包->",e.packetType),o(e,r)},n.prototype.encodeConnect=function(t){var r=new zt;return r.writeUint8(t.version),r.writeUint8(t.deviceFlag),r.writeString(t.deviceID),r.writeString(t.uid),r.writeString(t.token),r.writeInt64(new _t(t.clientTimestamp)),r.writeString(t.clientKey),r.w},n.prototype.encodeSend=function(t){var r=new zt;r.writeByte(t.setting.toUint8()),r.writeInt32(t.clientSeq),(!t.clientMsgNo||t.clientMsgNo==="")&&(t.clientMsgNo=ma()),r.writeString(t.clientMsgNo),t.setting.streamOn&&r.writeString(t.streamNo),r.writeString(t.channelID),r.writeByte(t.channelType);var e=Uint8Array.from(r.stringToUint(mt.shared().encryption2(t.payload))),o=mt.shared().encryption(t.veritifyString(e));r.writeString(On.init(o));var a=t.setting;return a.topic&&r.writeString(t.topic||""),e&&r.writeBytes(Array.from(e)),r.w},n.prototype.encodeSub=function(t){var r=new zt;return r.writeByte(t.setting),r.writeString(t.clientMsgNo),r.writeString(t.channelID),r.writeByte(t.channelType),r.writeByte(t.action),r.writeString(t.param||""),r.w},n.prototype.decodeSuback=function(t,r){var e=new va;return e.from(t),e.clientMsgNo=r.readString(),e.channelID=r.readString(),e.channelType=r.readByte(),e.action=r.readByte(),e.reasonCode=r.readByte(),e},n.prototype.encodeRecvack=function(t){var r=new zt;return r.writeInt64(new _t(t.messageID)),r.writeInt32(t.messageSeq),r.w},n.prototype.decodeConnect=function(t,r){var e=new xa;return e.from(t),e.timeDiff=r.readInt64(),e.reasonCode=r.readByte(),e.serverKey=r.readString(),e.salt=r.readString(),e},n.prototype.decodeDisconnect=function(t,r){var e=new pa;return e.from(t),e.reasonCode=r.readByte(),e.reason=r.readString(),e},n.prototype.decodeRecvPacket=function(t,r){var e=new Di;e.from(t),e.setting=yr.fromUint8(r.readByte()),e.msgKey=r.readString(),e.fromUID=r.readString(),e.channelID=r.readString(),e.channelType=r.readByte(),e.clientMsgNo=r.readString(),e.setting.streamOn&&(e.streamNo=r.readString(),e.streamSeq=r.readInt32(),e.streamFlag=r.readByte()),e.messageID=r.readInt64().toString(),e.messageSeq=r.readInt32(),e.timestamp=r.readInt32();var o=e.setting;return o.topic&&(e.topic=r.readString()),e.payload=r.readRemaining(),e},n.prototype.decodeSendackPacket=function(t,r){var e=new Oi;return e.from(t),e.messageID=r.readInt64(),e.clientSeq=r.readInt32(),e.messageSeq=r.readInt32(),e.reasonCode=r.readByte(),e},n.prototype.encodeFramer=function(t,r){if(t.packetType===ye.PING||t.packetType===ye.PONG)return[t.packetType<<4|0];var e=new Array,o=this.encodeBool(t.dup)<<3|this.encodeBool(t.syncOnce)<<2|this.encodeBool(t.reddot)<<1|this.encodeBool(t.noPersist);e.push(t.packetType<<4|o);var a=this.encodeVariableLength(r);return e.push.apply(e,a),e},n.prototype.decodeFramer=function(t){var r=t.readByte(),e=new $e;return e.noPersist=(r&1)>0,e.reddot=(r>>1&1)>0,e.syncOnce=(r>>2&1)>0,e.dup=(r>>3&1)>0,e.packetType=r>>4,e.packetType!=ye.PING&&e.packetType!=ye.PONG&&(e.remainingLength=t.readVariableLength()),e},n.prototype.encodeBool=function(t){return t?1:0},n.prototype.encodeVariableLength=function(t){for(var r=new Array;t>0;){var e=t%128;t=Math.floor(t/128),t>0&&(e|=128),r.push(e)}return r},n}();function ma(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,r=n=="x"?t:t&3|8;return r.toString(16)})}var Et={};Object.defineProperty(Et,"__esModule",{value:!0});let Mi=new Uint8Array(32);Mi[0]=9;function re(n){var t,r=new Float64Array(16);if(n)for(t=0;t<n.length;t++)r[t]=n[t];return r}const mn=re(),Ut=re([1]),ba=re([56129,1]),Ea=re([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ba=re([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),H0=re([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),q0=re([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Sa=re([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function z0(n,t,r,e){n[t]=r>>24&255,n[t+1]=r>>16&255,n[t+2]=r>>8&255,n[t+3]=r&255,n[t+4]=e>>24&255,n[t+5]=e>>16&255,n[t+6]=e>>8&255,n[t+7]=e&255}function Ca(n,t,r,e,o){var a,u=0;for(a=0;a<o;a++)u|=n[t+a]^r[e+a];return(1&u-1>>>8)-1}function Li(n,t,r,e){return Ca(n,t,r,e,32)}function wt(n,t){var r;for(r=0;r<16;r++)n[r]=t[r]|0}function cn(n){var t,r,e=1;for(t=0;t<16;t++)r=n[t]+e+65535,e=Math.floor(r/65536),n[t]=r-e*65536;n[0]+=e-1+37*(e-1)}function Nt(n,t,r){for(var e,o=~(r-1),a=0;a<16;a++)e=o&(n[a]^t[a]),n[a]^=e,t[a]^=e}function Mt(n,t){var r,e,o,a=re(),u=re();for(r=0;r<16;r++)u[r]=t[r];for(cn(u),cn(u),cn(u),e=0;e<2;e++){for(a[0]=u[0]-65517,r=1;r<15;r++)a[r]=u[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=u[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,Nt(u,a,1-o)}for(r=0;r<16;r++)n[2*r]=u[r]&255,n[2*r+1]=u[r]>>8}function $0(n,t){var r=new Uint8Array(32),e=new Uint8Array(32);return Mt(r,n),Mt(e,t),Li(r,0,e,0)}function Pi(n){var t=new Uint8Array(32);return Mt(t,n),t[0]&1}function Un(n,t){var r;for(r=0;r<16;r++)n[r]=t[2*r]+(t[2*r+1]<<8);n[15]&=32767}function Xe(n,t,r){for(var e=0;e<16;e++)n[e]=t[e]+r[e]}function Je(n,t,r){for(var e=0;e<16;e++)n[e]=t[e]-r[e]}function ge(n,t,r){var e,o,a=0,u=0,f=0,B=0,l=0,w=0,k=0,I=0,T=0,F=0,O=0,P=0,N=0,A=0,M=0,H=0,G=0,$=0,E=0,h=0,p=0,x=0,d=0,g=0,v=0,b=0,m=0,C=0,_=0,R=0,z=0,j=r[0],U=r[1],q=r[2],K=r[3],W=r[4],V=r[5],Y=r[6],te=r[7],J=r[8],le=r[9],se=r[10],ue=r[11],ae=r[12],ee=r[13],Q=r[14],fe=r[15];e=t[0],a+=e*j,u+=e*U,f+=e*q,B+=e*K,l+=e*W,w+=e*V,k+=e*Y,I+=e*te,T+=e*J,F+=e*le,O+=e*se,P+=e*ue,N+=e*ae,A+=e*ee,M+=e*Q,H+=e*fe,e=t[1],u+=e*j,f+=e*U,B+=e*q,l+=e*K,w+=e*W,k+=e*V,I+=e*Y,T+=e*te,F+=e*J,O+=e*le,P+=e*se,N+=e*ue,A+=e*ae,M+=e*ee,H+=e*Q,G+=e*fe,e=t[2],f+=e*j,B+=e*U,l+=e*q,w+=e*K,k+=e*W,I+=e*V,T+=e*Y,F+=e*te,O+=e*J,P+=e*le,N+=e*se,A+=e*ue,M+=e*ae,H+=e*ee,G+=e*Q,$+=e*fe,e=t[3],B+=e*j,l+=e*U,w+=e*q,k+=e*K,I+=e*W,T+=e*V,F+=e*Y,O+=e*te,P+=e*J,N+=e*le,A+=e*se,M+=e*ue,H+=e*ae,G+=e*ee,$+=e*Q,E+=e*fe,e=t[4],l+=e*j,w+=e*U,k+=e*q,I+=e*K,T+=e*W,F+=e*V,O+=e*Y,P+=e*te,N+=e*J,A+=e*le,M+=e*se,H+=e*ue,G+=e*ae,$+=e*ee,E+=e*Q,h+=e*fe,e=t[5],w+=e*j,k+=e*U,I+=e*q,T+=e*K,F+=e*W,O+=e*V,P+=e*Y,N+=e*te,A+=e*J,M+=e*le,H+=e*se,G+=e*ue,$+=e*ae,E+=e*ee,h+=e*Q,p+=e*fe,e=t[6],k+=e*j,I+=e*U,T+=e*q,F+=e*K,O+=e*W,P+=e*V,N+=e*Y,A+=e*te,M+=e*J,H+=e*le,G+=e*se,$+=e*ue,E+=e*ae,h+=e*ee,p+=e*Q,x+=e*fe,e=t[7],I+=e*j,T+=e*U,F+=e*q,O+=e*K,P+=e*W,N+=e*V,A+=e*Y,M+=e*te,H+=e*J,G+=e*le,$+=e*se,E+=e*ue,h+=e*ae,p+=e*ee,x+=e*Q,d+=e*fe,e=t[8],T+=e*j,F+=e*U,O+=e*q,P+=e*K,N+=e*W,A+=e*V,M+=e*Y,H+=e*te,G+=e*J,$+=e*le,E+=e*se,h+=e*ue,p+=e*ae,x+=e*ee,d+=e*Q,g+=e*fe,e=t[9],F+=e*j,O+=e*U,P+=e*q,N+=e*K,A+=e*W,M+=e*V,H+=e*Y,G+=e*te,$+=e*J,E+=e*le,h+=e*se,p+=e*ue,x+=e*ae,d+=e*ee,g+=e*Q,v+=e*fe,e=t[10],O+=e*j,P+=e*U,N+=e*q,A+=e*K,M+=e*W,H+=e*V,G+=e*Y,$+=e*te,E+=e*J,h+=e*le,p+=e*se,x+=e*ue,d+=e*ae,g+=e*ee,v+=e*Q,b+=e*fe,e=t[11],P+=e*j,N+=e*U,A+=e*q,M+=e*K,H+=e*W,G+=e*V,$+=e*Y,E+=e*te,h+=e*J,p+=e*le,x+=e*se,d+=e*ue,g+=e*ae,v+=e*ee,b+=e*Q,m+=e*fe,e=t[12],N+=e*j,A+=e*U,M+=e*q,H+=e*K,G+=e*W,$+=e*V,E+=e*Y,h+=e*te,p+=e*J,x+=e*le,d+=e*se,g+=e*ue,v+=e*ae,b+=e*ee,m+=e*Q,C+=e*fe,e=t[13],A+=e*j,M+=e*U,H+=e*q,G+=e*K,$+=e*W,E+=e*V,h+=e*Y,p+=e*te,x+=e*J,d+=e*le,g+=e*se,v+=e*ue,b+=e*ae,m+=e*ee,C+=e*Q,_+=e*fe,e=t[14],M+=e*j,H+=e*U,G+=e*q,$+=e*K,E+=e*W,h+=e*V,p+=e*Y,x+=e*te,d+=e*J,g+=e*le,v+=e*se,b+=e*ue,m+=e*ae,C+=e*ee,_+=e*Q,R+=e*fe,e=t[15],H+=e*j,G+=e*U,$+=e*q,E+=e*K,h+=e*W,p+=e*V,x+=e*Y,d+=e*te,g+=e*J,v+=e*le,b+=e*se,m+=e*ue,C+=e*ae,_+=e*ee,R+=e*Q,z+=e*fe,a+=38*G,u+=38*$,f+=38*E,B+=38*h,l+=38*p,w+=38*x,k+=38*d,I+=38*g,T+=38*v,F+=38*b,O+=38*m,P+=38*C,N+=38*_,A+=38*R,M+=38*z,o=1,e=a+o+65535,o=Math.floor(e/65536),a=e-o*65536,e=u+o+65535,o=Math.floor(e/65536),u=e-o*65536,e=f+o+65535,o=Math.floor(e/65536),f=e-o*65536,e=B+o+65535,o=Math.floor(e/65536),B=e-o*65536,e=l+o+65535,o=Math.floor(e/65536),l=e-o*65536,e=w+o+65535,o=Math.floor(e/65536),w=e-o*65536,e=k+o+65535,o=Math.floor(e/65536),k=e-o*65536,e=I+o+65535,o=Math.floor(e/65536),I=e-o*65536,e=T+o+65535,o=Math.floor(e/65536),T=e-o*65536,e=F+o+65535,o=Math.floor(e/65536),F=e-o*65536,e=O+o+65535,o=Math.floor(e/65536),O=e-o*65536,e=P+o+65535,o=Math.floor(e/65536),P=e-o*65536,e=N+o+65535,o=Math.floor(e/65536),N=e-o*65536,e=A+o+65535,o=Math.floor(e/65536),A=e-o*65536,e=M+o+65535,o=Math.floor(e/65536),M=e-o*65536,e=H+o+65535,o=Math.floor(e/65536),H=e-o*65536,a+=o-1+37*(o-1),o=1,e=a+o+65535,o=Math.floor(e/65536),a=e-o*65536,e=u+o+65535,o=Math.floor(e/65536),u=e-o*65536,e=f+o+65535,o=Math.floor(e/65536),f=e-o*65536,e=B+o+65535,o=Math.floor(e/65536),B=e-o*65536,e=l+o+65535,o=Math.floor(e/65536),l=e-o*65536,e=w+o+65535,o=Math.floor(e/65536),w=e-o*65536,e=k+o+65535,o=Math.floor(e/65536),k=e-o*65536,e=I+o+65535,o=Math.floor(e/65536),I=e-o*65536,e=T+o+65535,o=Math.floor(e/65536),T=e-o*65536,e=F+o+65535,o=Math.floor(e/65536),F=e-o*65536,e=O+o+65535,o=Math.floor(e/65536),O=e-o*65536,e=P+o+65535,o=Math.floor(e/65536),P=e-o*65536,e=N+o+65535,o=Math.floor(e/65536),N=e-o*65536,e=A+o+65535,o=Math.floor(e/65536),A=e-o*65536,e=M+o+65535,o=Math.floor(e/65536),M=e-o*65536,e=H+o+65535,o=Math.floor(e/65536),H=e-o*65536,a+=o-1+37*(o-1),n[0]=a,n[1]=u,n[2]=f,n[3]=B,n[4]=l,n[5]=w,n[6]=k,n[7]=I,n[8]=T,n[9]=F,n[10]=O,n[11]=P,n[12]=N,n[13]=A,n[14]=M,n[15]=H}function Ye(n,t){ge(n,t,t)}function Mn(n,t){var r=re(),e;for(e=0;e<16;e++)r[e]=t[e];for(e=253;e>=0;e--)Ye(r,r),e!==2&&e!==4&&ge(r,r,t);for(e=0;e<16;e++)n[e]=r[e]}function Aa(n,t){var r=re(),e;for(e=0;e<16;e++)r[e]=t[e];for(e=250;e>=0;e--)Ye(r,r),e!==1&&ge(r,r,t);for(e=0;e<16;e++)n[e]=r[e]}function Hi(n,t,r){var e=new Uint8Array(32),o=new Float64Array(80),a,u,f=re(),B=re(),l=re(),w=re(),k=re(),I=re();for(u=0;u<31;u++)e[u]=t[u];for(e[31]=t[31]&127|64,e[0]&=248,Un(o,r),u=0;u<16;u++)B[u]=o[u],w[u]=f[u]=l[u]=0;for(f[0]=w[0]=1,u=254;u>=0;--u)a=e[u>>>3]>>>(u&7)&1,Nt(f,B,a),Nt(l,w,a),Xe(k,f,l),Je(f,f,l),Xe(l,B,w),Je(B,B,w),Ye(w,k),Ye(I,f),ge(f,l,f),ge(l,B,k),Xe(k,f,l),Je(f,f,l),Ye(B,f),Je(l,w,I),ge(f,l,ba),Xe(f,f,w),ge(l,l,f),ge(f,w,I),ge(w,B,o),Ye(B,k),Nt(f,B,a),Nt(l,w,a);for(u=0;u<16;u++)o[u+16]=f[u],o[u+32]=l[u],o[u+48]=B[u],o[u+64]=w[u];var T=o.subarray(32),F=o.subarray(16);return Mn(T,T),ge(F,F,T),Mt(n,F),0}function _a(n,t){return Hi(n,t,Mi)}var W0=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G0(n,t,r,e){for(var o=new Int32Array(16),a=new Int32Array(16),u,f,B,l,w,k,I,T,F,O,P,N,A,M,H,G,$,E,h,p,x,d,g,v,b,m,C=n[0],_=n[1],R=n[2],z=n[3],j=n[4],U=n[5],q=n[6],K=n[7],W=t[0],V=t[1],Y=t[2],te=t[3],J=t[4],le=t[5],se=t[6],ue=t[7],ae=0;e>=128;){for(h=0;h<16;h++)p=8*h+ae,o[h]=r[p+0]<<24|r[p+1]<<16|r[p+2]<<8|r[p+3],a[h]=r[p+4]<<24|r[p+5]<<16|r[p+6]<<8|r[p+7];for(h=0;h<80;h++)if(u=C,f=_,B=R,l=z,w=j,k=U,I=q,T=K,F=W,O=V,P=Y,N=te,A=J,M=le,H=se,G=ue,x=K,d=ue,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=(j>>>14|J<<32-14)^(j>>>18|J<<32-18)^(J>>>41-32|j<<32-(41-32)),d=(J>>>14|j<<32-14)^(J>>>18|j<<32-18)^(j>>>41-32|J<<32-(41-32)),g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,x=j&U^~j&q,d=J&le^~J&se,g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,x=W0[h*2],d=W0[h*2+1],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,x=o[h%16],d=a[h%16],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,$=b&65535|m<<16,E=g&65535|v<<16,x=$,d=E,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=(C>>>28|W<<32-28)^(W>>>34-32|C<<32-(34-32))^(W>>>39-32|C<<32-(39-32)),d=(W>>>28|C<<32-28)^(C>>>34-32|W<<32-(34-32))^(C>>>39-32|W<<32-(39-32)),g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,x=C&_^C&R^_&R,d=W&V^W&Y^V&Y,g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,T=b&65535|m<<16,G=g&65535|v<<16,x=l,d=N,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=$,d=E,g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,l=b&65535|m<<16,N=g&65535|v<<16,_=u,R=f,z=B,j=l,U=w,q=k,K=I,C=T,V=F,Y=O,te=P,J=N,le=A,se=M,ue=H,W=G,h%16===15)for(p=0;p<16;p++)x=o[p],d=a[p],g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=o[(p+9)%16],d=a[(p+9)%16],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,$=o[(p+1)%16],E=a[(p+1)%16],x=($>>>1|E<<32-1)^($>>>8|E<<32-8)^$>>>7,d=(E>>>1|$<<32-1)^(E>>>8|$<<32-8)^(E>>>7|$<<32-7),g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,$=o[(p+14)%16],E=a[(p+14)%16],x=($>>>19|E<<32-19)^(E>>>61-32|$<<32-(61-32))^$>>>6,d=(E>>>19|$<<32-19)^($>>>61-32|E<<32-(61-32))^(E>>>6|$<<32-6),g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,o[p]=b&65535|m<<16,a[p]=g&65535|v<<16;x=C,d=W,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[0],d=t[0],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[0]=C=b&65535|m<<16,t[0]=W=g&65535|v<<16,x=_,d=V,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[1],d=t[1],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[1]=_=b&65535|m<<16,t[1]=V=g&65535|v<<16,x=R,d=Y,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[2],d=t[2],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[2]=R=b&65535|m<<16,t[2]=Y=g&65535|v<<16,x=z,d=te,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[3],d=t[3],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[3]=z=b&65535|m<<16,t[3]=te=g&65535|v<<16,x=j,d=J,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[4],d=t[4],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[4]=j=b&65535|m<<16,t[4]=J=g&65535|v<<16,x=U,d=le,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[5],d=t[5],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[5]=U=b&65535|m<<16,t[5]=le=g&65535|v<<16,x=q,d=se,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[6],d=t[6],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[6]=q=b&65535|m<<16,t[6]=se=g&65535|v<<16,x=K,d=ue,g=d&65535,v=d>>>16,b=x&65535,m=x>>>16,x=n[7],d=t[7],g+=d&65535,v+=d>>>16,b+=x&65535,m+=x>>>16,v+=g>>>16,b+=v>>>16,m+=b>>>16,n[7]=K=b&65535|m<<16,t[7]=ue=g&65535|v<<16,ae+=128,e-=128}return e}function Gt(n,t,r){var e=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),u,f=r;for(e[0]=1779033703,e[1]=3144134277,e[2]=1013904242,e[3]=2773480762,e[4]=1359893119,e[5]=2600822924,e[6]=528734635,e[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,G0(e,o,t,r),r%=128,u=0;u<r;u++)a[u]=t[f-r+u];for(a[r]=128,r=256-128*(r<112?1:0),a[r-9]=0,z0(a,r-8,f/536870912|0,f<<3),G0(e,o,a,r),u=0;u<8;u++)z0(n,8*u,e[u],o[u]);return 0}function bn(n,t){var r=re(),e=re(),o=re(),a=re(),u=re(),f=re(),B=re(),l=re(),w=re();Je(r,n[1],n[0]),Je(w,t[1],t[0]),ge(r,r,w),Xe(e,n[0],n[1]),Xe(w,t[0],t[1]),ge(e,e,w),ge(o,n[3],t[3]),ge(o,o,Ba),ge(a,n[2],t[2]),Xe(a,a,a),Je(u,e,r),Je(f,a,o),Xe(B,a,o),Xe(l,e,r),ge(n[0],u,f),ge(n[1],l,B),ge(n[2],B,f),ge(n[3],u,l)}function j0(n,t,r){var e;for(e=0;e<4;e++)Nt(n[e],t[e],r)}function gr(n,t){var r=re(),e=re(),o=re();Mn(o,t[2]),ge(r,t[0],o),ge(e,t[1],o),Mt(n,e),n[31]^=Pi(r)<<7}function qi(n,t,r){var e,o;for(wt(n[0],mn),wt(n[1],Ut),wt(n[2],Ut),wt(n[3],mn),o=255;o>=0;--o)e=r[o/8|0]>>(o&7)&1,j0(n,t,e),bn(t,n),bn(n,n),j0(n,t,e)}function vr(n,t){var r=[re(),re(),re(),re()];wt(r[0],H0),wt(r[1],q0),wt(r[2],Ut),ge(r[3],H0,q0),qi(n,r,t)}var un=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ln(n,t){var r,e,o,a;for(e=63;e>=32;--e){for(r=0,o=e-32,a=e-12;o<a;++o)t[o]+=r-16*t[e]*un[o-(e-32)],r=t[o]+128>>8,t[o]-=r*256;t[o]+=r,t[e]=0}for(r=0,o=0;o<32;o++)t[o]+=r-(t[31]>>4)*un[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=r*un[o];for(e=0;e<32;e++)t[e+1]+=t[e]>>8,n[e]=t[e]&255}function jt(n){var t=new Float64Array(64),r;for(r=0;r<64;r++)t[r]=n[r];for(r=0;r<64;r++)n[r]=0;Ln(n,t)}function Ia(n,t,r,e){var o=new Uint8Array(64),a=new Uint8Array(64),u,f,B=new Float64Array(64),l=[re(),re(),re(),re()];for(u=0;u<r;u++)n[64+u]=t[u];for(u=0;u<32;u++)n[32+u]=e[u];for(Gt(a,n.subarray(32),r+32),jt(a),vr(l,a),gr(n,l),u=0;u<32;u++)n[u+32]=e[32+u];for(Gt(o,n,r+64),jt(o),u=0;u<64;u++)B[u]=0;for(u=0;u<32;u++)B[u]=a[u];for(u=0;u<32;u++)for(f=0;f<32;f++)B[u+f]+=o[u]*e[f];return Ln(n.subarray(32),B),r+64}function Fa(n,t,r,e,o){var a=new Uint8Array(64),u=new Uint8Array(64),f,B,l=new Float64Array(64),w=[re(),re(),re(),re()];for(n[0]=254,f=1;f<32;f++)n[f]=255;for(f=0;f<32;f++)n[32+f]=e[f];for(f=0;f<r;f++)n[64+f]=t[f];for(f=0;f<64;f++)n[r+64+f]=o[f];for(Gt(u,n,r+128),jt(u),vr(w,u),gr(n,w),f=0;f<32;f++)n[f+32]=e[32+f];for(Gt(a,n,r+64),jt(a),f=0;f<64;f++)n[r+64+f]=0;for(f=0;f<64;f++)l[f]=0;for(f=0;f<32;f++)l[f]=u[f];for(f=0;f<32;f++)for(B=0;B<32;B++)l[f+B]+=a[f]*e[B];return Ln(n.subarray(32,r+64),l),r+64}function En(n,t,r,e,o){for(var a=new Uint8Array(64),u=[re(),re(),re(),re()],f=0;f<32;f++)a[f]=e[f];a[0]&=248,a[31]&=127,a[31]|=64,vr(u,a),gr(a.subarray(32),u);var B=a[63]&128,l;return o?l=Fa(n,t,r,a,o):l=Ia(n,t,r,a),n[63]|=B,l}function ka(n,t){var r=re(),e=re(),o=re(),a=re(),u=re(),f=re(),B=re();return wt(n[2],Ut),Un(n[1],t),Ye(o,n[1]),ge(a,o,Ea),Je(o,o,n[2]),Xe(a,n[2],a),Ye(u,a),Ye(f,u),ge(B,f,u),ge(r,B,o),ge(r,r,a),Aa(r,r),ge(r,r,o),ge(r,r,a),ge(r,r,a),ge(n[0],r,a),Ye(e,n[0]),ge(e,e,a),$0(e,o)&&ge(n[0],n[0],Sa),Ye(e,n[0]),ge(e,e,a),$0(e,o)?-1:(Pi(n[0])===t[31]>>7&&Je(n[0],mn,n[0]),ge(n[3],n[0],n[1]),0)}function Ta(n,t,r,e){var o,a,u=new Uint8Array(32),f=new Uint8Array(64),B=[re(),re(),re(),re()],l=[re(),re(),re(),re()];if(a=-1,r<64||ka(l,e))return-1;for(o=0;o<r;o++)n[o]=t[o];for(o=0;o<32;o++)n[o+32]=e[o];if(Gt(f,n,r),jt(f),qi(B,l,f),vr(l,t.subarray(32)),bn(B,l),gr(u,B),r-=64,Li(t,0,u,0)){for(o=0;o<r;o++)n[o]=0;return-1}for(o=0;o<r;o++)n[o]=t[o+64];return a=r,a}function Ra(n){var t=new Uint8Array(32),r=re(),e=re(),o=re();return Un(r,n),Xe(e,r,Ut),Je(o,r,Ut),Mn(e,e),ge(e,e,o),Mt(t,e),t}function zi(n,t,r,e){var o=Ra(e);return o[31]|=t[63]&128,t[63]&=127,Ta(n,t,r,o)}function bt(...n){var t,r;for(r=0;r<arguments.length;r++)if((t=Object.prototype.toString.call(arguments[r]))!=="[object Uint8Array]")throw new TypeError("unexpected type "+t+", use Uint8Array")}function Da(n,t){if(bt(t,n),t.length!==32)throw new Error("wrong public key length");if(n.length!==32)throw new Error("wrong secret key length");var r=new Uint8Array(32);return Hi(r,n,t),r}var Na=Et.sharedKey=Da;function Oa(n,t,r){if(bt(t,n),n.length!==32)throw new Error("wrong secret key length");if(r){if(bt(r),r.length!==64)throw new Error("wrong random data length");var e=new Uint8Array(128+t.length);return En(e,t,t.length,n,r),new Uint8Array(e.subarray(0,64+t.length))}else{var o=new Uint8Array(64+t.length);return En(o,t,t.length,n),o}}Et.signMessage=Oa;function Ua(n,t){if(bt(t,n),n.length!==32)throw new Error("wrong public key length");var r=new Uint8Array(t.length),e=zi(r,t,t.length,n);if(e<0)return null;for(var o=new Uint8Array(e),a=0;a<o.length;a++)o[a]=r[a];return o}Et.openMessage=Ua;function Ma(n,t,r){if(bt(n,t),n.length!==32)throw new Error("wrong secret key length");if(r&&(bt(r),r.length!==64))throw new Error("wrong random data length");var e=new Uint8Array((r?128:64)+t.length);En(e,t,t.length,n,r);for(var o=new Uint8Array(64),a=0;a<o.length;a++)o[a]=e[a];return o}Et.sign=Ma;function La(n,t,r){if(bt(t,r,n),r.length!==64)throw new Error("wrong signature length");if(n.length!==32)throw new Error("wrong public key length");var e=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length),a;for(a=0;a<64;a++)e[a]=r[a];for(a=0;a<t.length;a++)e[a+64]=t[a];return zi(o,e,e.length,n)>=0}Et.verify=La;function Pa(n){if(bt(n),n.length!==32)throw new Error("wrong seed length");for(var t=new Uint8Array(32),r=new Uint8Array(32),e=0;e<32;e++)t[e]=n[e];return _a(r,t),t[0]&=248,t[31]&=127,t[31]|=64,r[31]&=127,{public:r,private:t}}var Ha=Et.generateKeyPair=Pa;Et.default={};var Bn=function(){function n(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=n.EMPTY,t&&n.isGuid(t)&&(this.value=t)}return n.isGuid=function(t){var r=t.toString();return t&&(t instanceof n||n.validator.test(r))},n.create=function(){return new n([n.gen(2),n.gen(1),n.gen(1),n.gen(1),n.gen(3)].join("-"))},n.createEmpty=function(){return new n("emptyguid")},n.parse=function(t){return new n(t)},n.raw=function(){return[n.gen(2),n.gen(1),n.gen(1),n.gen(1),n.gen(3)].join("-")},n.gen=function(t){for(var r="",e=0;e<t;e++)r+=((1+Math.random())*65536|0).toString(16).substring(1);return r},n.prototype.equals=function(t){return n.isGuid(t)&&this.value===t.toString()},n.prototype.isEmpty=function(){return this.value===n.EMPTY},n.prototype.toString=function(){return this.value},n.prototype.toJSON=function(){return{value:this.value}},n.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),n.EMPTY="00000000-0000-0000-0000-000000000000",n}(),K0=0,qa=function(){function n(t){this.destory=!1,K0++,this.addr=t,this.ws=new WebSocket(this.addr),this.ws.binaryType="arraybuffer"}return n.prototype.onopen=function(t){var r=this;this.ws.onopen=function(){console.log("onopen---->"),!r.destory&&t&&t()}},n.prototype.onmessage=function(t){var r=this;this.ws.onmessage=function(e){r.destory||t&&t(e.data)}},n.prototype.onclose=function(t){var r=this;this.ws.onclose=function(e){console.log("onclose--->"),!r.destory&&t&&t(e)}},n.prototype.onerror=function(t){var r=this;this.ws.onerror=function(e){console.log("onerror--->"),!r.destory&&t&&t(e)}},n.prototype.send=function(t){this.ws.send(t)},n.prototype.close=function(){console.log("close....",K0),this.destory=!0,this.ws.close()},n}(),ke;(function(n){n[n.Disconnect=0]="Disconnect",n[n.Connected=1]="Connected",n[n.Connecting=2]="Connecting",n[n.ConnectFail=3]="ConnectFail",n[n.ConnectKick=4]="ConnectKick"})(ke||(ke={}));var za=function(){function n(){this.status=ke.Disconnect,this.connectStatusListeners=new Array,this.lockReconnect=!1,this.pongRespTimeoutInterval=3e3,this.needReconnect=!0,this.pingRetryCount=0,this.pingMaxRetryCount=3,this.tempBufferData=new Array}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.stopHeart=function(){this.heartTimer&&(clearInterval(this.heartTimer),this.heartTimer=null)},n.prototype.stopReconnectTimer=function(){this.reConnectTimeout&&(clearTimeout(this.reConnectTimeout),this.reConnectTimeout=null)},n.prototype.restHeart=function(){var t=this,r=this;this.heartTimer&&clearInterval(this.heartTimer),this.pongRespTimer&&clearTimeout(this.pongRespTimer),this.heartTimer=setInterval(function(){r.sendPing(),r.pingRetryCount>r.pingMaxRetryCount?(console.log("ping没有响应，断开连接。"),r.onlyDisconnect(),t.status===ke.Disconnect&&r.connect()):r.pingRetryCount>1&&console.log("第"+r.pingRetryCount+"次，尝试ping。")},oe.shared().config.heartbeatInterval)},n.prototype.connect=function(){this.needReconnect=!0,this.onlyConnect()},n.prototype.onlyConnect=function(){var t=this;if(this.status===ke.Connecting){console.log("已在连接中，不再进行连接.");return}if(oe.shared().config.provider.connectAddrCallback!=null){var r=oe.shared().config.provider.connectAddrCallback;r(function(e){t.connectWithAddr(e)})}else this.connectWithAddr(oe.shared().config.addr)},n.prototype.connectWithAddr=function(t){var r=this;this.status=ke.Connecting,this.ws=new qa(t);var e=this;this.ws.onopen(function(){var o;console.log("onopen..."),e.tempBufferData=new Array;var a=Uint8Array.from(e.stringToUint(Bn.create().toString().replace(/-/g,""))),u=Ha(a),f=$t.Buffer.from(u.public).toString("base64");e.dhPrivateKey=u.private;var B=new la;B.clientKey=f,B.version=oe.shared().config.protoVersion,B.deviceFlag=oe.shared().config.deviceFlag;var l=Bn.create().toString().replace(/-/g,"");B.deviceID=l+"W",B.clientTimestamp=new Date().getTime(),B.uid=oe.shared().config.uid||"",B.token=oe.shared().config.token||"";var w=e.getProto().encode(B);(o=e.ws)===null||o===void 0||o.send(w)}),this.ws.onmessage(function(o){e.unpacket(new Uint8Array(o),function(a){if(a.length>0)for(var u=0,f=a;u<f.length;u++){var B=f[u];e.onPacket(new Uint8Array(B))}})}),this.ws.onclose(function(o){console.log("连接关闭！",o),r.status!==ke.Disconnect&&(r.status=ke.Disconnect,r.notifyConnectStatusListeners(0)),e.needReconnect&&r.reConnect()}),this.ws.onerror(function(o){console.log("连接出错！",o),r.status!==ke.Disconnect&&(r.status=ke.Disconnect,r.notifyConnectStatusListeners(0)),e.needReconnect&&r.reConnect()})},n.prototype.stringToUint=function(t){for(var r=unescape(encodeURIComponent(t)),e=r.split(""),o=new Array,a=0;a<e.length;a++)o.push(e[a].charCodeAt(0));return o},n.prototype.connected=function(){return this.status==ke.Connected},n.prototype.disconnect=function(){this.needReconnect=!1,console.log("断开不再重连"),this.onlyDisconnect()},n.prototype.onlyDisconnect=function(){this.stopHeart(),this.stopReconnectTimer(),this.ws&&this.ws.close(),this.status=ke.Disconnect},n.prototype.reConnect=function(){var t=this;if(!this.lockReconnect){console.log("开始重连"),this.lockReconnect=!0,this.reConnectTimeout&&clearTimeout(this.reConnectTimeout);var r=this;this.reConnectTimeout=setTimeout(function(){t.ws&&(t.ws.close(),t.ws=void 0),r.onlyConnect(),t.lockReconnect=!1},3e3)}},n.prototype.wssend=function(t){var r;(r=this.ws)===null||r===void 0||r.send(this.getProto().encode(t))},n.prototype.unpacket=function(t,r){var e;try{(e=this.tempBufferData).push.apply(e,Array.from(t));var o=void 0,a=void 0,u=new Array;do o=this.tempBufferData.length,this.tempBufferData=this.unpackOne(this.tempBufferData,function(f){u.push(f)}),a=this.tempBufferData.length,a>0&&console.log("有粘包！-->",this.tempBufferData),u.length>0&&r(u);while(o!=a&&a>=1)}catch(f){console.log("解码数据异常---->",f),this.reConnect()}},n.prototype.unpackOne=function(t,r){var e=t[0],o=e>>4;if(o==ye.PONG)return r([e]),t.slice(1);var a=t.length,u=1,f=u,B=0,l=0,w=1,k=!1,I=!0;do{if(f>a-1){I=!1;break}B=t[f++],l+=(B&127)*w,w*=128,k=(B&128)!=0}while(k);if(!I)return t;var T=f-u;if(u+T+l>a)return console.log("还有包未到，存入缓存！！！"),t;if(u+T+l==a)return r(t),[];var F=u+T+l;return r(t.slice(0,F)),t.slice(F,a-F)},n.prototype.onPacket=function(t){var r=this.getProto().decode(t);if(r.packetType===ye.CONNACK){var e=r;if(e.reasonCode===1){console.log("连接成功！"),oe.shared().channelManager.reSubscribe(),this.status=ke.Connected,this.pingRetryCount=0,this.restHeart();var o=Uint8Array.from($t.Buffer.from(e.serverKey,"base64")),a=Na(this.dhPrivateKey,o),u=$t.Buffer.from(a).toString("base64"),f=On.init(u);mt.shared().aesKey=f.substring(0,16),e.salt&&e.salt.length>16?mt.shared().aesIV=e.salt.substring(0,16):mt.shared().aesIV=e.salt,oe.shared().chatManager.flushSendingQueue()}else console.log("连接失败！错误->",e.reasonCode),this.status=ke.ConnectFail,this.needReconnect=!1;this.notifyConnectStatusListeners(e.reasonCode)}else if(r.packetType===ye.PONG)this.pingRetryCount=0;else if(r.packetType===ye.DISCONNECT){var B=r;console.log("连接被踢->",B),this.status=ke.ConnectKick,this.needReconnect=!1,this.notifyConnectStatusListeners(B.reasonCode)}else if(r.packetType===ye.SUBACK){var l=r;console.log("订阅回执-->",l.action),oe.shared().channelManager.handleSuback(l)}oe.shared().chatManager.onPacket(r)},n.prototype.sendPing=function(){this.pingRetryCount++,this.sendPacket(new Ni)},n.prototype.sendPacket=function(t){var r;(r=this.ws)===null||r===void 0||r.send(this.getProto().encode(t))},n.prototype.getProto=function(){return oe.shared().config.proto},n.prototype.addConnectStatusListener=function(t){this.connectStatusListeners.push(t)},n.prototype.removeConnectStatusListener=function(t){for(var r=this.connectStatusListeners.length,e=0;e<r;e++)if(t===this.connectStatusListeners[e]){this.connectStatusListeners.splice(e,1);return}},n.prototype.notifyConnectStatusListeners=function(t){var r=this;this.connectStatusListeners&&this.connectStatusListeners.forEach(function(e){e&&e(r.status,t)})},n.prototype.sendRecvackPacket=function(t){var r,e=new Ui;e.messageID=t.messageID,e.messageSeq=t.messageSeq,(r=this.ws)===null||r===void 0||r.send(this.getProto().encode(e))},n.prototype.close=function(){var t;(t=this.ws)===null||t===void 0||t.close()},n}(),Ft=globalThis&&globalThis.__extends||function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])},n(t,r)};return function(t,r){n(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),If=1,Ff=2,V0=7,ht=function(){function n(t,r){this.channelID=t,this.channelType=r}return n.prototype.getChannelKey=function(){return this.channelID+"-"+this.channelType},n.fromChannelKey=function(t){var r=t.split("-");if(r.length>=2){var e=parseInt(r[1],0);return new n(r[0],e)}},n.prototype.isEqual=function(t){return this.channelID===t.channelID&&this.channelType===t.channelType},n}();function X0(n){var t=0;if(n){var r=String.fromCharCode.apply(null,Array.from(n)),e=decodeURIComponent(escape(r)),o=JSON.parse(e);o&&(t=o.type)}var a=Ki.shared().getMessageContent(t);return a.decode(n),a}var $a=function(){function n(){}return n}(),Kt;(function(n){n[n.Wait=0]="Wait",n[n.Normal=1]="Normal",n[n.Fail=2]="Fail"})(Kt||(Kt={}));var ar=function(){function n(t){this.header=new $a,this.setting=new yr,this.voicePlaying=!1,this.voiceReaded=!1,this.isDeleted=!1,this.remoteExtra=new $i,t&&(this.header.reddot=t.reddot,this.header.dup=t.dup,this.header.noPersist=t.noPersist,this.header.syncOnce=t.syncOnce,this.setting=t.setting,this.messageID=t.messageID,this.messageSeq=t.messageSeq,this.clientMsgNo=t.clientMsgNo,this.streamNo=t.streamNo,this.streamFlag=t.streamFlag,this.streamSeq=t.streamSeq,this.fromUID=t.fromUID,this.channel=new ht(t.channelID,t.channelType),this.timestamp=t.timestamp,this.content=X0(t.payload),this.status=Kt.Normal)}return n.fromSendPacket=function(t,r){var e=new n;return e.header.reddot=!0,e.setting=t.setting,e.clientMsgNo=t.clientMsgNo,e.streamNo=t.streamNo,e.clientSeq=t.clientSeq,e.fromUID=t.fromUID,e.channel=new ht(t.channelID,t.channelType),r?e.content=r:e.content=X0(t.payload),e.timestamp=parseInt((new Date().getTime()/1e3).toString()),e.status=Kt.Wait,e},Object.defineProperty(n.prototype,"send",{get:function(){return this.fromUID===oe.shared().config.uid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentType",{get:function(){return this.content.contentType},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streamOn",{get:function(){return!!(this.streamNo&&this.streamNo!=="")},enumerable:!0,configurable:!0}),n}(),$i=function(){function n(){this.readedCount=0,this.unreadCount=0,this.revoke=!1,this.editedAt=0,this.isEdit=!1,this.extra={},this.extraVersion=0}return n}(),Wa=function(){function n(){}return n}(),Bt=function(){function n(){}return Object.defineProperty(n.prototype,"contentType",{get:function(){return this._contentType},set:function(t){this._contentType=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"conversationDigest",{get:function(){return this._conversationDigest},set:function(t){this._conversationDigest=t},enumerable:!0,configurable:!0}),n.prototype.encode=function(){var t=this.encodeJSON();if(t.type=this.contentType,this.mention){var r={};this.mention.all&&(r.all=1),this.mention.uids&&(r.uids=this.mention.uids),t.mention=r}this.reply&&(t.reply=this.reply.encode());var e=JSON.stringify(t);return Wi(e)},n.prototype.decode=function(t){var r=Gi(t),e=JSON.parse(r);this.contentObj=e,e&&(this._contentType=e.type);var o=e.mention;if(o){var a=new Wa;a.all=o.all===1,o.uids&&(a.uids=o.uids),this.mention=a}var u=e.reply;if(u){var f=new Ka;f.decode(u),this.reply=f}this.visibles=e.visibles,this.invisibles=e.invisibles,this.decodeJSON(e)},n.prototype.isVisiable=function(t){if(this.visibles&&this.visibles.length>0){var r=this.visibles.includes(t);if(!r)return!1}if(this.invisibles&&this.invisibles.length>0){var r=this.invisibles.includes(t);if(r)return!1}return!0},n.prototype.decodeJSON=function(t){},n.prototype.encodeJSON=function(){return{}},n}();function Wi(n){for(var t=unescape(encodeURIComponent(n)),r=new Array,e=0,o=t.length;e<o;++e)r.push(t.charCodeAt(e));var a=new Uint8Array(r);return a}function Gi(n){var t=String.fromCharCode.apply(null,Array.from(n)),r=decodeURIComponent(escape(t));return r}var ji=function(n){Ft(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.dealFile=function(){},t}(Bt),Ga=function(){function n(){this.online=!1,this.lastOffline=0}return n}(),Y0=function(){function n(){this._logicUnread=0,this.timestamp=0,this._reminders=new Array,this.simpleReminders=new Array}return Object.defineProperty(n.prototype,"channelInfo",{get:function(){return oe.shared().channelManager.getChannelInfo(this.channel)},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(t){return t?t.channel.getChannelKey()===this.channel.getChannelKey():!1},Object.defineProperty(n.prototype,"isMentionMe",{get:function(){return this._isMentionMe===void 0&&this.reloadIsMentionMe(),this._isMentionMe},set:function(t){this._isMentionMe=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"remoteExtra",{get:function(){return this._remoteExtra?this._remoteExtra:(this._remoteExtra=new ja,this._remoteExtra.channel=this.channel,this._remoteExtra)},set:function(t){this._remoteExtra=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"logicUnread",{get:function(){return this.remoteExtra.browseTo>0&&this.lastMessage&&this.remoteExtra.browseTo<=this.lastMessage.messageSeq?this.lastMessage.messageSeq-this.remoteExtra.browseTo:this.unread},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reminders",{get:function(){return this._reminders},set:function(t){this._reminders=t;var r=new Array;if(t&&t.length>0)for(var e=0,o=t;e<o.length;e++){var a=o[e];if(!a.done){for(var u=!1,f=0,B=0,l=r;B<l.length;B++){var w=l[B];if(a.reminderType===w.reminderType){u=!0;break}f++}u?r[f]=a:r.push(a)}}this.simpleReminders=r},enumerable:!0,configurable:!0}),n.prototype.reloadIsMentionMe=function(){if(this.lastMessage&&this.lastMessage.content){var t=this.lastMessage.content.mention;t&&(t.all&&(this._isMentionMe=!0),t.uids&&t.uids.includes(oe.shared().config.uid||"")&&(this._isMentionMe=!0))}this._isMentionMe||(this._isMentionMe=!1)},n}(),ja=function(){function n(){}return n}(),Ka=function(){function n(){}return n.prototype.encode=function(){var t={message_id:this.messageID,message_seq:this.messageSeq,from_uid:this.fromUID,from_name:this.fromName};return this.rootMessageID&&(t.root_message_id=this.rootMessageID),this.content&&(t.payload=JSON.parse(Gi(this.content.encode()))),t},n.prototype.decode=function(t){if(this.messageID=t.message_id,this.messageSeq=t.message_seq,this.fromUID=t.from_uid,this.fromName=t.from_name,this.rootMessageID=t.root_message_id,t.payload){var r=t.payload.type,e=oe.shared().getMessageContent(r),o=Wi(JSON.stringify(t.payload));e.decode(o),this.content=e}},n}(),J0;(function(n){n[n.ReminderTypeMentionMe=1]="ReminderTypeMentionMe",n[n.ReminderTypeApplyJoinGroup=2]="ReminderTypeApplyJoinGroup"})(J0||(J0={}));var Q0;(function(n){n[n.Down=0]="Down",n[n.Up=1]="Up"})(Q0||(Q0={}));var Ki=function(){function n(){this.contentMap=new Map}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.register=function(t,r){this.contentMap.set(t,r)},n.prototype.registerFactor=function(t){this.factor=t},n.prototype.getMessageContent=function(t){var r=this.contentMap.get(t);if(r){var e=r(t);if(e)return e}var o=this.factor(t);return o||new Xa},n}(),Z0=function(n){Ft(t,n);function t(r){var e=n.call(this)||this;return e.text=r,e}return Object.defineProperty(t.prototype,"conversationDigest",{get:function(){return this.text||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentType",{get:function(){return xt.text},enumerable:!0,configurable:!0}),t.prototype.decodeJSON=function(r){this.text=r.content},t.prototype.encodeJSON=function(){return{content:this.text||""}},t}(Bt);(function(n){Ft(t,n);function t(r){var e=n.call(this)||this;return e.data=r,e}return Object.defineProperty(t.prototype,"contentType",{get:function(){return xt.stream},enumerable:!0,configurable:!0}),t.prototype.decodeJSON=function(r){var e=r.data;e&&e.length>0&&(this.data=Buffer.from(e,"base64"))},t.prototype.encodeJSON=function(){var r=Buffer.from(this.data).toString("base64");return{data:r}},t})(Bt);var Va=function(n){Ft(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"contentType",{get:function(){return xt.signalMessage},enumerable:!0,configurable:!0}),t}(Bt),Xa=function(n){Ft(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"contentType",{get:function(){return xt.unknown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conversationDigest",{get:function(){return"[未知消息]"},enumerable:!0,configurable:!0}),t.prototype.decodeJSON=function(r){this.realContentType=r.type},t}(Bt),Ya=function(n){Ft(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.decodeJSON=function(r){this.content=r},Object.defineProperty(t.prototype,"conversationDigest",{get:function(){return this.displayText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){var r=this.content.extra,e=this.content.content;if(r){var o=r;if(o&&o.length>0)for(var a=0;a<=o.length-1;a++){var u=o[a],f=u.name||"";e=e.replace("{"+a+"}",f)}}return e},enumerable:!0,configurable:!0}),t}(Bt),Ja=function(n){Ft(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.decodeJSON=function(r){this.cmd=r.cmd,this.param=r.param},Object.defineProperty(t.prototype,"contentType",{get:function(){return xt.cmd},enumerable:!0,configurable:!0}),t}(Bt),Qa=function(){function n(){}return n}(),Ve;(function(n){n[n.subscribe=0]="subscribe",n[n.unsubscribe=1]="unsubscribe"})(Ve||(Ve={}));var ei;(function(n){n[n.unknown=0]="unknown",n[n.success=1]="success",n[n.authFail=2]="authFail",n[n.subscriberNotExist=3]="subscriberNotExist",n[n.reasonInBlacklist=4]="reasonInBlacklist",n[n.reasonChannelNotExist=5]="reasonChannelNotExist",n[n.reasonUserNotOnNode=6]="reasonUserNotOnNode",n[n.reasonSenderOffline=7]="reasonSenderOffline",n[n.msgKeyError=8]="msgKeyError",n[n.payloadDecodeError=9]="payloadDecodeError",n[n.forwardSendPacketError=10]="forwardSendPacketError",n[n.notAllowSend=11]="notAllowSend",n[n.connectKick=12]="connectKick",n[n.notInWhitelist=13]="notInWhitelist",n[n.queryTokenError=14]="queryTokenError",n[n.systemError=15]="systemError",n[n.channelIDError=16]="channelIDError",n[n.nodeMatchError=17]="nodeMatchError",n[n.nodeNotMatch=18]="nodeNotMatch",n[n.ban=19]="ban",n[n.notSupportHeader=20]="notSupportHeader",n[n.clientKeyIsEmpty=21]="clientKeyIsEmpty",n[n.rateLimit=22]="rateLimit",n[n.notSupportChannelType=23]="notSupportChannelType"})(ei||(ei={}));var ti=function(){function n(t,r,e){this.sending=!1,this.handleOk=!1,this.listener=r,this.options=e,this.action=t}return n}(),ri=function(){function n(t){this.listenerStates=new Array,this.channel=t}return n}(),Za=function(){function n(){}return n}(),ef=globalThis&&globalThis.__extends||function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])},n(t,r)};return function(t,r){n(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),Sn;(function(n){n[n.wait=0]="wait",n[n.success=1]="success",n[n.processing=2]="processing",n[n.fail=3]="fail",n[n.suspend=4]="suspend",n[n.cancel=5]="cancel"})(Sn||(Sn={}));var tf=function(){function n(){this.taskMap=new Map,this.listeners=new Array}return n.prototype.addTask=function(t){var r=this;this.taskMap.set(t.id,t),t.addListener(function(){r.notifyListeners(t)}),t.start()},n.prototype.removeTask=function(t){var r=this.taskMap.get(t);r&&(r.cancel(),this.taskMap.delete(t))},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyListeners=function(t){this.listeners&&this.listeners.forEach(function(r){r(t)})},n}(),rf=function(){function n(){}return n.prototype.start=function(){},n.prototype.suspend=function(){},n.prototype.resume=function(){},n.prototype.cancel=function(){},n.prototype.update=function(){this.listeners&&this.listeners.forEach(function(t){t()})},n.prototype.progress=function(){return 0},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},Object.defineProperty(n.prototype,"listeners",{get:function(){return this._listeners||(this._listeners=new Array),this._listeners},enumerable:!0,configurable:!0}),n}(),nf=function(n){ef(t,n);function t(r){var e=n.call(this)||this;return e.id=r.clientMsgNo,e.message=r,e}return t}(rf),Qt=globalThis&&globalThis.__awaiter||function(n,t,r,e){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(w){try{l(e.next(w))}catch(k){u(k)}}function B(w){try{l(e.throw(w))}catch(k){u(k)}}function l(w){w.done?a(w.value):o(w.value).then(f,B)}l((e=e.apply(n,t||[])).next())})},Zt=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(l){return function(w){return B([l,w])}}function B(l){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(n,r)}catch(w){l=[6,w],o=0}finally{e=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Vi=function(){function n(){var t=this;this.cmdListeners=new Array,this.listeners=new Array,this.sendingQueues=new Map,this.sendStatusListeners=new Array,this.clientSeq=0,oe.shared().taskManager&&oe.shared().taskManager.addListener(function(r){if(r.status===Sn.success&&r instanceof nf){var e=r,o=t.sendingQueues.get(e.message.clientSeq);o&&(o.payload=e.message.content.encode(),oe.shared().connectManager.sendPacket(o))}})}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.onPacket=function(t){return Qt(this,void 0,void 0,function(){var r,e,o,a,u;return Zt(this,function(f){if(t instanceof Di){if(r=t,e=mt.shared().encryption(r.veritifyString),o=On.init(e),o!==r.msgKey)return console.log("非法的消息，期望msgKey:"+r.msgKey+" 实际msgKey:"+o+" 忽略此消息！！"),[2];if(r.payload=mt.shared().decryption(r.payload),a=new ar(r),this.sendRecvackPacket(r),a.contentType===xt.cmd)return this.notifyCMDListeners(a),[2];this.notifyMessageListeners(a),oe.shared().channelManager.notifySubscribeIfNeed(a)}else t instanceof Oi&&(u=t,this.sendingQueues.delete(u.clientSeq),this.notifyMessageStatusListeners(u));return[2]})})},n.prototype.syncMessages=function(t,r){return Qt(this,void 0,void 0,function(){return Zt(this,function(e){if(!oe.shared().config.provider.syncMessagesCallback)throw new Error("没有设置WKSDK.shared().config.provider.syncMessagesCallback");return[2,oe.shared().config.provider.syncMessagesCallback(t,r)]})})},n.prototype.syncMessageExtras=function(t,r){return Qt(this,void 0,void 0,function(){return Zt(this,function(e){if(!oe.shared().config.provider.syncMessageExtraCallback)throw new Error("没有设置WKSDK.shared().config.provider.syncMessageExtraCallback");return[2,oe.shared().config.provider.syncMessageExtraCallback(t,r,100)]})})},n.prototype.sendRecvackPacket=function(t){var r=new Ui;r.noPersist=t.noPersist,r.syncOnce=t.syncOnce,r.reddot=t.reddot,r.messageID=t.messageID,r.messageSeq=t.messageSeq,oe.shared().connectManager.sendPacket(r)},n.prototype.send=function(t,r,e){return Qt(this,void 0,void 0,function(){var o,a,u;return Zt(this,function(f){return o=this.getSendPacket(t,r,e),this.sendingQueues.set(o.clientSeq,o),a=ar.fromSendPacket(o,t),t instanceof ji?(u=oe.shared().config.provider.messageUploadTask(a),u&&oe.shared().taskManager.addTask(u)):oe.shared().connectManager.sendPacket(o),this.notifyMessageListeners(a),[2,a]})})},n.prototype.getSendPacket=function(t,r,e){e===void 0&&(e=new yr);var o=new da;return o.setting=e,o.reddot=!0,o.clientMsgNo=Bn.create().toString().replace(/-/gi,"")+"3",o.streamNo=e.streamNo,o.clientSeq=this.getClientSeq(),o.fromUID=oe.shared().config.uid||"",o.channelID=r.channelID,o.channelType=r.channelType,o.payload=t.encode(),o},n.prototype.getClientSeq=function(){return++this.clientSeq},n.prototype.notifyCMDListeners=function(t){this.cmdListeners&&this.cmdListeners.forEach(function(r){r&&r(t)})},n.prototype.addCMDListener=function(t){this.cmdListeners.push(t)},n.prototype.removeCMDListener=function(t){for(var r=this.cmdListeners.length,e=0;e<r;e++)if(t===this.cmdListeners[e]){this.cmdListeners.splice(e,1);return}},n.prototype.addMessageListener=function(t){this.listeners.push(t)},n.prototype.removeMessageListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyMessageListeners=function(t){this.listeners&&this.listeners.forEach(function(r){r&&r(t)})},n.prototype.notifyMessageStatusListeners=function(t){this.sendStatusListeners&&this.sendStatusListeners.forEach(function(r){r&&r(t)})},n.prototype.addMessageStatusListener=function(t){this.sendStatusListeners.push(t)},n.prototype.removeMessageStatusListener=function(t){for(var r=this.sendStatusListeners.length,e=0;e<r;e++)if(t===this.sendStatusListeners[e]){this.sendStatusListeners.splice(e,1);return}},n.prototype.flushSendingQueue=function(){if(!(this.sendingQueues.size<=0)){console.log("flush 发送队列内的消息。数量"+this.sendingQueues.size);var t=new Array;this.sendingQueues.forEach(function(u,f){t.push(f)}),t=t.sort();for(var r=0,e=t;r<e.length;r++){var o=e[r],a=this.sendingQueues.get(o);a&&(console.log("重试消息---->",a),oe.shared().connectManager.sendPacket(a))}}},n.prototype.deleteMessageFromSendingQueue=function(t){this.sendingQueues.delete(t)},n}(),ni=globalThis&&globalThis.__awaiter||function(n,t,r,e){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(w){try{l(e.next(w))}catch(k){u(k)}}function B(w){try{l(e.throw(w))}catch(k){u(k)}}function l(w){w.done?a(w.value):o(w.value).then(f,B)}l((e=e.apply(n,t||[])).next())})},ii=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(l){return function(w){return B([l,w])}}function B(l){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(n,r)}catch(w){l=[6,w],o=0}finally{e=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},of=function(){function n(){this.channelInfocacheMap={},this.requestQueueMap=new Map,this.listeners=new Array,this.subscribeCacheMap=new Map,this.requestSubscribeQueueMap=new Map,this.subscriberChangeListeners=new Array,this.deleteChannelInfoListeners=new Array,this.subscriberContexts=new Array,this.subscriberContextTick=0}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.fetchChannelInfo=function(t){return ni(this,void 0,void 0,function(){var r,e,o;return ii(this,function(a){switch(a.label){case 0:if(r=t.getChannelKey(),e=this.requestQueueMap.get(r),e)return[2];a.label=1;case 1:return a.trys.push([1,,4,5]),this.requestQueueMap.set(r,!0),oe.shared().config.provider.channelInfoCallback==null?[3,3]:[4,oe.shared().config.provider.channelInfoCallback(t)];case 2:o=a.sent(),this.channelInfocacheMap[r]=o,o&&this.notifyListeners(o),a.label=3;case 3:return[3,5];case 4:return this.requestQueueMap.delete(r),[7];case 5:return[2]}})})},n.prototype.syncSubscribes=function(t){return ni(this,void 0,void 0,function(){var r,e,o,a,u,f,B,l,w,k,I,T;return ii(this,function(F){switch(F.label){case 0:if(r=t.getChannelKey(),e=this.requestSubscribeQueueMap.get(r),e)return[2];F.label=1;case 1:return F.trys.push([1,,3,4]),this.requestSubscribeQueueMap.set(r,!0),o=this.subscribeCacheMap.get(r),a=0,o&&o.length>0?(u=o[o.length-1],a=u.version):o=new Array,[4,oe.shared().config.provider.syncSubscribersCallback(t,a||0)];case 2:if(f=F.sent(),f&&f.length>0)for(B=0,l=f;B<l.length;B++){for(w=l[B],k=!1,I=0;I<o.length;I++)if(T=o[I],w.uid===T.uid){k=!0,o[I]=w;break}k||o.push(w)}return this.subscribeCacheMap.set(r,o),this.notifySubscribeChangeListeners(t),[3,4];case 3:return this.requestSubscribeQueueMap.delete(r),[7];case 4:return[2]}})})},n.prototype.getChannelInfo=function(t){return this.channelInfocacheMap[t.getChannelKey()]},n.prototype.setChannleInfoForCache=function(t){this.channelInfocacheMap[t.channel.getChannelKey()]=t},n.prototype.deleteChannelInfo=function(t){var r=this.channelInfocacheMap[t.getChannelKey()];return delete this.channelInfocacheMap[t.getChannelKey()],r},n.prototype.getSubscribes=function(t){var r=this.subscribeCacheMap.get(t.getChannelKey()),e=new Array;if(r)for(var o=0,a=r;o<a.length;o++){var u=a[o];u.isDeleted||e.push(u)}return e},n.prototype.getSubscribeOfMe=function(t){var r=this.subscribeCacheMap.get(t.getChannelKey());if(r)for(var e=0,o=r;e<o.length;e++){var a=o[e];if(!a.isDeleted&&a.uid===oe.shared().config.uid)return a}return null},n.prototype.addSubscriberChangeListener=function(t){this.subscriberChangeListeners.push(t)},n.prototype.removeSubscriberChangeListener=function(t){for(var r=this.subscriberChangeListeners.length,e=0;e<r;e++)if(t===this.subscriberChangeListeners[e]){this.subscriberChangeListeners.splice(e,1);return}},n.prototype.addDeleteChannelInfoListener=function(t){this.deleteChannelInfoListeners.push(t)},n.prototype.removeDeleteChannelInfoListener=function(t){for(var r=this.deleteChannelInfoListeners.length,e=0;e<r;e++)if(t===this.deleteChannelInfoListeners[e]){this.deleteChannelInfoListeners.splice(e,1);return}},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifySubscribeChangeListeners=function(t){this.subscriberChangeListeners&&this.subscriberChangeListeners.forEach(function(r){r(t)})},n.prototype.notifyListeners=function(t){this.listeners&&this.listeners.forEach(function(r){r(t)})},n.prototype.notifySubscribeIfNeed=function(t){var r=this.getSubscribeContext(t.channel);if(r&&r.listenerStates)for(var e=0,o=r.listenerStates;e<o.length;e++){var a=o[e];a.listener&&a.action===Ve.subscribe&&a.listener(t)}},n.prototype.onSubscribe=function(t,r){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];var a=new Qa;if(e&&e.length>0)for(var u=0,f=e;u<f.length;u++){var B=f[u];B(a)}var l,w,k=V0;t instanceof ht?(k=t.channelType,w=this.parseChannelURL(t.channelID)):w=this.parseChannelURL(t),l=new ht(w.channelID,k),a.param=w.paramMap;var I=this.getSubscribeContext(l);I||(I=new ri(l),this.subscriberContexts.push(I));var T=!1;if(I.listenerStates.length>0)for(var F=0,O=I.listenerStates;F<O.length;F++){var P=O[F];if(P.action===Ve.subscribe){P.handleOk=!1,P.listener=r,P.options=a,T=!0;break}}T||I.listenerStates.push(new ti(Ve.subscribe,r,a)),console.log("onSubscribe-->",I.listenerStates.length),this.executeSubscribeContext()},n.prototype.parseChannelURL=function(t){var r=t.split("?");if(r.length>1){for(var e=r[1],o=new Map,a=e.split("&"),u=0,f=a;u<f.length;u++){var B=f[u],l=B.split("=");l.length>1&&o.set(l[0],l[1])}return{channelID:r[0],paramMap:o}}else return{channelID:t,paramMap:new Map}},n.prototype.onUnsubscribe=function(t,r){var e,o,a=V0;t instanceof ht?(a=t.channelType,o=this.parseChannelURL(t.channelID)):o=this.parseChannelURL(t),e=new ht(o.channelID,a);var u=this.getSubscribeContext(e);u||(u=new ri(e),this.subscriberContexts.push(u));var f=!1;if(u.listenerStates.length>0)for(var B=0,l=u.listenerStates;B<l.length;B++){var w=l[B];if(w.action===Ve.unsubscribe){w.handleOk=!1,w.listener=r,f=!0;break}}f||u.listenerStates.push(new ti(Ve.unsubscribe,r)),this.executeSubscribeContext()},n.prototype.reSubscribe=function(){for(var t=0,r=this.subscriberContexts;t<r.length;t++)for(var e=r[t],o=0,a=e.listenerStates;o<a.length;o++){var u=a[o];u.handleOk=!1,u.sending=!1}this.executeSubscribeContext()},n.prototype.handleSuback=function(t){for(var r=0,e=this.subscriberContexts;r<e.length;r++){var o=e[r];if(t.channelID===o.channel.channelID&&t.channelType===o.channel.channelType){if(t.action===Ve.subscribe){if(o.listenerStates&&o.listenerStates.length>0)for(var a=0,u=o.listenerStates;a<u.length;a++){var f=u[a];if(!f.handleOk&&(f.handleOk=!0,f.listener&&f.action===Ve.subscribe)){var B=f.listener;B(void 0,t.reasonCode)}}}else if(o.listenerStates&&o.listenerStates.length>0)for(var l=0,w=o.listenerStates;l<w.length;l++){var f=w[l];if(!f.handleOk&&(f.handleOk=!0,f.listener&&f.action===Ve.unsubscribe)){var k=f.listener;k(t.reasonCode)}}}}if(t.action===Ve.unsubscribe)for(var I=0;I<this.subscriberContexts.length;I++){var o=this.subscriberContexts[I];if(o.channel.channelID===t.channelID&&o.channel.channelType===t.channelType){this.subscriberContexts.splice(I,1);continue}}},n.prototype.getSubscribeContext=function(t){for(var r=0,e=this.subscriberContexts;r<e.length;r++){var o=e[r];if(o.channel.channelID===t.channelID&&o.channel.channelType===t.channelType)return o}},n.prototype.executeSubscribeContext=function(){for(var t=0,r=this.subscriberContexts;t<r.length;t++){var e=r[t];if(e&&e.listenerStates.length>0)for(var o=0,a=e.listenerStates;o<a.length;o++){var u=a[o];u.handleOk||u.sending||(u.sending=!0,this.sendSubscribe(e.channel,u.action,u.options))}}},n.prototype.sendSubscribe=function(t,r,e){console.log("sendSubscribe---->",r);var o=new ga;o.channelID=t.channelID,o.channelType=t.channelType,o.action=r,e!=null&&e.param&&(o.param=JSON.stringify(Object.fromEntries(e==null?void 0:e.param))),oe.shared().connectManager.sendPacket(o)},n}(),sf=globalThis&&globalThis.__awaiter||function(n,t,r,e){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(w){try{l(e.next(w))}catch(k){u(k)}}function B(w){try{l(e.throw(w))}catch(k){u(k)}}function l(w){w.done?a(w.value):o(w.value).then(f,B)}l((e=e.apply(n,t||[])).next())})},af=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(l){return function(w){return B([l,w])}}function B(l){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(n,r)}catch(w){l=[6,w],o=0}finally{e=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ff=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var e=Array(n),o=0,t=0;t<r;t++)for(var a=arguments[t],u=0,f=a.length;u<f;u++,o++)e[o]=a[u];return e},ut;(function(n){n[n.add=0]="add",n[n.update=1]="update",n[n.remove=2]="remove"})(ut||(ut={}));var Cn=function(){function n(){var t=this;this.listeners=new Array,this.conversations=new Array,this.maxExtraVersion=0,Vi.shared().addMessageListener(function(r){t.updateOrAddConversation(r)})}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.sync=function(t){var r=this,e=oe.shared().config.provider.syncConversationsCallback(t);return e&&e.then(function(o){if(r.conversations=o,o.length>0)for(var a=0,u=o;a<u.length;a++){var f=u[a];f.remoteExtra.version>r.maxExtraVersion&&(r.maxExtraVersion=f.remoteExtra.version)}oe.shared().reminderManager.sync()}).catch(function(o){console.log("同步最近会话失败！",o)}),e},n.prototype.syncExtra=function(){return sf(this,void 0,void 0,function(){var t,r,e,o,a,u,f;return af(this,function(B){switch(B.label){case 0:return oe.shared().config.provider.syncConversationExtrasCallback?[4,oe.shared().config.provider.syncConversationExtrasCallback(this.maxExtraVersion)]:(console.log("syncConversationExtrasCallback没有提供"),[2]);case 1:if(t=B.sent(),t)for(r=0,e=t;r<e.length;r++)for(o=e[r],o.version>this.maxExtraVersion&&(this.maxExtraVersion=o.version),a=0,u=this.conversations;a<u.length;a++)f=u[a],f.channel.isEqual(o.channel)&&(f.remoteExtra=o,this.notifyConversationListeners(f,ut.update));return[2,t]}})})},n.prototype.findConversation=function(t){if(this.conversations)for(var r=0,e=this.conversations;r<e.length;r++){var o=e[r];if(o.channel.isEqual(t))return o}},n.prototype.findConversations=function(t){if(this.conversations&&this.conversations.length>0){for(var r=new Array,e=0,o=this.conversations;e<o.length;e++)for(var a=o[e],u=0,f=t;u<f.length;u++){var B=f[u];if(a.channel.isEqual(B)){r.push(a);break}}return r}},n.prototype.createEmptyConversation=function(t){var r=this.findConversation(t);if(r)return r.timestamp=new Date().getTime()/1e3,this.notifyConversationListeners(r,ut.update),r;var e=new Y0;return e.channel=t,e.timestamp=new Date().getTime()/1e3,this.notifyConversationListeners(e,ut.add),e},n.prototype.updateOrAddConversation=function(t){var r=this.findConversation(t.channel),e;r?(!t.send&&t.header.reddot&&(!this.openConversation||!this.openConversation.channel.isEqual(t.channel))&&r.unread++,r.timestamp=t.timestamp,r.lastMessage=t,e=r,this.notifyConversationListeners(e,ut.update)):(e=new Y0,e.unread=0,e.channel=t.channel,e.timestamp=t.timestamp,!t.send&&t.header.reddot&&(!this.openConversation||!this.openConversation.channel.isEqual(t.channel))&&e.unread++,e.lastMessage=t,this.conversations=ff([e],this.conversations),this.notifyConversationListeners(e,ut.add))},n.prototype.removeConversation=function(t){if(!(!this.conversations||this.conversations.length===0)){for(var r,e=0;e<this.conversations.length;e++){var o=this.conversations[e];o.channel.isEqual(t)&&(this.conversations.splice(e,1),r=o)}r&&this.notifyConversationListeners(r,ut.remove)}},n.prototype.getAllUnreadCount=function(){var t=0;if(this.conversations)for(var r=0,e=this.conversations;r<e.length;r++){var o=e[r];t+=o.unread}return t},n.prototype.addConversationListener=function(t){this.listeners.push(t)},n.prototype.removeConversationListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyConversationListeners=function(t,r){this.listeners&&this.listeners.forEach(function(e){e&&e(t,r)})},n}(),oi=globalThis&&globalThis.__awaiter||function(n,t,r,e){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(w){try{l(e.next(w))}catch(k){u(k)}}function B(w){try{l(e.throw(w))}catch(k){u(k)}}function l(w){w.done?a(w.value):o(w.value).then(f,B)}l((e=e.apply(n,t||[])).next())})},si=globalThis&&globalThis.__generator||function(n,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(l){return function(w){return B([l,w])}}function B(l){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,o&&(a=l[0]&2?o.return:l[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,l[1])).done)return a;switch(o=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(n,r)}catch(w){l=[6,w],o=0}finally{e=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},cf=function(){function n(){this.reminders=new Array}return n.shared=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.sync=function(){return oi(this,void 0,void 0,function(){var t,r,e,o,a,u,f,B,l;return si(this,function(w){switch(w.label){case 0:return oe.shared().config.provider.syncRemindersCallback?(t=this.maxReminderVersion(),[4,oe.shared().config.provider.syncRemindersCallback(t)]):(console.log("##########syncRemindersCallback##########"),[2]);case 1:if(r=w.sent(),r&&r.length>0){for(e=new Set,o=0,a=r;o<a.length;o++){for(u=a[o],e.add(u.channel),f=!1,B=0;B<this.reminders.length;B++)if(l=this.reminders[B],u.reminderID===l.reminderID){this.reminders[B]=u,f=!0;break}f||this.reminders.push(u)}this.updateConversations(Array.from(e))}return[2]}})})},n.prototype.done=function(t){return oi(this,void 0,void 0,function(){var r,e,o,a,u;return si(this,function(f){if(!oe.shared().config.provider.reminderDoneCallback)return console.log("##########reminderDoneCallback##########"),[2];if(r=this.getRemindersWithIDs(t),r&&r.length>0){for(e=0,o=r;e<o.length;e++)a=o[e],a.done=!0;u=this.getChannelWithReminders(r),this.updateConversations(u)}return[2,oe.shared().config.provider.reminderDoneCallback(t)]})})},n.prototype.getChannelWithReminders=function(t){if(!t||t.length===0)return[];for(var r=new Set,e=0,o=t;e<o.length;e++){var a=o[e];r.add(a.channel)}return Array.from(r)},n.prototype.updateConversations=function(t){var r=Cn.shared().findConversations(t);if(r&&r.length>0)for(var e=0,o=r;e<o.length;e++){var a=o[e];a.reminders=this.getWaitDoneReminders(a.channel),Cn.shared().notifyConversationListeners(a,ut.update)}},n.prototype.getWaitDoneReminders=function(t){for(var r=new Array,e=0,o=this.reminders;e<o.length;e++){var a=o[e];a.channel.isEqual(t)&&r.push(a)}return r},n.prototype.getRemindersWithIDs=function(t){for(var r=new Array,e=0,o=this.reminders;e<o.length;e++)for(var a=o[e],u=0,f=t;u<f.length;u++){var B=f[u];if(a.reminderID===B){r.push(a);break}}return r},n.prototype.maxReminderVersion=function(){for(var t=0,r=0,e=this.reminders;r<e.length;r++){var o=e[r];o.version>t&&(t=o.version)}return t},n}(),uf=function(){function n(){}return n.prototype.messageUploadTask=function(t){if(this.messageUploadTaskCallback)return this.messageUploadTaskCallback(t)},n}(),hf=function(){function n(){this.debug=!1,this.protoVersion=2,this.deviceFlag=1,this.proto=new wa,this.heartbeatInterval=6e4,this.receiptFlushInterval=2e3,this.sdkVersion="1.0.0",this.provider=new uf}return n}(),lf=function(){function n(){this.listeners=new Array,this.channelMessagesMap=new Map}return n.shared=function(){return this.instance||(this.instance=new n,this.instance.setup()),this.instance},n.prototype.setup=function(){this.timer=setInterval(this.flushLoop.bind(this),oe.shared().config.receiptFlushInterval)},n.prototype.addReceiptMessages=function(t,r){if(!(!r||r.length===0)){var e=this.channelMessagesMap.get(t.getChannelKey());e||(e=[]);for(var o=0,a=r;o<a.length;o++){var u=a[o];u.remoteExtra.readed||e.push(u)}this.channelMessagesMap.set(t.getChannelKey(),e)}},n.prototype.flush=function(t){var r=this;if(!oe.shared().config.provider.messageReadedCallback)throw new Error("没有设置WKSDK.shared().config.provider.messageReadedCallback");var e=this.channelMessagesMap.get(t),o=new Array,a=0;if(e&&e.length>0){a=e.length;for(var u=0,f=e;u<f.length;u++){var B=f[u];o.push(B)}}if(o.length!==0){var l=ht.fromChannelKey(t);oe.shared().config.provider.messageReadedCallback(l,o).then(function(){r.removeCacheWithLength(t,a),r.notifyListeners(l,o)})}},n.prototype.removeCacheWithLength=function(t,r){var e=this.channelMessagesMap.get(t),o=new Array;if(e){for(var a=0,u=e;a<u.length;a++){var f=u[a];o.push(f)}var B=r;o.length<r&&(B=o.length);for(var l=0;l<B;l++)for(var f=o[l],w=0;w<e.length;w++){var k=e[w];if(f.clientMsgNo===k.clientMsgNo){e.splice(w,1);break}}}},n.prototype.flushLoop=function(){var t=this;this.channelMessagesMap.forEach(function(r,e){t.flush(e)})},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){for(var r=this.listeners.length,e=0;e<r;e++)if(t===this.listeners[e]){this.listeners.splice(e,1);return}},n.prototype.notifyListeners=function(t,r){this.listeners&&this.listeners.forEach(function(e){e&&e(t,r)})},n}(),xf=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var e=Array(n),o=0,t=0;t<r;t++)for(var a=arguments[t],u=0,f=a.length;u<f;u++,o++)e[o]=a[u];return e},pf=function(){function n(){}return n.shared=function(){return this.instance||(this.instance=new n,this.instance.init()),this.instance},n.prototype.init=function(){var t=this;this.config=new hf,this.taskManager=new tf,this.messageContentManager=Ki.shared(),this.connectManager=za.shared(),this.chatManager=Vi.shared(),this.channelManager=of.shared(),this.conversationManager=Cn.shared(),this.securityManager=mt.shared(),this.reminderManager=cf.shared(),this.receiptManager=lf.shared(),this.registerFactor(function(r){if(t.isSystemMessage(r))return new Ya;if(r===xt.cmd)return new Ja}),this.register(xt.text,function(){return new Z0}),this.register(xt.signalMessage,function(){return new Va})},n.prototype.register=function(t,r){this.messageContentManager.register(t,r)},n.prototype.registerFactor=function(t){this.messageContentManager.registerFactor(t)},n.prototype.getMessageContent=function(t){return this.messageContentManager.getMessageContent(t)},n.prototype.isSystemMessage=function(t){return t>=1e3&&t<=2e3},n.prototype.connect=function(){this.connectManager.connect()},n.prototype.disconnect=function(){this.connectManager.disconnect()},n.prototype.onSubscribe=function(t,r){for(var e,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];(e=this.channelManager).onSubscribe.apply(e,xf([t,r],o))},n.prototype.onUnsubscribe=function(t,r){this.channelManager.onUnsubscribe(t,r)},n.prototype.newMessageText=function(t){return new Z0(t)},n.prototype.newChannel=function(t,r){return new ht(t,r)},n.prototype.newMessage=function(){return new ar},n.prototype.newChannelInfo=function(){return new Ga},n.prototype.newMediaMessageContent=function(){return new ji},n.prototype.newMessageContent=function(){return new Bt},n}();const oe=pf;var df=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,hn=Math.ceil,tt=Math.floor,De="[BigNumber Error] ",ai=De+"Number primitive has more than 15 significant digits: ",Ke=1e14,pe=14,ln=9007199254740991,xn=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],vt=1e7,_e=1e9;function Xi(n){var t,r,e,o=A.prototype={constructor:A,toString:null,valueOf:null},a=new A(1),u=20,f=4,B=-7,l=21,w=-1e7,k=1e7,I=!1,T=1,F=0,O={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz",N=!0;function A(h,p){var x,d,g,v,b,m,C,_,R=this;if(!(R instanceof A))return new A(h,p);if(p==null){if(h&&h._isBigNumber===!0){R.s=h.s,!h.c||h.e>k?R.c=R.e=null:h.e<w?R.c=[R.e=0]:(R.e=h.e,R.c=h.c.slice());return}if((m=typeof h=="number")&&h*0==0){if(R.s=1/h<0?(h=-h,-1):1,h===~~h){for(v=0,b=h;b>=10;b/=10,v++);v>k?R.c=R.e=null:(R.e=v,R.c=[h]);return}_=String(h)}else{if(!df.test(_=String(h)))return e(R,_,m);R.s=_.charCodeAt(0)==45?(_=_.slice(1),-1):1}(v=_.indexOf("."))>-1&&(_=_.replace(".","")),(b=_.search(/e/i))>0?(v<0&&(v=b),v+=+_.slice(b+1),_=_.substring(0,b)):v<0&&(v=_.length)}else{if(Ee(p,2,P.length,"Base"),p==10&&N)return R=new A(h),$(R,u+R.e+1,f);if(_=String(h),m=typeof h=="number"){if(h*0!=0)return e(R,_,m,p);if(R.s=1/h<0?(_=_.slice(1),-1):1,A.DEBUG&&_.replace(/^0\.0*|\./,"").length>15)throw Error(ai+h)}else R.s=_.charCodeAt(0)===45?(_=_.slice(1),-1):1;for(x=P.slice(0,p),v=b=0,C=_.length;b<C;b++)if(x.indexOf(d=_.charAt(b))<0){if(d=="."){if(b>v){v=C;continue}}else if(!g&&(_==_.toUpperCase()&&(_=_.toLowerCase())||_==_.toLowerCase()&&(_=_.toUpperCase()))){g=!0,b=-1,v=0;continue}return e(R,String(h),m,p)}m=!1,_=r(_,p,10,R.s),(v=_.indexOf("."))>-1?_=_.replace(".",""):v=_.length}for(b=0;_.charCodeAt(b)===48;b++);for(C=_.length;_.charCodeAt(--C)===48;);if(_=_.slice(b,++C)){if(C-=b,m&&A.DEBUG&&C>15&&(h>ln||h!==tt(h)))throw Error(ai+R.s*h);if((v=v-b-1)>k)R.c=R.e=null;else if(v<w)R.c=[R.e=0];else{if(R.e=v,R.c=[],b=(v+1)%pe,v<0&&(b+=pe),b<C){for(b&&R.c.push(+_.slice(0,b)),C-=pe;b<C;)R.c.push(+_.slice(b,b+=pe));b=pe-(_=_.slice(b)).length}else b-=C;for(;b--;_+="0");R.c.push(+_)}}else R.c=[R.e=0]}A.clone=Xi,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(h){var p,x;if(h!=null)if(typeof h=="object"){if(h.hasOwnProperty(p="DECIMAL_PLACES")&&(x=h[p],Ee(x,0,_e,p),u=x),h.hasOwnProperty(p="ROUNDING_MODE")&&(x=h[p],Ee(x,0,8,p),f=x),h.hasOwnProperty(p="EXPONENTIAL_AT")&&(x=h[p],x&&x.pop?(Ee(x[0],-_e,0,p),Ee(x[1],0,_e,p),B=x[0],l=x[1]):(Ee(x,-_e,_e,p),B=-(l=x<0?-x:x))),h.hasOwnProperty(p="RANGE"))if(x=h[p],x&&x.pop)Ee(x[0],-_e,-1,p),Ee(x[1],1,_e,p),w=x[0],k=x[1];else if(Ee(x,-_e,_e,p),x)w=-(k=x<0?-x:x);else throw Error(De+p+" cannot be zero: "+x);if(h.hasOwnProperty(p="CRYPTO"))if(x=h[p],x===!!x)if(x)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))I=x;else throw I=!x,Error(De+"crypto unavailable");else I=x;else throw Error(De+p+" not true or false: "+x);if(h.hasOwnProperty(p="MODULO_MODE")&&(x=h[p],Ee(x,0,9,p),T=x),h.hasOwnProperty(p="POW_PRECISION")&&(x=h[p],Ee(x,0,_e,p),F=x),h.hasOwnProperty(p="FORMAT"))if(x=h[p],typeof x=="object")O=x;else throw Error(De+p+" not an object: "+x);if(h.hasOwnProperty(p="ALPHABET"))if(x=h[p],typeof x=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(x))N=x.slice(0,10)=="0123456789",P=x;else throw Error(De+p+" invalid: "+x)}else throw Error(De+"Object expected: "+h);return{DECIMAL_PLACES:u,ROUNDING_MODE:f,EXPONENTIAL_AT:[B,l],RANGE:[w,k],CRYPTO:I,MODULO_MODE:T,POW_PRECISION:F,FORMAT:O,ALPHABET:P}},A.isBigNumber=function(h){if(!h||h._isBigNumber!==!0)return!1;if(!A.DEBUG)return!0;var p,x,d=h.c,g=h.e,v=h.s;e:if({}.toString.call(d)=="[object Array]"){if((v===1||v===-1)&&g>=-_e&&g<=_e&&g===tt(g)){if(d[0]===0){if(g===0&&d.length===1)return!0;break e}if(p=(g+1)%pe,p<1&&(p+=pe),String(d[0]).length==p){for(p=0;p<d.length;p++)if(x=d[p],x<0||x>=Ke||x!==tt(x))break e;if(x!==0)return!0}}}else if(d===null&&g===null&&(v===null||v===1||v===-1))return!0;throw Error(De+"Invalid BigNumber: "+h)},A.maximum=A.max=function(){return H(arguments,o.lt)},A.minimum=A.min=function(){return H(arguments,o.gt)},A.random=function(){var h=9007199254740992,p=Math.random()*h&2097151?function(){return tt(Math.random()*h)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(x){var d,g,v,b,m,C=0,_=[],R=new A(a);if(x==null?x=u:Ee(x,0,_e),b=hn(x/pe),I)if(crypto.getRandomValues){for(d=crypto.getRandomValues(new Uint32Array(b*=2));C<b;)m=d[C]*131072+(d[C+1]>>>11),m>=9e15?(g=crypto.getRandomValues(new Uint32Array(2)),d[C]=g[0],d[C+1]=g[1]):(_.push(m%1e14),C+=2);C=b/2}else if(crypto.randomBytes){for(d=crypto.randomBytes(b*=7);C<b;)m=(d[C]&31)*281474976710656+d[C+1]*1099511627776+d[C+2]*4294967296+d[C+3]*16777216+(d[C+4]<<16)+(d[C+5]<<8)+d[C+6],m>=9e15?crypto.randomBytes(7).copy(d,C):(_.push(m%1e14),C+=7);C=b/7}else throw I=!1,Error(De+"crypto unavailable");if(!I)for(;C<b;)m=p(),m<9e15&&(_[C++]=m%1e14);for(b=_[--C],x%=pe,b&&x&&(m=xn[pe-x],_[C]=tt(b/m)*m);_[C]===0;_.pop(),C--);if(C<0)_=[v=0];else{for(v=-1;_[0]===0;_.splice(0,1),v-=pe);for(C=1,m=_[0];m>=10;m/=10,C++);C<pe&&(v-=pe-C)}return R.e=v,R.c=_,R}}(),A.sum=function(){for(var h=1,p=arguments,x=new A(p[0]);h<p.length;)x=x.plus(p[h++]);return x},r=function(){var h="0123456789";function p(x,d,g,v){for(var b,m=[0],C,_=0,R=x.length;_<R;){for(C=m.length;C--;m[C]*=d);for(m[0]+=v.indexOf(x.charAt(_++)),b=0;b<m.length;b++)m[b]>g-1&&(m[b+1]==null&&(m[b+1]=0),m[b+1]+=m[b]/g|0,m[b]%=g)}return m.reverse()}return function(x,d,g,v,b){var m,C,_,R,z,j,U,q,K=x.indexOf("."),W=u,V=f;for(K>=0&&(R=F,F=0,x=x.replace(".",""),q=new A(d),j=q.pow(x.length-K),F=R,q.c=p(ct(Me(j.c),j.e,"0"),10,g,h),q.e=q.c.length),U=p(x,d,g,b?(m=P,h):(m=h,P)),_=R=U.length;U[--R]==0;U.pop());if(!U[0])return m.charAt(0);if(K<0?--_:(j.c=U,j.e=_,j.s=v,j=t(j,q,W,V,g),U=j.c,z=j.r,_=j.e),C=_+W+1,K=U[C],R=g/2,z=z||C<0||U[C+1]!=null,z=V<4?(K!=null||z)&&(V==0||V==(j.s<0?3:2)):K>R||K==R&&(V==4||z||V==6&&U[C-1]&1||V==(j.s<0?8:7)),C<1||!U[0])x=z?ct(m.charAt(1),-W,m.charAt(0)):m.charAt(0);else{if(U.length=C,z)for(--g;++U[--C]>g;)U[C]=0,C||(++_,U=[1].concat(U));for(R=U.length;!U[--R];);for(K=0,x="";K<=R;x+=m.charAt(U[K++]));x=ct(x,_,m.charAt(0))}return x}}(),t=function(){function h(d,g,v){var b,m,C,_,R=0,z=d.length,j=g%vt,U=g/vt|0;for(d=d.slice();z--;)C=d[z]%vt,_=d[z]/vt|0,b=U*C+_*j,m=j*C+b%vt*vt+R,R=(m/v|0)+(b/vt|0)+U*_,d[z]=m%v;return R&&(d=[R].concat(d)),d}function p(d,g,v,b){var m,C;if(v!=b)C=v>b?1:-1;else for(m=C=0;m<v;m++)if(d[m]!=g[m]){C=d[m]>g[m]?1:-1;break}return C}function x(d,g,v,b){for(var m=0;v--;)d[v]-=m,m=d[v]<g[v]?1:0,d[v]=m*b+d[v]-g[v];for(;!d[0]&&d.length>1;d.splice(0,1));}return function(d,g,v,b,m){var C,_,R,z,j,U,q,K,W,V,Y,te,J,le,se,ue,ae,ee=d.s==g.s?1:-1,Q=d.c,fe=g.c;if(!Q||!Q[0]||!fe||!fe[0])return new A(!d.s||!g.s||(Q?fe&&Q[0]==fe[0]:!fe)?NaN:Q&&Q[0]==0||!fe?ee*0:ee/0);for(K=new A(ee),W=K.c=[],_=d.e-g.e,ee=v+_+1,m||(m=Ke,_=Pe(d.e/pe)-Pe(g.e/pe),ee=ee/pe|0),R=0;fe[R]==(Q[R]||0);R++);if(fe[R]>(Q[R]||0)&&_--,ee<0)W.push(1),z=!0;else{for(le=Q.length,ue=fe.length,R=0,ee+=2,j=tt(m/(fe[0]+1)),j>1&&(fe=h(fe,j,m),Q=h(Q,j,m),ue=fe.length,le=Q.length),J=ue,V=Q.slice(0,ue),Y=V.length;Y<ue;V[Y++]=0);ae=fe.slice(),ae=[0].concat(ae),se=fe[0],fe[1]>=m/2&&se++;do{if(j=0,C=p(fe,V,ue,Y),C<0){if(te=V[0],ue!=Y&&(te=te*m+(V[1]||0)),j=tt(te/se),j>1)for(j>=m&&(j=m-1),U=h(fe,j,m),q=U.length,Y=V.length;p(U,V,q,Y)==1;)j--,x(U,ue<q?ae:fe,q,m),q=U.length,C=1;else j==0&&(C=j=1),U=fe.slice(),q=U.length;if(q<Y&&(U=[0].concat(U)),x(V,U,Y,m),Y=V.length,C==-1)for(;p(fe,V,ue,Y)<1;)j++,x(V,ue<Y?ae:fe,Y,m),Y=V.length}else C===0&&(j++,V=[0]);W[R++]=j,V[0]?V[Y++]=Q[J]||0:(V=[Q[J]],Y=1)}while((J++<le||V[0]!=null)&&ee--);z=V[0]!=null,W[0]||W.splice(0,1)}if(m==Ke){for(R=1,ee=W[0];ee>=10;ee/=10,R++);$(K,v+(K.e=R+_*pe-1)+1,b,z)}else K.e=_,K.r=+z;return K}}();function M(h,p,x,d){var g,v,b,m,C;if(x==null?x=f:Ee(x,0,8),!h.c)return h.toString();if(g=h.c[0],b=h.e,p==null)C=Me(h.c),C=d==1||d==2&&(b<=B||b>=l)?tr(C,b):ct(C,b,"0");else if(h=$(new A(h),p,x),v=h.e,C=Me(h.c),m=C.length,d==1||d==2&&(p<=v||v<=B)){for(;m<p;C+="0",m++);C=tr(C,v)}else if(p-=b,C=ct(C,v,"0"),v+1>m){if(--p>0)for(C+=".";p--;C+="0");}else if(p+=v-m,p>0)for(v+1==m&&(C+=".");p--;C+="0");return h.s<0&&g?"-"+C:C}function H(h,p){for(var x,d=1,g=new A(h[0]);d<h.length;d++)if(x=new A(h[d]),x.s)p.call(g,x)&&(g=x);else{g=x;break}return g}function G(h,p,x){for(var d=1,g=p.length;!p[--g];p.pop());for(g=p[0];g>=10;g/=10,d++);return(x=d+x*pe-1)>k?h.c=h.e=null:x<w?h.c=[h.e=0]:(h.e=x,h.c=p),h}e=function(){var h=/^(-?)0([xbo])(?=\w[\w.]*$)/i,p=/^([^.]+)\.$/,x=/^\.([^.]+)$/,d=/^-?(Infinity|NaN)$/,g=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(v,b,m,C){var _,R=m?b:b.replace(g,"");if(d.test(R))v.s=isNaN(R)?null:R<0?-1:1;else{if(!m&&(R=R.replace(h,function(z,j,U){return _=(U=U.toLowerCase())=="x"?16:U=="b"?2:8,!C||C==_?j:z}),C&&(_=C,R=R.replace(p,"$1").replace(x,"0.$1")),b!=R))return new A(R,_);if(A.DEBUG)throw Error(De+"Not a"+(C?" base "+C:"")+" number: "+b);v.s=null}v.c=v.e=null}}();function $(h,p,x,d){var g,v,b,m,C,_,R,z=h.c,j=xn;if(z){e:{for(g=1,m=z[0];m>=10;m/=10,g++);if(v=p-g,v<0)v+=pe,b=p,C=z[_=0],R=C/j[g-b-1]%10|0;else if(_=hn((v+1)/pe),_>=z.length)if(d){for(;z.length<=_;z.push(0));C=R=0,g=1,v%=pe,b=v-pe+1}else break e;else{for(C=m=z[_],g=1;m>=10;m/=10,g++);v%=pe,b=v-pe+g,R=b<0?0:C/j[g-b-1]%10|0}if(d=d||p<0||z[_+1]!=null||(b<0?C:C%j[g-b-1]),d=x<4?(R||d)&&(x==0||x==(h.s<0?3:2)):R>5||R==5&&(x==4||d||x==6&&(v>0?b>0?C/j[g-b]:0:z[_-1])%10&1||x==(h.s<0?8:7)),p<1||!z[0])return z.length=0,d?(p-=h.e+1,z[0]=j[(pe-p%pe)%pe],h.e=-p||0):z[0]=h.e=0,h;if(v==0?(z.length=_,m=1,_--):(z.length=_+1,m=j[pe-v],z[_]=b>0?tt(C/j[g-b]%j[b])*m:0),d)for(;;)if(_==0){for(v=1,b=z[0];b>=10;b/=10,v++);for(b=z[0]+=m,m=1;b>=10;b/=10,m++);v!=m&&(h.e++,z[0]==Ke&&(z[0]=1));break}else{if(z[_]+=m,z[_]!=Ke)break;z[_--]=0,m=1}for(v=z.length;z[--v]===0;z.pop());}h.e>k?h.c=h.e=null:h.e<w&&(h.c=[h.e=0])}return h}function E(h){var p,x=h.e;return x===null?h.toString():(p=Me(h.c),p=x<=B||x>=l?tr(p,x):ct(p,x,"0"),h.s<0?"-"+p:p)}return o.absoluteValue=o.abs=function(){var h=new A(this);return h.s<0&&(h.s=1),h},o.comparedTo=function(h,p){return Rt(this,new A(h,p))},o.decimalPlaces=o.dp=function(h,p){var x,d,g,v=this;if(h!=null)return Ee(h,0,_e),p==null?p=f:Ee(p,0,8),$(new A(v),h+v.e+1,p);if(!(x=v.c))return null;if(d=((g=x.length-1)-Pe(this.e/pe))*pe,g=x[g])for(;g%10==0;g/=10,d--);return d<0&&(d=0),d},o.dividedBy=o.div=function(h,p){return t(this,new A(h,p),u,f)},o.dividedToIntegerBy=o.idiv=function(h,p){return t(this,new A(h,p),0,1)},o.exponentiatedBy=o.pow=function(h,p){var x,d,g,v,b,m,C,_,R,z=this;if(h=new A(h),h.c&&!h.isInteger())throw Error(De+"Exponent not an integer: "+E(h));if(p!=null&&(p=new A(p)),m=h.e>14,!z.c||!z.c[0]||z.c[0]==1&&!z.e&&z.c.length==1||!h.c||!h.c[0])return R=new A(Math.pow(+E(z),m?h.s*(2-er(h)):+E(h))),p?R.mod(p):R;if(C=h.s<0,p){if(p.c?!p.c[0]:!p.s)return new A(NaN);d=!C&&z.isInteger()&&p.isInteger(),d&&(z=z.mod(p))}else{if(h.e>9&&(z.e>0||z.e<-1||(z.e==0?z.c[0]>1||m&&z.c[1]>=24e7:z.c[0]<8e13||m&&z.c[0]<=9999975e7)))return v=z.s<0&&er(h)?-0:0,z.e>-1&&(v=1/v),new A(C?1/v:v);F&&(v=hn(F/pe+2))}for(m?(x=new A(.5),C&&(h.s=1),_=er(h)):(g=Math.abs(+E(h)),_=g%2),R=new A(a);;){if(_){if(R=R.times(z),!R.c)break;v?R.c.length>v&&(R.c.length=v):d&&(R=R.mod(p))}if(g){if(g=tt(g/2),g===0)break;_=g%2}else if(h=h.times(x),$(h,h.e+1,1),h.e>14)_=er(h);else{if(g=+E(h),g===0)break;_=g%2}z=z.times(z),v?z.c&&z.c.length>v&&(z.c.length=v):d&&(z=z.mod(p))}return d?R:(C&&(R=a.div(R)),p?R.mod(p):v?$(R,F,f,b):R)},o.integerValue=function(h){var p=new A(this);return h==null?h=f:Ee(h,0,8),$(p,p.e+1,h)},o.isEqualTo=o.eq=function(h,p){return Rt(this,new A(h,p))===0},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(h,p){return Rt(this,new A(h,p))>0},o.isGreaterThanOrEqualTo=o.gte=function(h,p){return(p=Rt(this,new A(h,p)))===1||p===0},o.isInteger=function(){return!!this.c&&Pe(this.e/pe)>this.c.length-2},o.isLessThan=o.lt=function(h,p){return Rt(this,new A(h,p))<0},o.isLessThanOrEqualTo=o.lte=function(h,p){return(p=Rt(this,new A(h,p)))===-1||p===0},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&this.c[0]==0},o.minus=function(h,p){var x,d,g,v,b=this,m=b.s;if(h=new A(h,p),p=h.s,!m||!p)return new A(NaN);if(m!=p)return h.s=-p,b.plus(h);var C=b.e/pe,_=h.e/pe,R=b.c,z=h.c;if(!C||!_){if(!R||!z)return R?(h.s=-p,h):new A(z?b:NaN);if(!R[0]||!z[0])return z[0]?(h.s=-p,h):new A(R[0]?b:f==3?-0:0)}if(C=Pe(C),_=Pe(_),R=R.slice(),m=C-_){for((v=m<0)?(m=-m,g=R):(_=C,g=z),g.reverse(),p=m;p--;g.push(0));g.reverse()}else for(d=(v=(m=R.length)<(p=z.length))?m:p,m=p=0;p<d;p++)if(R[p]!=z[p]){v=R[p]<z[p];break}if(v&&(g=R,R=z,z=g,h.s=-h.s),p=(d=z.length)-(x=R.length),p>0)for(;p--;R[x++]=0);for(p=Ke-1;d>m;){if(R[--d]<z[d]){for(x=d;x&&!R[--x];R[x]=p);--R[x],R[d]+=Ke}R[d]-=z[d]}for(;R[0]==0;R.splice(0,1),--_);return R[0]?G(h,R,_):(h.s=f==3?-1:1,h.c=[h.e=0],h)},o.modulo=o.mod=function(h,p){var x,d,g=this;return h=new A(h,p),!g.c||!h.s||h.c&&!h.c[0]?new A(NaN):!h.c||g.c&&!g.c[0]?new A(g):(T==9?(d=h.s,h.s=1,x=t(g,h,0,3),h.s=d,x.s*=d):x=t(g,h,0,T),h=g.minus(x.times(h)),!h.c[0]&&T==1&&(h.s=g.s),h)},o.multipliedBy=o.times=function(h,p){var x,d,g,v,b,m,C,_,R,z,j,U,q,K,W,V=this,Y=V.c,te=(h=new A(h,p)).c;if(!Y||!te||!Y[0]||!te[0])return!V.s||!h.s||Y&&!Y[0]&&!te||te&&!te[0]&&!Y?h.c=h.e=h.s=null:(h.s*=V.s,!Y||!te?h.c=h.e=null:(h.c=[0],h.e=0)),h;for(d=Pe(V.e/pe)+Pe(h.e/pe),h.s*=V.s,C=Y.length,z=te.length,C<z&&(q=Y,Y=te,te=q,g=C,C=z,z=g),g=C+z,q=[];g--;q.push(0));for(K=Ke,W=vt,g=z;--g>=0;){for(x=0,j=te[g]%W,U=te[g]/W|0,b=C,v=g+b;v>g;)_=Y[--b]%W,R=Y[b]/W|0,m=U*_+R*j,_=j*_+m%W*W+q[v]+x,x=(_/K|0)+(m/W|0)+U*R,q[v--]=_%K;q[v]=x}return x?++d:q.splice(0,1),G(h,q,d)},o.negated=function(){var h=new A(this);return h.s=-h.s||null,h},o.plus=function(h,p){var x,d=this,g=d.s;if(h=new A(h,p),p=h.s,!g||!p)return new A(NaN);if(g!=p)return h.s=-p,d.minus(h);var v=d.e/pe,b=h.e/pe,m=d.c,C=h.c;if(!v||!b){if(!m||!C)return new A(g/0);if(!m[0]||!C[0])return C[0]?h:new A(m[0]?d:g*0)}if(v=Pe(v),b=Pe(b),m=m.slice(),g=v-b){for(g>0?(b=v,x=C):(g=-g,x=m),x.reverse();g--;x.push(0));x.reverse()}for(g=m.length,p=C.length,g-p<0&&(x=C,C=m,m=x,p=g),g=0;p;)g=(m[--p]=m[p]+C[p]+g)/Ke|0,m[p]=Ke===m[p]?0:m[p]%Ke;return g&&(m=[g].concat(m),++b),G(h,m,b)},o.precision=o.sd=function(h,p){var x,d,g,v=this;if(h!=null&&h!==!!h)return Ee(h,1,_e),p==null?p=f:Ee(p,0,8),$(new A(v),h,p);if(!(x=v.c))return null;if(g=x.length-1,d=g*pe+1,g=x[g]){for(;g%10==0;g/=10,d--);for(g=x[0];g>=10;g/=10,d++);}return h&&v.e+1>d&&(d=v.e+1),d},o.shiftedBy=function(h){return Ee(h,-ln,ln),this.times("1e"+h)},o.squareRoot=o.sqrt=function(){var h,p,x,d,g,v=this,b=v.c,m=v.s,C=v.e,_=u+4,R=new A("0.5");if(m!==1||!b||!b[0])return new A(!m||m<0&&(!b||b[0])?NaN:b?v:1/0);if(m=Math.sqrt(+E(v)),m==0||m==1/0?(p=Me(b),(p.length+C)%2==0&&(p+="0"),m=Math.sqrt(+p),C=Pe((C+1)/2)-(C<0||C%2),m==1/0?p="5e"+C:(p=m.toExponential(),p=p.slice(0,p.indexOf("e")+1)+C),x=new A(p)):x=new A(m+""),x.c[0]){for(C=x.e,m=C+_,m<3&&(m=0);;)if(g=x,x=R.times(g.plus(t(v,g,_,1))),Me(g.c).slice(0,m)===(p=Me(x.c)).slice(0,m))if(x.e<C&&--m,p=p.slice(m-3,m+1),p=="9999"||!d&&p=="4999"){if(!d&&($(g,g.e+u+2,0),g.times(g).eq(v))){x=g;break}_+=4,m+=4,d=1}else{(!+p||!+p.slice(1)&&p.charAt(0)=="5")&&($(x,x.e+u+2,1),h=!x.times(x).eq(v));break}}return $(x,x.e+u+1,f,h)},o.toExponential=function(h,p){return h!=null&&(Ee(h,0,_e),h++),M(this,h,p,1)},o.toFixed=function(h,p){return h!=null&&(Ee(h,0,_e),h=h+this.e+1),M(this,h,p)},o.toFormat=function(h,p,x){var d,g=this;if(x==null)h!=null&&p&&typeof p=="object"?(x=p,p=null):h&&typeof h=="object"?(x=h,h=p=null):x=O;else if(typeof x!="object")throw Error(De+"Argument not an object: "+x);if(d=g.toFixed(h,p),g.c){var v,b=d.split("."),m=+x.groupSize,C=+x.secondaryGroupSize,_=x.groupSeparator||"",R=b[0],z=b[1],j=g.s<0,U=j?R.slice(1):R,q=U.length;if(C&&(v=m,m=C,C=v,q-=v),m>0&&q>0){for(v=q%m||m,R=U.substr(0,v);v<q;v+=m)R+=_+U.substr(v,m);C>0&&(R+=_+U.slice(v)),j&&(R="-"+R)}d=z?R+(x.decimalSeparator||"")+((C=+x.fractionGroupSize)?z.replace(new RegExp("\\d{"+C+"}\\B","g"),"$&"+(x.fractionGroupSeparator||"")):z):R}return(x.prefix||"")+d+(x.suffix||"")},o.toFraction=function(h){var p,x,d,g,v,b,m,C,_,R,z,j,U=this,q=U.c;if(h!=null&&(m=new A(h),!m.isInteger()&&(m.c||m.s!==1)||m.lt(a)))throw Error(De+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+E(m));if(!q)return new A(U);for(p=new A(a),_=x=new A(a),d=C=new A(a),j=Me(q),v=p.e=j.length-U.e-1,p.c[0]=xn[(b=v%pe)<0?pe+b:b],h=!h||m.comparedTo(p)>0?v>0?p:_:m,b=k,k=1/0,m=new A(j),C.c[0]=0;R=t(m,p,0,1),g=x.plus(R.times(d)),g.comparedTo(h)!=1;)x=d,d=g,_=C.plus(R.times(g=_)),C=g,p=m.minus(R.times(g=p)),m=g;return g=t(h.minus(x),d,0,1),C=C.plus(g.times(_)),x=x.plus(g.times(d)),C.s=_.s=U.s,v=v*2,z=t(_,d,v,f).minus(U).abs().comparedTo(t(C,x,v,f).minus(U).abs())<1?[_,d]:[C,x],k=b,z},o.toNumber=function(){return+E(this)},o.toPrecision=function(h,p){return h!=null&&Ee(h,1,_e),M(this,h,p,2)},o.toString=function(h){var p,x=this,d=x.s,g=x.e;return g===null?d?(p="Infinity",d<0&&(p="-"+p)):p="NaN":(h==null?p=g<=B||g>=l?tr(Me(x.c),g):ct(Me(x.c),g,"0"):h===10&&N?(x=$(new A(x),u+g+1,f),p=ct(Me(x.c),x.e,"0")):(Ee(h,2,P.length,"Base"),p=r(ct(Me(x.c),g,"0"),10,h,d,!0)),d<0&&x.c[0]&&(p="-"+p)),p},o.valueOf=o.toJSON=function(){return E(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,n!=null&&A.set(n),A}function Pe(n){var t=n|0;return n>0||n===t?t:t-1}function Me(n){for(var t,r,e=1,o=n.length,a=n[0]+"";e<o;){for(t=n[e++]+"",r=pe-t.length;r--;t="0"+t);a+=t}for(o=a.length;a.charCodeAt(--o)===48;);return a.slice(0,o+1||1)}function Rt(n,t){var r,e,o=n.c,a=t.c,u=n.s,f=t.s,B=n.e,l=t.e;if(!u||!f)return null;if(r=o&&!o[0],e=a&&!a[0],r||e)return r?e?0:-f:u;if(u!=f)return u;if(r=u<0,e=B==l,!o||!a)return e?0:!o^r?1:-1;if(!e)return B>l^r?1:-1;for(f=(B=o.length)<(l=a.length)?B:l,u=0;u<f;u++)if(o[u]!=a[u])return o[u]>a[u]^r?1:-1;return B==l?0:B>l^r?1:-1}function Ee(n,t,r,e){if(n<t||n>r||n!==tt(n))throw Error(De+(e||"Argument")+(typeof n=="number"?n<t||n>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function er(n){var t=n.c.length-1;return Pe(n.e/pe)==t&&n.c[t]%2!=0}function tr(n,t){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(t<0?"e":"e+")+t}function ct(n,t,r){var e,o;if(t<0){for(o=r+".";++t;o+=r);n=o+n}else if(e=n.length,++t>e){for(o=r,t-=e;--t;o+=r);n+=o}else t<e&&(n=n.slice(0,t)+"."+n.slice(t));return n}var fi=Xi(),An={},wr={};wr.byteLength=vf;wr.toByteArray=mf;wr.fromByteArray=Bf;var nt=[],qe=[],yf=typeof Uint8Array<"u"?Uint8Array:Array,pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dt=0,gf=pn.length;Dt<gf;++Dt)nt[Dt]=pn[Dt],qe[pn.charCodeAt(Dt)]=Dt;qe["-".charCodeAt(0)]=62;qe["_".charCodeAt(0)]=63;function Yi(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=t);var e=r===t?0:4-r%4;return[r,e]}function vf(n){var t=Yi(n),r=t[0],e=t[1];return(r+e)*3/4-e}function wf(n,t,r){return(t+r)*3/4-r}function mf(n){var t,r=Yi(n),e=r[0],o=r[1],a=new yf(wf(n,e,o)),u=0,f=o>0?e-4:e,B;for(B=0;B<f;B+=4)t=qe[n.charCodeAt(B)]<<18|qe[n.charCodeAt(B+1)]<<12|qe[n.charCodeAt(B+2)]<<6|qe[n.charCodeAt(B+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=t&255;return o===2&&(t=qe[n.charCodeAt(B)]<<2|qe[n.charCodeAt(B+1)]>>4,a[u++]=t&255),o===1&&(t=qe[n.charCodeAt(B)]<<10|qe[n.charCodeAt(B+1)]<<4|qe[n.charCodeAt(B+2)]>>2,a[u++]=t>>8&255,a[u++]=t&255),a}function bf(n){return nt[n>>18&63]+nt[n>>12&63]+nt[n>>6&63]+nt[n&63]}function Ef(n,t,r){for(var e,o=[],a=t;a<r;a+=3)e=(n[a]<<16&16711680)+(n[a+1]<<8&65280)+(n[a+2]&255),o.push(bf(e));return o.join("")}function Bf(n){for(var t,r=n.length,e=r%3,o=[],a=16383,u=0,f=r-e;u<f;u+=a)o.push(Ef(n,u,u+a>f?f:u+a));return e===1?(t=n[r-1],o.push(nt[t>>2]+nt[t<<4&63]+"==")):e===2&&(t=(n[r-2]<<8)+n[r-1],o.push(nt[t>>10]+nt[t>>4&63]+nt[t<<2&63]+"=")),o.join("")}var Pn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Pn.read=function(n,t,r,e,o){var a,u,f=o*8-e-1,B=(1<<f)-1,l=B>>1,w=-7,k=r?o-1:0,I=r?-1:1,T=n[t+k];for(k+=I,a=T&(1<<-w)-1,T>>=-w,w+=f;w>0;a=a*256+n[t+k],k+=I,w-=8);for(u=a&(1<<-w)-1,a>>=-w,w+=e;w>0;u=u*256+n[t+k],k+=I,w-=8);if(a===0)a=1-l;else{if(a===B)return u?NaN:(T?-1:1)*(1/0);u=u+Math.pow(2,e),a=a-l}return(T?-1:1)*u*Math.pow(2,a-e)};Pn.write=function(n,t,r,e,o,a){var u,f,B,l=a*8-o-1,w=(1<<l)-1,k=w>>1,I=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=e?0:a-1,F=e?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,u=w):(u=Math.floor(Math.log(t)/Math.LN2),t*(B=Math.pow(2,-u))<1&&(u--,B*=2),u+k>=1?t+=I/B:t+=I*Math.pow(2,1-k),t*B>=2&&(u++,B/=2),u+k>=w?(f=0,u=w):u+k>=1?(f=(t*B-1)*Math.pow(2,o),u=u+k):(f=t*Math.pow(2,k-1)*Math.pow(2,o),u=0));o>=8;n[r+T]=f&255,T+=F,f/=256,o-=8);for(u=u<<o|f,l+=o;l>0;n[r+T]=u&255,T+=F,u/=256,l-=8);n[r+T-F]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=wr,r=Pn,e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=f,n.SlowBuffer=A,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,f.TYPED_ARRAY_SUPPORT=a(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const c=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(c,i),c.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(c){if(c>o)throw new RangeError('The value "'+c+'" is invalid for option "size"');const i=new Uint8Array(c);return Object.setPrototypeOf(i,f.prototype),i}function f(c,i,s){if(typeof c=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(c)}return B(c,i,s)}f.poolSize=8192;function B(c,i,s){if(typeof c=="string")return I(c,i);if(ArrayBuffer.isView(c))return F(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(ve(c,ArrayBuffer)||c&&ve(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(c,SharedArrayBuffer)||c&&ve(c.buffer,SharedArrayBuffer)))return O(c,i,s);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=c.valueOf&&c.valueOf();if(y!=null&&y!==c)return f.from(y,i,s);const S=P(c);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return f.from(c[Symbol.toPrimitive]("string"),i,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}f.from=function(c,i,s){return B(c,i,s)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function l(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function w(c,i,s){return l(c),c<=0?u(c):i!==void 0?typeof s=="string"?u(c).fill(i,s):u(c).fill(i):u(c)}f.alloc=function(c,i,s){return w(c,i,s)};function k(c){return l(c),u(c<0?0:N(c)|0)}f.allocUnsafe=function(c){return k(c)},f.allocUnsafeSlow=function(c){return k(c)};function I(c,i){if((typeof i!="string"||i==="")&&(i="utf8"),!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const s=M(c,i)|0;let y=u(s);const S=y.write(c,i);return S!==s&&(y=y.slice(0,S)),y}function T(c){const i=c.length<0?0:N(c.length)|0,s=u(i);for(let y=0;y<i;y+=1)s[y]=c[y]&255;return s}function F(c){if(ve(c,Uint8Array)){const i=new Uint8Array(c);return O(i.buffer,i.byteOffset,i.byteLength)}return T(c)}function O(c,i,s){if(i<0||c.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<i+(s||0))throw new RangeError('"length" is outside of buffer bounds');let y;return i===void 0&&s===void 0?y=new Uint8Array(c):s===void 0?y=new Uint8Array(c,i):y=new Uint8Array(c,i,s),Object.setPrototypeOf(y,f.prototype),y}function P(c){if(f.isBuffer(c)){const i=N(c.length)|0,s=u(i);return s.length===0||c.copy(s,0,0,i),s}if(c.length!==void 0)return typeof c.length!="number"||Fe(c.length)?u(0):T(c);if(c.type==="Buffer"&&Array.isArray(c.data))return T(c.data)}function N(c){if(c>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return c|0}function A(c){return+c!=c&&(c=0),f.alloc(+c)}f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,s){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),ve(s,Uint8Array)&&(s=f.from(s,s.offset,s.byteLength)),!f.isBuffer(i)||!f.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===s)return 0;let y=i.length,S=s.length;for(let D=0,L=Math.min(y,S);D<L;++D)if(i[D]!==s[D]){y=i[D],S=s[D];break}return y<S?-1:S<y?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,s){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);let y;if(s===void 0)for(s=0,y=0;y<i.length;++y)s+=i[y].length;const S=f.allocUnsafe(s);let D=0;for(y=0;y<i.length;++y){let L=i[y];if(ve(L,Uint8Array))D+L.length>S.length?(f.isBuffer(L)||(L=f.from(L)),L.copy(S,D)):Uint8Array.prototype.set.call(S,L,D);else if(f.isBuffer(L))L.copy(S,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=L.length}return S};function M(c,i){if(f.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||ve(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const s=c.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&s===0)return 0;let S=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return Oe(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return We(c).length;default:if(S)return y?-1:Oe(c).length;i=(""+i).toLowerCase(),S=!0}}f.byteLength=M;function H(c,i,s){let y=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,i>>>=0,s<=i))return"";for(c||(c="utf8");;)switch(c){case"hex":return z(this,i,s);case"utf8":case"utf-8":return b(this,i,s);case"ascii":return _(this,i,s);case"latin1":case"binary":return R(this,i,s);case"base64":return v(this,i,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,i,s);default:if(y)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),y=!0}}f.prototype._isBuffer=!0;function G(c,i,s){const y=c[i];c[i]=c[s],c[s]=y}f.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<i;s+=2)G(this,s,s+1);return this},f.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<i;s+=4)G(this,s,s+3),G(this,s+1,s+2);return this},f.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<i;s+=8)G(this,s,s+7),G(this,s+1,s+6),G(this,s+2,s+5),G(this,s+3,s+4);return this},f.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?b(this,0,i):H.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:f.compare(this,i)===0},f.prototype.inspect=function(){let i="";const s=n.INSPECT_MAX_BYTES;return i=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(i+=" ... "),"<Buffer "+i+">"},e&&(f.prototype[e]=f.prototype.inspect),f.prototype.compare=function(i,s,y,S,D){if(ve(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(s===void 0&&(s=0),y===void 0&&(y=i?i.length:0),S===void 0&&(S=0),D===void 0&&(D=this.length),s<0||y>i.length||S<0||D>this.length)throw new RangeError("out of range index");if(S>=D&&s>=y)return 0;if(S>=D)return-1;if(s>=y)return 1;if(s>>>=0,y>>>=0,S>>>=0,D>>>=0,this===i)return 0;let L=D-S,Z=y-s;const ce=Math.min(L,Z),ie=this.slice(S,D),he=i.slice(s,y);for(let ne=0;ne<ce;++ne)if(ie[ne]!==he[ne]){L=ie[ne],Z=he[ne];break}return L<Z?-1:Z<L?1:0};function $(c,i,s,y,S){if(c.length===0)return-1;if(typeof s=="string"?(y=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,Fe(s)&&(s=S?0:c.length-1),s<0&&(s=c.length+s),s>=c.length){if(S)return-1;s=c.length-1}else if(s<0)if(S)s=0;else return-1;if(typeof i=="string"&&(i=f.from(i,y)),f.isBuffer(i))return i.length===0?-1:E(c,i,s,y,S);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(c,i,s):Uint8Array.prototype.lastIndexOf.call(c,i,s):E(c,[i],s,y,S);throw new TypeError("val must be string, number or Buffer")}function E(c,i,s,y,S){let D=1,L=c.length,Z=i.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(c.length<2||i.length<2)return-1;D=2,L/=2,Z/=2,s/=2}function ce(he,ne){return D===1?he[ne]:he.readUInt16BE(ne*D)}let ie;if(S){let he=-1;for(ie=s;ie<L;ie++)if(ce(c,ie)===ce(i,he===-1?0:ie-he)){if(he===-1&&(he=ie),ie-he+1===Z)return he*D}else he!==-1&&(ie-=ie-he),he=-1}else for(s+Z>L&&(s=L-Z),ie=s;ie>=0;ie--){let he=!0;for(let ne=0;ne<Z;ne++)if(ce(c,ie+ne)!==ce(i,ne)){he=!1;break}if(he)return ie}return-1}f.prototype.includes=function(i,s,y){return this.indexOf(i,s,y)!==-1},f.prototype.indexOf=function(i,s,y){return $(this,i,s,y,!0)},f.prototype.lastIndexOf=function(i,s,y){return $(this,i,s,y,!1)};function h(c,i,s,y){s=Number(s)||0;const S=c.length-s;y?(y=Number(y),y>S&&(y=S)):y=S;const D=i.length;y>D/2&&(y=D/2);let L;for(L=0;L<y;++L){const Z=parseInt(i.substr(L*2,2),16);if(Fe(Z))return L;c[s+L]=Z}return L}function p(c,i,s,y){return Be(Oe(i,c.length-s),c,s,y)}function x(c,i,s,y){return Be(at(i),c,s,y)}function d(c,i,s,y){return Be(We(i),c,s,y)}function g(c,i,s,y){return Be(St(i,c.length-s),c,s,y)}f.prototype.write=function(i,s,y,S){if(s===void 0)S="utf8",y=this.length,s=0;else if(y===void 0&&typeof s=="string")S=s,y=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(y)?(y=y>>>0,S===void 0&&(S="utf8")):(S=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-s;if((y===void 0||y>D)&&(y=D),i.length>0&&(y<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let L=!1;for(;;)switch(S){case"hex":return h(this,i,s,y);case"utf8":case"utf-8":return p(this,i,s,y);case"ascii":case"latin1":case"binary":return x(this,i,s,y);case"base64":return d(this,i,s,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,i,s,y);default:if(L)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),L=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(c,i,s){return i===0&&s===c.length?t.fromByteArray(c):t.fromByteArray(c.slice(i,s))}function b(c,i,s){s=Math.min(c.length,s);const y=[];let S=i;for(;S<s;){const D=c[S];let L=null,Z=D>239?4:D>223?3:D>191?2:1;if(S+Z<=s){let ce,ie,he,ne;switch(Z){case 1:D<128&&(L=D);break;case 2:ce=c[S+1],(ce&192)===128&&(ne=(D&31)<<6|ce&63,ne>127&&(L=ne));break;case 3:ce=c[S+1],ie=c[S+2],(ce&192)===128&&(ie&192)===128&&(ne=(D&15)<<12|(ce&63)<<6|ie&63,ne>2047&&(ne<55296||ne>57343)&&(L=ne));break;case 4:ce=c[S+1],ie=c[S+2],he=c[S+3],(ce&192)===128&&(ie&192)===128&&(he&192)===128&&(ne=(D&15)<<18|(ce&63)<<12|(ie&63)<<6|he&63,ne>65535&&ne<1114112&&(L=ne))}}L===null?(L=65533,Z=1):L>65535&&(L-=65536,y.push(L>>>10&1023|55296),L=56320|L&1023),y.push(L),S+=Z}return C(y)}const m=4096;function C(c){const i=c.length;if(i<=m)return String.fromCharCode.apply(String,c);let s="",y=0;for(;y<i;)s+=String.fromCharCode.apply(String,c.slice(y,y+=m));return s}function _(c,i,s){let y="";s=Math.min(c.length,s);for(let S=i;S<s;++S)y+=String.fromCharCode(c[S]&127);return y}function R(c,i,s){let y="";s=Math.min(c.length,s);for(let S=i;S<s;++S)y+=String.fromCharCode(c[S]);return y}function z(c,i,s){const y=c.length;(!i||i<0)&&(i=0),(!s||s<0||s>y)&&(s=y);let S="";for(let D=i;D<s;++D)S+=pt[c[D]];return S}function j(c,i,s){const y=c.slice(i,s);let S="";for(let D=0;D<y.length-1;D+=2)S+=String.fromCharCode(y[D]+y[D+1]*256);return S}f.prototype.slice=function(i,s){const y=this.length;i=~~i,s=s===void 0?y:~~s,i<0?(i+=y,i<0&&(i=0)):i>y&&(i=y),s<0?(s+=y,s<0&&(s=0)):s>y&&(s=y),s<i&&(s=i);const S=this.subarray(i,s);return Object.setPrototypeOf(S,f.prototype),S};function U(c,i,s){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+i>s)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=this[i],D=1,L=0;for(;++L<s&&(D*=256);)S+=this[i+L]*D;return S},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=this[i+--s],D=1;for(;s>0&&(D*=256);)S+=this[i+--s]*D;return S},f.prototype.readUint8=f.prototype.readUInt8=function(i,s){return i=i>>>0,s||U(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,s){return i=i>>>0,s||U(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,s){return i=i>>>0,s||U(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,s){return i=i>>>0,s||U(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,s){return i=i>>>0,s||U(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readBigUInt64LE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=s+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,D=this[++i]+this[++i]*2**8+this[++i]*2**16+y*2**24;return BigInt(S)+(BigInt(D)<<BigInt(32))}),f.prototype.readBigUInt64BE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=s*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],D=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+y;return(BigInt(S)<<BigInt(32))+BigInt(D)}),f.prototype.readIntLE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=this[i],D=1,L=0;for(;++L<s&&(D*=256);)S+=this[i+L]*D;return D*=128,S>=D&&(S-=Math.pow(2,8*s)),S},f.prototype.readIntBE=function(i,s,y){i=i>>>0,s=s>>>0,y||U(i,s,this.length);let S=s,D=1,L=this[i+--S];for(;S>0&&(D*=256);)L+=this[i+--S]*D;return D*=128,L>=D&&(L-=Math.pow(2,8*s)),L},f.prototype.readInt8=function(i,s){return i=i>>>0,s||U(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},f.prototype.readInt16LE=function(i,s){i=i>>>0,s||U(i,2,this.length);const y=this[i]|this[i+1]<<8;return y&32768?y|4294901760:y},f.prototype.readInt16BE=function(i,s){i=i>>>0,s||U(i,2,this.length);const y=this[i+1]|this[i]<<8;return y&32768?y|4294901760:y},f.prototype.readInt32LE=function(i,s){return i=i>>>0,s||U(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,s){return i=i>>>0,s||U(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readBigInt64LE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(y<<24);return(BigInt(S)<<BigInt(32))+BigInt(s+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),f.prototype.readBigInt64BE=Se(function(i){i=i>>>0,ee(i,"offset");const s=this[i],y=this[i+7];(s===void 0||y===void 0)&&Q(i,this.length-8);const S=(s<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(S)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+y)}),f.prototype.readFloatLE=function(i,s){return i=i>>>0,s||U(i,4,this.length),r.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,s){return i=i>>>0,s||U(i,4,this.length),r.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,s){return i=i>>>0,s||U(i,8,this.length),r.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,s){return i=i>>>0,s||U(i,8,this.length),r.read(this,i,!1,52,8)};function q(c,i,s,y,S,D){if(!f.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>S||i<D)throw new RangeError('"value" argument is out of bounds');if(s+y>c.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,s,y,S){if(i=+i,s=s>>>0,y=y>>>0,!S){const Z=Math.pow(2,8*y)-1;q(this,i,s,y,Z,0)}let D=1,L=0;for(this[s]=i&255;++L<y&&(D*=256);)this[s+L]=i/D&255;return s+y},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,s,y,S){if(i=+i,s=s>>>0,y=y>>>0,!S){const Z=Math.pow(2,8*y)-1;q(this,i,s,y,Z,0)}let D=y-1,L=1;for(this[s+D]=i&255;--D>=0&&(L*=256);)this[s+D]=i/L&255;return s+y},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,1,255,0),this[s]=i&255,s+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,65535,0),this[s]=i&255,this[s+1]=i>>>8,s+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,65535,0),this[s]=i>>>8,this[s+1]=i&255,s+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,4294967295,0),this[s+3]=i>>>24,this[s+2]=i>>>16,this[s+1]=i>>>8,this[s]=i&255,s+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,4294967295,0),this[s]=i>>>24,this[s+1]=i>>>16,this[s+2]=i>>>8,this[s+3]=i&255,s+4};function K(c,i,s,y,S){ae(i,y,S,c,s,7);let D=Number(i&BigInt(4294967295));c[s++]=D,D=D>>8,c[s++]=D,D=D>>8,c[s++]=D,D=D>>8,c[s++]=D;let L=Number(i>>BigInt(32)&BigInt(4294967295));return c[s++]=L,L=L>>8,c[s++]=L,L=L>>8,c[s++]=L,L=L>>8,c[s++]=L,s}function W(c,i,s,y,S){ae(i,y,S,c,s,7);let D=Number(i&BigInt(4294967295));c[s+7]=D,D=D>>8,c[s+6]=D,D=D>>8,c[s+5]=D,D=D>>8,c[s+4]=D;let L=Number(i>>BigInt(32)&BigInt(4294967295));return c[s+3]=L,L=L>>8,c[s+2]=L,L=L>>8,c[s+1]=L,L=L>>8,c[s]=L,s+8}f.prototype.writeBigUInt64LE=Se(function(i,s=0){return K(this,i,s,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Se(function(i,s=0){return W(this,i,s,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(i,s,y,S){if(i=+i,s=s>>>0,!S){const ce=Math.pow(2,8*y-1);q(this,i,s,y,ce-1,-ce)}let D=0,L=1,Z=0;for(this[s]=i&255;++D<y&&(L*=256);)i<0&&Z===0&&this[s+D-1]!==0&&(Z=1),this[s+D]=(i/L>>0)-Z&255;return s+y},f.prototype.writeIntBE=function(i,s,y,S){if(i=+i,s=s>>>0,!S){const ce=Math.pow(2,8*y-1);q(this,i,s,y,ce-1,-ce)}let D=y-1,L=1,Z=0;for(this[s+D]=i&255;--D>=0&&(L*=256);)i<0&&Z===0&&this[s+D+1]!==0&&(Z=1),this[s+D]=(i/L>>0)-Z&255;return s+y},f.prototype.writeInt8=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,1,127,-128),i<0&&(i=255+i+1),this[s]=i&255,s+1},f.prototype.writeInt16LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,32767,-32768),this[s]=i&255,this[s+1]=i>>>8,s+2},f.prototype.writeInt16BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,2,32767,-32768),this[s]=i>>>8,this[s+1]=i&255,s+2},f.prototype.writeInt32LE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,2147483647,-2147483648),this[s]=i&255,this[s+1]=i>>>8,this[s+2]=i>>>16,this[s+3]=i>>>24,s+4},f.prototype.writeInt32BE=function(i,s,y){return i=+i,s=s>>>0,y||q(this,i,s,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[s]=i>>>24,this[s+1]=i>>>16,this[s+2]=i>>>8,this[s+3]=i&255,s+4},f.prototype.writeBigInt64LE=Se(function(i,s=0){return K(this,i,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Se(function(i,s=0){return W(this,i,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(c,i,s,y,S,D){if(s+y>c.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function Y(c,i,s,y,S){return i=+i,s=s>>>0,S||V(c,i,s,4),r.write(c,i,s,y,23,4),s+4}f.prototype.writeFloatLE=function(i,s,y){return Y(this,i,s,!0,y)},f.prototype.writeFloatBE=function(i,s,y){return Y(this,i,s,!1,y)};function te(c,i,s,y,S){return i=+i,s=s>>>0,S||V(c,i,s,8),r.write(c,i,s,y,52,8),s+8}f.prototype.writeDoubleLE=function(i,s,y){return te(this,i,s,!0,y)},f.prototype.writeDoubleBE=function(i,s,y){return te(this,i,s,!1,y)},f.prototype.copy=function(i,s,y,S){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(y||(y=0),!S&&S!==0&&(S=this.length),s>=i.length&&(s=i.length),s||(s=0),S>0&&S<y&&(S=y),S===y||i.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),i.length-s<S-y&&(S=i.length-s+y);const D=S-y;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,y,S):Uint8Array.prototype.set.call(i,this.subarray(y,S),s),D},f.prototype.fill=function(i,s,y,S){if(typeof i=="string"){if(typeof s=="string"?(S=s,s=0,y=this.length):typeof y=="string"&&(S=y,y=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!f.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(i.length===1){const L=i.charCodeAt(0);(S==="utf8"&&L<128||S==="latin1")&&(i=L)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(s<0||this.length<s||this.length<y)throw new RangeError("Out of range index");if(y<=s)return this;s=s>>>0,y=y===void 0?this.length:y>>>0,i||(i=0);let D;if(typeof i=="number")for(D=s;D<y;++D)this[D]=i;else{const L=f.isBuffer(i)?i:f.from(i,S),Z=L.length;if(Z===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(D=0;D<y-s;++D)this[D+s]=L[D%Z]}return this};const J={};function le(c,i,s){J[c]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(c,i){return`The "${c}" argument must be of type number. Received type ${typeof i}`},TypeError),le("ERR_OUT_OF_RANGE",function(c,i,s){let y=`The value of "${c}" is out of range.`,S=s;return Number.isInteger(s)&&Math.abs(s)>2**32?S=se(String(s)):typeof s=="bigint"&&(S=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(S=se(S)),S+="n"),y+=` It must be ${i}. Received ${S}`,y},RangeError);function se(c){let i="",s=c.length;const y=c[0]==="-"?1:0;for(;s>=y+4;s-=3)i=`_${c.slice(s-3,s)}${i}`;return`${c.slice(0,s)}${i}`}function ue(c,i,s){ee(i,"offset"),(c[i]===void 0||c[i+s]===void 0)&&Q(i,c.length-(s+1))}function ae(c,i,s,y,S,D){if(c>s||c<i){const L=typeof i=="bigint"?"n":"";let Z;throw D>3?i===0||i===BigInt(0)?Z=`>= 0${L} and < 2${L} ** ${(D+1)*8}${L}`:Z=`>= -(2${L} ** ${(D+1)*8-1}${L}) and < 2 ** ${(D+1)*8-1}${L}`:Z=`>= ${i}${L} and <= ${s}${L}`,new J.ERR_OUT_OF_RANGE("value",Z,c)}ue(y,S,D)}function ee(c,i){if(typeof c!="number")throw new J.ERR_INVALID_ARG_TYPE(i,"number",c)}function Q(c,i,s){throw Math.floor(c)!==c?(ee(c,s),new J.ERR_OUT_OF_RANGE(s||"offset","an integer",c)):i<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${i}`,c)}const fe=/[^+/0-9A-Za-z-_]/g;function st(c){if(c=c.split("=")[0],c=c.trim().replace(fe,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function Oe(c,i){i=i||1/0;let s;const y=c.length;let S=null;const D=[];for(let L=0;L<y;++L){if(s=c.charCodeAt(L),s>55295&&s<57344){if(!S){if(s>56319){(i-=3)>-1&&D.push(239,191,189);continue}else if(L+1===y){(i-=3)>-1&&D.push(239,191,189);continue}S=s;continue}if(s<56320){(i-=3)>-1&&D.push(239,191,189),S=s;continue}s=(S-55296<<10|s-56320)+65536}else S&&(i-=3)>-1&&D.push(239,191,189);if(S=null,s<128){if((i-=1)<0)break;D.push(s)}else if(s<2048){if((i-=2)<0)break;D.push(s>>6|192,s&63|128)}else if(s<65536){if((i-=3)<0)break;D.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((i-=4)<0)break;D.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return D}function at(c){const i=[];for(let s=0;s<c.length;++s)i.push(c.charCodeAt(s)&255);return i}function St(c,i){let s,y,S;const D=[];for(let L=0;L<c.length&&!((i-=2)<0);++L)s=c.charCodeAt(L),y=s>>8,S=s%256,D.push(S),D.push(y);return D}function We(c){return t.toByteArray(st(c))}function Be(c,i,s,y){let S;for(S=0;S<y&&!(S+s>=i.length||S>=c.length);++S)i[S+s]=c[S];return S}function ve(c,i){return c instanceof i||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===i.name}function Fe(c){return c!==c}const pt=function(){const c="0123456789abcdef",i=new Array(256);for(let s=0;s<16;++s){const y=s*16;for(let S=0;S<16;++S)i[y+S]=c[s]+c[S]}return i}();function Se(c){return typeof BigInt>"u"?Ze:c}function Ze(){throw new Error("BigInt not supported")}})(An);class Sf{static toMessage(t){const r=new ar;if(t.message_idstr?r.messageID=t.message_idstr:r.messageID=new fi(t.message_id).toString(),t.header&&(r.header.reddot=t.header.red_dot===1),t.setting&&(r.setting=yr.fromUint8(t.setting)),t.revoke&&(r.remoteExtra.revoke=t.revoke===1),t.message_extra){const B=t.message_extra;r.remoteExtra=this.toMessageExtra(B)}r.clientSeq=t.client_seq,r.channel=new ht(t.channel_id,t.channel_type),r.messageSeq=t.message_seq,r.clientMsgNo=t.client_msg_no,r.streamNo=t.stream_no,r.streamFlag=t.stream_flag,r.fromUID=t.from_uid,r.timestamp=t.timestamp,r.status=Kt.Normal;const e=An.Buffer.from(t.payload,"base64"),o=JSON.parse(e.toString("utf8"));let a=0;o&&(a=o.type);const u=oe.shared().getMessageContent(a);o&&u.decode(this.stringToUint8Array(JSON.stringify(o))),r.content=u,r.isDeleted=t.is_deleted===1;const f=t.streams;if(f&&f.length>0){const B=new Array;for(const l of f){const w=new Za;if(w.clientMsgNo=l.client_msg_no,w.streamSeq=l.stream_seq,l.blob&&l.blob.length>0){const k=An.Buffer.from(l.blob,"base64"),I=JSON.parse(k.toString("utf8"));I.type;const T=oe.shared().getMessageContent(a);I&&T.decode(this.stringToUint8Array(JSON.stringify(I))),w.clientMsgNo=l.client_msg_no,w.streamSeq=l.stream_seq,w.content=T}B.push(w)}r.streams=B}return r}static toMessageExtra(t){const r=new $i;t.message_id_str?r.messageID=t.message_id_str:r.messageID=new fi(t.message_id).toString(),r.messageSeq=t.message_seq,r.readed=t.readed===1,t.readed_at&&t.readed_at>0&&(r.readedAt=new Date(t.readed_at)),r.revoke=t.revoke===1,t.revoker&&(r.revoker=t.revoker),r.readedCount=t.readed_count||0,r.unreadCount=t.unread_count||0,r.extraVersion=t.extra_version||0,r.editedAt=t.edited_at||0;const e=t.content_edit;if(e){const o=e.type,a=oe.shared().getMessageContent(o),u=this.stringToUint8Array(JSON.stringify(e));a.decode(u),r.contentEditData=u,r.contentEdit=a,r.isEdit=!0}return r}static stringToUint8Array(t){const r=unescape(encodeURIComponent(t));for(var e=[],o=0,a=r.length;o<a;++o)e.push(r.charCodeAt(o));var u=new Uint8Array(e);return u}}class Cf{constructor(){Ge(this,"_apiURL","");Ge(this,"_token","");Ge(this,"tokenCallback")}set apiURL(t){this._apiURL=t,Ct.defaults.baseURL=t}get apiURL(){return this._apiURL}}const At=class{constructor(){Ge(this,"config",new Cf);Ge(this,"logoutCallback");Ge(this,"joinChannel",(t,r,e)=>{At.shared.post("/channel/subscriber_add",{channel_id:t,channel_type:r,subscribers:[e]}).then(o=>{console.log(o)}).catch(o=>{console.log(o),alert(o.msg)})});Ge(this,"syncMessages",async(t,r)=>{let e=new Array;const o=30,a=await At.shared.post("/channel/messagesync",{login_uid:oe.shared().config.uid,channel_id:t.channelID,channel_type:t.channelType,start_message_seq:r.startMessageSeq,end_message_seq:r.endMessageSeq,pull_mode:r.pullMode,limit:o}),u=a&&a.messages;return u&&u.forEach(f=>{const B=Sf.toMessage(f);e.push(B)}),e});Ge(this,"messageStreamStart",t=>At.shared.post("/streammessage/start",t));Ge(this,"messageStreamEnd",t=>At.shared.post("/streammessage/end",t));this.initAxios()}initAxios(){const t=this;Ct.interceptors.request.use(function(r){let e;return t.config.tokenCallback&&(e=t.config.tokenCallback()),e&&e!==""&&(r.headers.token=e),r}),Ct.interceptors.response.use(function(r){return r},function(r){var o;var e="";switch(r.response&&r.response.status){case 400:e=r.response.data.msg;break;case 404:e="请求地址没有找到（404）";break;case 401:t.logoutCallback&&t.logoutCallback();default:e="未知错误";break}return Promise.reject({error:r,msg:e,status:(o=r==null?void 0:r.response)==null?void 0:o.status})})}get(t,r){return this.wrapResult(Ct.get(t,{params:r==null?void 0:r.param}),r)}post(t,r,e){return this.wrapResult(Ct.post(t,r,{}),e)}put(t,r,e){return this.wrapResult(Ct.put(t,r,{params:e==null?void 0:e.param}),e)}delete(t,r){return this.wrapResult(Ct.delete(t,{params:r==null?void 0:r.param,data:r==null?void 0:r.data}),r)}async wrapResult(t,r){return t?t.then(e=>{if(!r||!r.resp)return Promise.resolve(e.data);if(e.data){const u=new Array;if(e.data instanceof Array){for(const f of e.data){var o=r.resp();o.fill(f),u.push(o)}return u}else{var a=r.resp();return a.fill(e.data),Promise.resolve(a)}}return Promise.resolve()}):Promise.reject()}};let dn=At;Ge(dn,"shared",new At);export{dn as A,Ff as C,Kt as M,Q0 as P,yr as S,oe as W,ht as a,ke as b,Z0 as c,xt as d,An as e,If as f,Za as g,ar as h};
